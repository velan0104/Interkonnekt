"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@cloudinary-util";
exports.ids = ["vendor-chunks/@cloudinary-util"];
exports.modules = {

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-L3YIXMGG.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/dist/chunk-L3YIXMGG.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assetOptionsSchema: () => (/* binding */ assetOptionsSchema),\n/* harmony export */   constructCloudinaryUrl: () => (/* binding */ constructCloudinaryUrl),\n/* harmony export */   constructUrlPropsSchema: () => (/* binding */ constructUrlPropsSchema),\n/* harmony export */   effects: () => (/* binding */ effects),\n/* harmony export */   imageOptionsSchema: () => (/* binding */ imageOptionsSchema),\n/* harmony export */   position: () => (/* binding */ position),\n/* harmony export */   primary: () => (/* binding */ primary),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   transformationPlugins: () => (/* binding */ transformationPlugins),\n/* harmony export */   videoOptionsSchema: () => (/* binding */ videoOptionsSchema)\n/* harmony export */ });\n/* harmony import */ var _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/url-loader/node_modules/@cloudinary-util/util/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _cloudinary_url_gen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cloudinary/url-gen */ \"(ssr)/./node_modules/@cloudinary/url-gen/instance/Cloudinary.js\");\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/constants/qualifiers.ts\n\n\n\n// src/constants/parameters.ts\nvar parameters_exports = {};\n__export(parameters_exports, {\n  angle: () => angle,\n  aspectRatio: () => aspectRatio,\n  aspectRatioModesEnum: () => aspectRatioModesEnum,\n  crop: () => crop,\n  cropModesEnum: () => cropModesEnum,\n  extractMode: () => extractMode,\n  extractModesEnum: () => extractModesEnum,\n  flags: () => flags,\n  flagsEnum: () => flagsEnum,\n  format: () => format,\n  gravity: () => gravity,\n  height: () => height,\n  multiple: () => multiple,\n  prompt: () => prompt,\n  width: () => width,\n  x: () => x,\n  y: () => y,\n  zoom: () => zoom\n});\n\nvar cropModesEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"auto\",\n  \"crop\",\n  \"fill\",\n  \"fill_pad\",\n  \"fit\",\n  \"imagga_crop\",\n  \"imagga_scale\",\n  \"lfill\",\n  \"limit\",\n  \"lpad\",\n  \"mfit\",\n  \"mpad\",\n  \"pad\",\n  \"scale\",\n  \"thumb\"\n]);\nvar extractModesEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"content\",\n  \"mask\"\n]);\nvar flagsEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"animated\",\n  \"any_format\",\n  \"apng\",\n  \"attachment\",\n  \"awebp\",\n  \"clip\",\n  \"clip_evenodd\",\n  \"cutter\",\n  \"force_icc\",\n  \"force_strip\",\n  \"getinfo\",\n  \"group4\",\n  \"hlsv3\",\n  \"ignore_aspect_ratio\",\n  \"ignore_mask_channels\",\n  \"immutable_cache\",\n  \"keep_attribution\",\n  \"keep_dar\",\n  \"keep_iptc\",\n  \"layer_apply\",\n  \"lossy\",\n  \"mono\",\n  \"no_overflow\",\n  \"no_stream\",\n  \"png8_fl_png24_fl_png32\",\n  \"preserve_transparency\",\n  \"progressive\",\n  \"rasterize\",\n  \"region_relative\",\n  \"relative\",\n  \"replace_image\",\n  \"sanitize\",\n  \"splice\",\n  \"streaming_attachment\",\n  \"strip_profile\",\n  \"text_disallow_overflow\",\n  \"text_no_trim\",\n  \"tiff8_lzw\",\n  \"tiled\",\n  \"truncate_ts\",\n  \"waveform\"\n]);\nvar angle = {\n  qualifier: \"a\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Rotates or flips an asset by the specified number of degrees or automatically according to its orientation or available metadata.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#a_angle\"\n    })\n  )\n};\nvar aspectRatioModesEnum = zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n  \"vflip\",\n  \"hflip\",\n  \"ignore\",\n  \"auto_right\",\n  \"auto_left\"\n]);\nvar aspectRatioSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.number(),\n  aspectRatioModesEnum,\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.intersection(zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.object({}))\n  // Quirk to allow enum + string\n]);\nvar aspectRatio = {\n  qualifier: \"ar\",\n  schema: aspectRatioSchema.describe(\n    JSON.stringify({\n      text: \"Crops or resizes the asset to a new aspect ratio.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#ar_aspect_ratio\"\n    })\n  )\n};\nvar cropSchema = cropModesEnum;\nvar crop = {\n  qualifier: \"c\",\n  schema: cropSchema.describe(\n    JSON.stringify({\n      text: \"Mode to use when cropping an asset.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#c_crop_resize\"\n    })\n  )\n};\nvar extractModeSchema = extractModesEnum;\nvar extractMode = {\n  schema: extractModeSchema.default(\"content\").describe(\n    JSON.stringify({\n      text: \"Whether to keep the content of the extracted area, or to replace it with a mask.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_extract\"\n    })\n  )\n};\nvar flags = {\n  qualifier: \"fl\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([flagsEnum, zod__WEBPACK_IMPORTED_MODULE_0__.z.array(flagsEnum)]).describe(\n    JSON.stringify({\n      text: \"Alters the regular behavior of another transformation or the overall delivery behavior.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#fl_flag\"\n    })\n  )\n};\nvar format = {\n  qualifier: \"f\",\n  // @TODO: enum\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Converts (if necessary) and delivers an asset in the specified format regardless of the file extension used in the delivery URL.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n    })\n  )\n};\nvar gravitySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n    \"auto\",\n    \"auto_content_aware\",\n    \"center\",\n    \"custom\",\n    \"east\",\n    \"face\",\n    \"face_center\",\n    \"multi_face\",\n    \"north\",\n    \"north_east\",\n    \"north_west\",\n    \"south\",\n    \"south_east\",\n    \"south_west\",\n    \"west\"\n  ]),\n  // Quirk to allow enum + string\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.intersection(zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.object({}))\n]);\nvar gravity = {\n  qualifier: \"g\",\n  schema: gravitySchema.describe(\n    JSON.stringify({\n      text: \"Determines which part of an asset to focus on. Note: Default of auto is applied for supported crop modes only.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#g_gravity\"\n    })\n  )\n};\nvar heightSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]);\nvar height = {\n  qualifier: \"h\",\n  schema: heightSchema.describe(\n    JSON.stringify({\n      text: \"A qualifier that determines the height of a transformed asset or an overlay.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#h_height\"\n    })\n  )\n};\nvar multipleSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean();\nvar multiple = {\n  schema: multipleSchema.describe(\n    JSON.stringify({\n      text: \"Should generative AI features detect multiple instances.\"\n    })\n  )\n};\nvar prompt = {\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Natural language descriptions used for generative AI capabilities.\"\n    })\n  )\n};\nvar widthSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]);\nvar width = {\n  qualifier: \"w\",\n  schema: widthSchema.describe(\n    JSON.stringify({\n      text: \"A qualifier that sets the desired width of an asset using a specified value, or automatically based on the available width.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#w_width\"\n    })\n  )\n};\nvar x = {\n  qualifier: \"x\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Adjusts the starting location or offset of the x axis.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n    })\n  )\n};\nvar y = {\n  qualifier: \"y\",\n  schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Adjusts the starting location or offset of the y axis.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n    })\n  )\n};\nvar zoomSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar zoom = {\n  schema: zoomSchema.describe(\n    JSON.stringify({\n      text: \"Controls how close to crop to the detected coordinates when using face-detection, custom-coordinate, or object-specific gravity.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#z_zoom\"\n    })\n  )\n};\n\n// src/constants/qualifiers.ts\nvar convertersColors = [\n  {\n    test: _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.testColorIsHex,\n    convert: _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.convertColorHexToRgb\n  }\n];\nvar primary = {\n  aspectRatio,\n  crop,\n  gravity,\n  height,\n  width\n};\nvar position = {\n  angle,\n  gravity,\n  x,\n  y\n};\nvar text = {\n  alignment: {\n    qualifier: false,\n    order: 6\n  },\n  antialias: {\n    qualifier: \"antialias\"\n  },\n  border: {\n    qualifier: \"bo\",\n    location: \"primary\"\n  },\n  color: {\n    qualifier: \"co\",\n    location: \"primary\",\n    converters: convertersColors\n  },\n  fontFamily: {\n    qualifier: false,\n    order: 1\n  },\n  fontSize: {\n    qualifier: false,\n    order: 2\n  },\n  fontStyle: {\n    qualifier: false,\n    order: 4\n  },\n  fontWeight: {\n    qualifier: false,\n    order: 3\n  },\n  hinting: {\n    qualifier: \"hinting\"\n  },\n  letterSpacing: {\n    qualifier: \"letter_spacing\"\n  },\n  lineSpacing: {\n    qualifier: \"line_spacing\"\n  },\n  stroke: {\n    qualifier: \"self\",\n    order: 7\n  },\n  textDecoration: {\n    qualifier: false,\n    order: 5\n  }\n};\nvar effects = {\n  angle,\n  art: {\n    prefix: \"e\",\n    qualifier: \"art\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Applies the selected artistic filter.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_art\"\n      })\n    )\n  },\n  autoBrightness: {\n    prefix: \"e\",\n    qualifier: \"auto_brightness\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Automatically adjusts the image brightness and blends the result with the original image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_brightness\"\n      })\n    )\n  },\n  autoColor: {\n    prefix: \"e\",\n    qualifier: \"auto_color\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Automatically adjusts the image color balance and blends the result with the original image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_color\"\n      })\n    )\n  },\n  autoContrast: {\n    prefix: \"e\",\n    qualifier: \"auto_contrast\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Automatically adjusts the image contrast and blends the result with the original image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_contrast\"\n      })\n    )\n  },\n  assistColorblind: {\n    prefix: \"e\",\n    qualifier: \"assist_colorblind\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies stripes or color adjustment to help people with common color blind conditions to differentiate between colors that are similar for them.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_assist_colorblind\"\n      })\n    )\n  },\n  background: {\n    qualifier: \"b\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Applies a background to empty or transparent areas.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#b_background\"\n      })\n    )\n  },\n  blackwhite: {\n    prefix: \"e\",\n    qualifier: \"blackwhite\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Converts an image to black and white.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_blackwhite\"\n      })\n    )\n  },\n  blur: {\n    prefix: \"e\",\n    qualifier: \"blur\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a blurring filter to an asset.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_blur\"\n      })\n    )\n  },\n  blurFaces: {\n    prefix: \"e\",\n    qualifier: \"blur_faces\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Blurs all detected faces in an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_faces\"\n      })\n    )\n  },\n  blurRegion: {\n    prefix: \"e\",\n    qualifier: \"blur_region\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a blurring filter to the region of an image specified by x, y, width and height, or an area of text. If no region is specified, the whole image is blurred.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_region\"\n      })\n    )\n  },\n  border: {\n    qualifier: \"bo\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Adds a solid border around an image or video.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#bo_border\"\n      })\n    )\n  },\n  brightness: {\n    prefix: \"e\",\n    qualifier: \"brightness\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts the image or video brightness.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness\"\n      })\n    )\n  },\n  brightnessHSB: {\n    prefix: \"e\",\n    qualifier: \"brightness_hsb\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts image brightness modulation in HSB to prevent artifacts in some images.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness_hsb\"\n      })\n    )\n  },\n  cartoonify: {\n    prefix: \"e\",\n    qualifier: \"cartoonify\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a cartoon effect to an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_cartoonify\"\n      })\n    )\n  },\n  color: {\n    qualifier: \"co\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"A qualifier that specifies the color to use with the corresponding transformation.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#co_color\"\n      })\n    ),\n    converters: convertersColors\n  },\n  colorize: {\n    prefix: \"e\",\n    qualifier: \"colorize\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Colorizes an image. By default, gray is used for colorization. You can specify a different color using the color qualifier.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_colorize\"\n      })\n    )\n  },\n  contrast: {\n    prefix: \"e\",\n    qualifier: \"contrast\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts an image or video contrast.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_contrast\"\n      })\n    )\n  },\n  displace: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Displaces the pixels in an image according to the color channels of the pixels in another specified image (a gradient map specified with the overlay parameter).\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_displace\"\n      })\n    )\n  },\n  distort: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Distorts an image to a new shape by either adjusting its corners or by warping it into an arc.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_distort\"\n      })\n    )\n  },\n  fillLight: {\n    prefix: \"e\",\n    qualifier: \"fill_light\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts the fill light and optionally blends the result with the original image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_fill_light\"\n      })\n    )\n  },\n  gamma: {\n    prefix: \"e\",\n    qualifier: \"gamma\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts the image or video gamma level.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_gamma\"\n      })\n    )\n  },\n  gradientFade: {\n    prefix: \"e\",\n    qualifier: \"gradient_fade\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a gradient fade effect from the edge of an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_gradient_fade\"\n      })\n    )\n  },\n  grayscale: {\n    prefix: \"e\",\n    qualifier: \"grayscale\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n      JSON.stringify({\n        text: \"Converts an image to grayscale (multiple shades of gray).\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_grayscale\"\n      })\n    )\n  },\n  hue: {\n    prefix: \"e\",\n    qualifier: \"hue\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts an image's hue.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_hue\"\n      })\n    )\n  },\n  improve: {\n    prefix: \"e\",\n    qualifier: \"improve\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts an image's colors, contrast and brightness to improve its appearance.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_improve\"\n      })\n    )\n  },\n  loop: {\n    prefix: \"e\",\n    qualifier: \"loop\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]).describe(\n      JSON.stringify({\n        text: \"Loops a video or animated image the specified number of times.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_loop\"\n      })\n    )\n  },\n  multiply: {\n    prefix: \"e\",\n    qualifier: \"multiply\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n      JSON.stringify({\n        text: \"A qualifier that blends image layers using the multiply blend mode\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_multiply\"\n      })\n    )\n  },\n  negate: {\n    prefix: \"e\",\n    qualifier: \"negate\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"https://cloudinary.com/documentation/transformation_reference#e_negate\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_negate\"\n      })\n    )\n  },\n  noise: {\n    prefix: \"e\",\n    qualifier: \"noise\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n      JSON.stringify({\n        text: \"https://cloudinary.com/documentation/transformation_reference#e_noise\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_noise\"\n      })\n    )\n  },\n  oilPaint: {\n    prefix: \"e\",\n    qualifier: \"oil_paint\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\"\n      })\n    )\n  },\n  opacity: {\n    qualifier: \"o\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n      JSON.stringify({\n        text: \"Adjusts the opacity of an asset and makes it semi-transparent.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#o_opacity\"\n      })\n    )\n  },\n  outline: {\n    prefix: \"e\",\n    qualifier: \"outline\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adds an outline effect to an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_outline\"\n      })\n    )\n  },\n  pixelate: {\n    prefix: \"e\",\n    qualifier: \"pixelate\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a pixelation effect.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate\"\n      })\n    )\n  },\n  pixelateFaces: {\n    prefix: \"e\",\n    qualifier: \"pixelate_faces\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Pixelates all detected faces in an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_faces\"\n      })\n    )\n  },\n  pixelateRegion: {\n    prefix: \"e\",\n    qualifier: \"pixelate_region\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Pixelates the region of an image specified by x, y, width and height, or an area of text.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_region\"\n      })\n    )\n  },\n  radius: {\n    qualifier: \"r\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n      JSON.stringify({\n        text: \"Rounds the corners of an image or video.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#r_round_corners\"\n      })\n    )\n  },\n  redeye: {\n    prefix: \"e\",\n    qualifier: \"redeye\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Automatically removes red eyes in an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_redeye\"\n      })\n    )\n  },\n  replaceColor: {\n    prefix: \"e\",\n    qualifier: \"replace_color\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Maps an input color and those similar to the input color to corresponding shades of a specified output color.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_replace_color\"\n      })\n    )\n  },\n  saturation: {\n    prefix: \"e\",\n    qualifier: \"saturation\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adjusts an image or video saturation level.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_saturation\"\n      })\n    )\n  },\n  screen: {\n    prefix: \"e\",\n    qualifier: \"screen\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n      JSON.stringify({\n        text: \"A qualifier that blends image layers using the screen blend mode.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_screen\"\n      })\n    )\n  },\n  sepia: {\n    prefix: \"e\",\n    qualifier: \"sepia\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Changes the color scheme of an image to sepia.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_sepia\"\n      })\n    )\n  },\n  shadow: {\n    prefix: \"e\",\n    qualifier: \"shadow\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Adds a gray shadow to the bottom right of an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_shadow\"\n      })\n    )\n  },\n  sharpen: {\n    prefix: \"e\",\n    qualifier: \"sharpen\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a sharpening filter.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_sharpen\"\n      })\n    )\n  },\n  shear: {\n    prefix: \"e\",\n    qualifier: \"shear\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n      JSON.stringify({\n        text: \"Skews an image according to the two specified values in degrees.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_shear\"\n      })\n    )\n  },\n  simulateColorblind: {\n    prefix: \"e\",\n    qualifier: \"simulate_colorblind\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Simulates the way an image would appear to someone with the specified color blind condition.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_simulate_colorblind\"\n      })\n    )\n  },\n  tint: {\n    prefix: \"e\",\n    qualifier: \"tint\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Blends an image with one or more tint colors at a specified intensity.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_tint\"\n      })\n    )\n  },\n  trim: {\n    prefix: \"e\",\n    qualifier: \"trim\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Detects and removes image edges whose color is similar to the corner pixels.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_trim\"\n      })\n    )\n  },\n  unsharpMask: {\n    prefix: \"e\",\n    qualifier: \"unsharp_mask\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies an unsharp mask filter to an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_unsharp_mask\"\n      })\n    )\n  },\n  vectorize: {\n    prefix: \"e\",\n    qualifier: \"vectorize\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Vectorizes an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_vectorize\"\n      })\n    )\n  },\n  vibrance: {\n    prefix: \"e\",\n    qualifier: \"vibrance\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a vibrance filter to an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_vibrance\"\n      })\n    )\n  },\n  vignette: {\n    prefix: \"e\",\n    qualifier: \"vignette\",\n    schema: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n      JSON.stringify({\n        text: \"Applies a vignette effect to an image.\",\n        url: \"https://cloudinary.com/documentation/transformation_reference#e_vignette\"\n      })\n    )\n  }\n};\n\n// src/types/asset.ts\n\n\n// src/plugins/cropping.ts\n\n\n// src/lib/transformations.ts\nfunction constructTransformation({\n  prefix,\n  qualifier,\n  value,\n  converters\n}) {\n  let transformation = \"\";\n  if (prefix) {\n    transformation = `${prefix}_`;\n  }\n  let transformationValue = value;\n  converters?.forEach(({ test, convert }) => {\n    if (!test(transformationValue)) return;\n    transformationValue = convert(transformationValue);\n  });\n  if (transformationValue === true || transformationValue === \"true\") {\n    return `${transformation}${qualifier}`;\n  }\n  if (typeof transformationValue === \"string\" || typeof transformationValue === \"number\") {\n    if (prefix) {\n      return `${transformation}${qualifier}:${transformationValue}`;\n    } else {\n      return `${qualifier}_${transformationValue}`;\n    }\n  }\n}\nfunction promptArrayToString(promptArray) {\n  return `(${promptArray.join(\";\")})`;\n}\nfunction normalizeNumberParameter(param) {\n  if (typeof param !== \"string\") return param;\n  return parseInt(param);\n}\n\n// src/plugins/cropping.ts\nvar cropsAspectRatio = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsGravityAuto = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsWithZoom = [\"crop\", \"thumb\"];\nvar DEFAULT_CROP = \"limit\";\nvar cropOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  aspectRatio: aspectRatio.schema.optional(),\n  type: crop.schema,\n  gravity: gravity.schema.optional(),\n  height: height.schema.optional(),\n  width: width.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional(),\n  zoom: zoom.schema.optional(),\n  source: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar croppingProps = {\n  aspectRatio: aspectRatio.schema.optional(),\n  crop: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    crop.schema,\n    cropOptionsSchema,\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(cropOptionsSchema)\n  ]).default(DEFAULT_CROP).optional(),\n  gravity: gravity.schema.optional(),\n  zoom: zoom.schema.optional()\n};\nvar croppingPlugin = {\n  props: croppingProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    let crops = [];\n    if (typeof options.crop === \"string\" || typeof options.crop === \"undefined\") {\n      crops.push({\n        aspectRatio: options.aspectRatio,\n        height: options.height,\n        gravity: options.gravity,\n        type: options.crop || DEFAULT_CROP,\n        width: options.width,\n        zoom: options.zoom\n      });\n    } else if (typeof options.crop === \"object\" && !Array.isArray(options.crop)) {\n      crops.push(options.crop);\n    } else if (Array.isArray(options.crop)) {\n      crops = options.crop;\n    }\n    if (crops.length === 1 && crops[0].source === true) {\n      crops.push({\n        aspectRatio: options.aspectRatio,\n        width: options.width,\n        height: options.height,\n        gravity: options.gravity,\n        type: DEFAULT_CROP,\n        zoom: options.zoom\n      });\n    }\n    const finalTransformations = [];\n    const sourceTransformations = [];\n    for (const crop2 of crops) {\n      const cropDimensions = {\n        width: crop2.width,\n        height: crop2.height\n      };\n      if (typeof cropDimensions.width === \"undefined\" && typeof crop2.aspectRatio === \"undefined\") {\n        cropDimensions.width = options.width;\n        if (typeof cropDimensions.height === \"undefined\") {\n          cropDimensions.height = options.height;\n        }\n      }\n      const transformations = collectTransformations({\n        aspectRatio: crop2.aspectRatio,\n        gravity: crop2.gravity,\n        type: crop2.type || DEFAULT_CROP,\n        x: crop2.x,\n        y: crop2.y,\n        zoom: crop2.zoom,\n        ...cropDimensions\n      });\n      if (transformations.length > 0) {\n        if (crop2.source === true) {\n          sourceTransformations.push(transformations);\n        } else {\n          finalTransformations.push(transformations);\n        }\n      }\n    }\n    sourceTransformations.forEach((transformation) => {\n      if (transformation.length > 0) {\n        cldAsset.addTransformation(transformation.join(\",\"));\n      }\n    });\n    const results = {\n      options: {}\n    };\n    if (results.options && finalTransformations.length > 0) {\n      results.options.resize = finalTransformations.map((transformation) => transformation.join(\",\")).join(\"/\");\n    }\n    return results;\n  }\n};\nfunction collectTransformations(collectOptions) {\n  const { aspectRatio: aspectRatio2, type: crop2, x: x2, y: y2, zoom: zoom2 } = collectOptions;\n  let gravity2 = collectOptions.gravity;\n  const height2 = normalizeNumberParameter(collectOptions.height);\n  const width2 = normalizeNumberParameter(collectOptions.width);\n  const transformations = [];\n  const hasDefinedDimensions = height2 || width2;\n  const hasValidAspectRatio = aspectRatio2 && cropsAspectRatio.includes(crop2);\n  const hasXCoordinate = typeof x2 === \"number\" || typeof x2 === \"string\";\n  const hasYCoordinate = typeof y2 === \"number\" || typeof y2 === \"string\";\n  const hasDefinedCoordinates = hasXCoordinate || hasYCoordinate;\n  if (crop2 && (hasDefinedDimensions || hasValidAspectRatio || hasDefinedCoordinates)) {\n    transformations.push(`c_${crop2}`);\n  }\n  if (hasValidAspectRatio) {\n    transformations.push(`ar_${aspectRatio2}`);\n  }\n  if (width2) {\n    transformations.push(`w_${width2}`);\n  }\n  if (![\"limit\"].includes(crop2) && typeof height2 === \"number\") {\n    transformations.push(`h_${height2}`);\n  }\n  if (hasXCoordinate) {\n    transformations.push(`x_${x2}`);\n  }\n  if (hasYCoordinate) {\n    transformations.push(`y_${y2}`);\n  }\n  if (!gravity2 && cropsGravityAuto.includes(crop2) && !hasDefinedCoordinates) {\n    gravity2 = \"auto\";\n  }\n  if (gravity2) {\n    if (gravity2 === \"auto\" && !cropsGravityAuto.includes(crop2)) {\n      console.warn(\n        `Auto gravity can only be used with crop modes: ${cropsGravityAuto.join(\n          \", \"\n        )}. Not applying gravity.`\n      );\n    } else {\n      transformations.push(`g_${gravity2}`);\n    }\n  }\n  if (zoom2) {\n    if (zoom2 === \"auto\" && !cropsWithZoom.includes(crop2)) {\n      console.warn(\n        `Zoom can only be used with crop modes: ${cropsWithZoom.join(\n          \", \"\n        )}. Not applying zoom.`\n      );\n    } else {\n      transformations.push(`z_${zoom2}`);\n    }\n  }\n  return transformations;\n}\n\n// src/plugins/effects.ts\n\nvar effectProps = {\n  angle: effects.angle.schema.optional(),\n  art: effects.art.schema.optional(),\n  autoBrightness: effects.autoBrightness.schema.optional(),\n  autoColor: effects.autoColor.schema.optional(),\n  autoContrast: effects.autoContrast.schema.optional(),\n  assistColorblind: effects.assistColorblind.schema.optional(),\n  background: effects.background.schema.optional(),\n  blackwhite: effects.blackwhite.schema.optional(),\n  blur: effects.blur.schema.optional(),\n  blurFaces: effects.blurFaces.schema.optional(),\n  blurRegion: effects.blurRegion.schema.optional(),\n  border: effects.border.schema.optional(),\n  brightness: effects.brightness.schema.optional(),\n  brightnessHSB: effects.brightnessHSB.schema.optional(),\n  cartoonify: effects.cartoonify.schema.optional(),\n  color: effects.color.schema.optional(),\n  colorize: effects.colorize.schema.optional(),\n  contrast: effects.contrast.schema.optional(),\n  distort: effects.distort.schema.optional(),\n  fillLight: effects.fillLight.schema.optional(),\n  gamma: effects.gamma.schema.optional(),\n  gradientFade: effects.gradientFade.schema.optional(),\n  grayscale: effects.grayscale.schema.optional(),\n  improve: effects.improve.schema.optional(),\n  loop: effects.loop.schema.optional(),\n  multiply: effects.multiply.schema.optional(),\n  negate: effects.negate.schema.optional(),\n  oilPaint: effects.oilPaint.schema.optional(),\n  opacity: effects.opacity.schema.optional(),\n  outline: effects.outline.schema.optional(),\n  pixelate: effects.pixelate.schema.optional(),\n  pixelateFaces: effects.pixelateFaces.schema.optional(),\n  pixelateRegion: effects.pixelateRegion.schema.optional(),\n  radius: effects.radius.schema.optional(),\n  redeye: effects.redeye.schema.optional(),\n  replaceColor: effects.replaceColor.schema.optional(),\n  saturation: effects.saturation.schema.optional(),\n  screen: effects.screen.schema.optional(),\n  sepia: effects.sepia.schema.optional(),\n  shadow: effects.shadow.schema.optional(),\n  sharpen: effects.sharpen.schema.optional(),\n  shear: effects.shear.schema.optional(),\n  simulateColorblind: effects.simulateColorblind.schema.optional(),\n  tint: effects.tint.schema.optional(),\n  trim: effects.trim.schema.optional(),\n  unsharpMask: effects.unsharpMask.schema.optional(),\n  vectorize: effects.vectorize.schema.optional(),\n  vibrance: effects.vibrance.schema.optional(),\n  vignette: effects.vignette.schema.optional()\n};\nvar effectsProps = {\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object(effectProps)).describe(\n    JSON.stringify({\n      text: \"Array of objects specifying transformations to be applied to asset.\"\n    })\n  ).optional(),\n  ...effectProps\n};\nvar effectsPlugin = {\n  props: effectsProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const transformationStrings = constructTransformationString({\n      effects,\n      options\n    });\n    transformationStrings.filter((t) => !!t).forEach((transformation) => cldAsset.effect(transformation));\n    if (Array.isArray(options?.effects)) {\n      options?.effects.forEach((effectsSet) => {\n        const transformationString = constructTransformationString({\n          effects,\n          options: effectsSet\n        }).filter((t) => !!t).join(\",\");\n        cldAsset.effect(transformationString);\n      });\n    }\n    function constructTransformationString({\n      effects: effects2,\n      options: options2\n    }) {\n      return Object.keys(effects2).map(\n        (key) => {\n          const { prefix, qualifier, converters } = effects2[key];\n          return constructTransformation({\n            qualifier,\n            prefix,\n            value: options2?.[key],\n            converters\n          });\n        }\n      );\n    }\n    return {};\n  }\n};\n\n// src/plugins/flags.ts\nvar { flagsEnum: flagsEnum2 } = parameters_exports;\nvar flagsProps = {\n  flags: flags.schema.optional()\n};\nvar flagsPlugin = {\n  props: flagsProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { flags: flags2 = [] } = options;\n    if (Array.isArray(flags2) && flags2.length > 0) {\n      flags2.forEach((flag) => {\n        const { success } = flagsEnum2.safeParse(flag);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${flag}, not applying.`);\n          }\n          return;\n        }\n        cldAsset.addFlag(flag);\n      });\n    } else if (typeof flags2 === \"object\") {\n      Object.entries(flags2).forEach(([qualifier, value]) => {\n        const { success } = flagsEnum2.safeParse(qualifier);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${qualifier}, not applying.`);\n          }\n          return;\n        }\n        cldAsset.addTransformation(`fl_${qualifier}:${value}`);\n      });\n    }\n    return {};\n  }\n};\n\n// src/plugins/named-transformations.ts\n\nvar NamedTransformationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar namedTransformationsProps = {\n  namedTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([NamedTransformationSchema, zod__WEBPACK_IMPORTED_MODULE_0__.z.array(NamedTransformationSchema)]).describe(\n    JSON.stringify({\n      text: \"Named transformations to apply to asset.\",\n      url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n    })\n  ).optional(),\n  /**\n   * @deprecated use {@link `namedTransformations`} instead\n   */\n  transformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([NamedTransformationSchema, zod__WEBPACK_IMPORTED_MODULE_0__.z.array(NamedTransformationSchema)]).describe(\n    JSON.stringify({\n      text: \"Deprecated: use namedTransformations instead\",\n      url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n    })\n  ).optional()\n};\nvar namedTransformationsPlugin = {\n  props: namedTransformationsProps,\n  strict: true,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { transformations, namedTransformations } = options;\n    if (transformations && process.env.NODE_ENVIRONMENT === \"development\") {\n      console.warn(\n        \"The transformations prop is deprecated. Please use namedTransformations instead.\"\n      );\n    }\n    let _namedTransformations = namedTransformations || transformations || [];\n    if (!Array.isArray(_namedTransformations)) {\n      _namedTransformations = [_namedTransformations];\n    }\n    _namedTransformations.forEach((transformation) => {\n      cldAsset.addTransformation(`t_${transformation}`);\n    });\n    return {};\n  }\n};\n\n// src/plugins/overlays.ts\n\n\nvar overlayTextSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  alignment: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  antialias: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  border: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  color: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  fontFamily: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  fontSize: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n  fontStyle: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).optional(),\n  fontWeight: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  hinting: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).optional(),\n  letterSpacing: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).optional(),\n  lineSpacing: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).optional(),\n  stroke: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n  // Required if using object format\n});\nvar overlayPositionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar overlaySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  appliedEffects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: overlayPositionSchema.optional(),\n  publicId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), overlayTextSchema]).optional(),\n  url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  width: width.schema.optional()\n});\nvar DEFAULT_TEXT_OPTIONS = {\n  color: \"black\",\n  fontFamily: \"Arial\",\n  fontSize: 200,\n  fontWeight: \"bold\"\n};\nvar overlaysProps = {\n  overlay: overlaySchema.describe(\n    JSON.stringify({\n      text: \"Image or text layer that is applied on top of the base image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n    })\n  ).optional(),\n  overlays: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(overlaySchema).describe(\n    JSON.stringify({\n      text: \"Image or text layers that are applied on top of the base image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n    })\n  ).optional(),\n  text: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Text to be overlaid on asset.\",\n      url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n    })\n  ).optional()\n};\nvar overlaysPlugin = {\n  props: overlaysProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { text: text2, overlays = [] } = options;\n    const type = \"overlay\";\n    const typeQualifier = \"l\";\n    if (Array.isArray(overlays)) {\n      overlays.forEach(applyOverlay);\n    }\n    if (typeof text2 === \"string\") {\n      applyOverlay({\n        text: Object.assign({}, DEFAULT_TEXT_OPTIONS, {\n          text: text2\n        })\n      });\n    } else if (typeof text2 === \"object\") {\n      applyOverlay({\n        text: Object.assign({}, DEFAULT_TEXT_OPTIONS, text2)\n      });\n    }\n    function applyOverlay({\n      publicId,\n      url,\n      position: position2,\n      text: text3,\n      effects: layerEffects = [],\n      appliedEffects = [],\n      flags: layerFlags = [],\n      appliedFlags = [],\n      ...options2\n    }) {\n      const hasPublicId = typeof publicId === \"string\";\n      const hasUrl = typeof url === \"string\";\n      const hasText = typeof text3 === \"object\" || typeof text3 === \"string\";\n      const hasPosition = typeof position2 === \"object\";\n      if (!hasPublicId && !hasUrl && !hasText) {\n        console.warn(`An ${type} is missing Public ID, URL, or Text`);\n        return;\n      }\n      let layerTransformation;\n      if (hasText) {\n        layerTransformation = `${typeQualifier}_text`;\n      } else if (hasPublicId) {\n        layerTransformation = `${typeQualifier}_${publicId.replace(\n          /\\//g,\n          \":\"\n        )}`;\n      } else if (hasUrl) {\n        layerTransformation = `${typeQualifier}_fetch:${(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.encodeBase64)(url)}`;\n      }\n      const primary2 = [];\n      const applied = [];\n      Object.keys(options2).forEach((key) => {\n        if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key)) return;\n        const { qualifier, converters } = primary[key];\n        const transformation = constructTransformation({\n          qualifier,\n          value: options2[key],\n          converters\n        });\n        if (transformation) {\n          primary2.push(transformation);\n        }\n      });\n      layerEffects.forEach((effect) => {\n        Object.keys(effect).forEach((key) => {\n          const effectQualifier = primary[key] || effects[key] || position[key];\n          if (!effectQualifier) return;\n          const { qualifier, prefix, converters } = effectQualifier;\n          const transformation = constructTransformation({\n            qualifier,\n            prefix,\n            value: effect[key],\n            converters\n          });\n          if (transformation) {\n            primary2.push(transformation);\n          }\n        });\n      });\n      appliedEffects.forEach((effect) => {\n        Object.keys(effect).forEach((key) => {\n          const effectQualifier = primary[key] || effects[key] || position[key];\n          if (!effectQualifier) return;\n          const { qualifier, prefix, converters } = effectQualifier;\n          const transformation = constructTransformation({\n            qualifier,\n            prefix,\n            value: effect[key],\n            converters\n          });\n          if (transformation) {\n            applied.push(transformation);\n          }\n        });\n      });\n      const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n      activeLayerFlags.forEach((flag) => {\n        const { success } = flagsEnum.safeParse(flag);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${flag}, not applying.`);\n          }\n          return;\n        }\n        primary2.push(`fl_${flag}`);\n      });\n      const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n      activeAppliedFlags.forEach((flag) => {\n        const { success } = flagsEnum.safeParse(flag);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${flag}, not applying.`);\n          }\n          return;\n        }\n        applied.push(`fl_${flag}`);\n      });\n      if (hasText) {\n        if (typeof text3 === \"string\") {\n          text3 = {\n            ...DEFAULT_TEXT_OPTIONS,\n            text: text3\n          };\n        }\n        const textTransformations = [];\n        if (typeof text3 === \"object\") {\n          const textOptions = Object.keys(text3).filter((key) => (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(text, key)).map((key) => {\n            const value = text3 && (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(text3, key) && text3[key];\n            return {\n              ...text[key],\n              key,\n              value,\n              order: text[key].order || 99\n            };\n          });\n          const sortedTextOptions = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.sortByKey)(textOptions, \"order\");\n          for (const textOption of sortedTextOptions) {\n            const { key, value, qualifier, location, converters } = textOption;\n            let textValue = value;\n            converters?.forEach(({ test, convert }) => {\n              if (!test(value)) return;\n              textValue = convert(value);\n            });\n            if (location === \"primary\") {\n              primary2.push(`${qualifier}_${textValue}`);\n            } else if (qualifier === \"self\") {\n              textTransformations.push(key);\n            } else if (qualifier) {\n              textTransformations.push(`${qualifier}_${textValue}`);\n            } else {\n              textTransformations.push(textValue);\n            }\n          }\n        }\n        const specialCharacters = {\n          \".\": \"%2E\",\n          \",\": \"%2C\",\n          \"/\": \"%2F\"\n        };\n        let layerText = text3?.text || \"\";\n        if (typeof layerText === \"string\") {\n          Object.keys(specialCharacters)?.forEach((character) => {\n            layerText = layerText?.replace(\n              character,\n              specialCharacters[character]\n            );\n          });\n        }\n        layerTransformation = `${layerTransformation}:${textTransformations.join(\n          \"_\"\n        )}:${layerText}`;\n      }\n      if (hasPosition) {\n        Object.keys(position2).forEach((key) => {\n          if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position, key) || !(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position2, key))\n            return;\n          const { qualifier, converters } = position[key];\n          const transformation = constructTransformation({\n            qualifier,\n            value: position2[key],\n            converters\n          });\n          if (transformation) {\n            applied.push(transformation);\n          }\n        });\n      }\n      if (primary2.length > 0) {\n        layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n      }\n      layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n      if (applied.length > 0) {\n        layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n      }\n      cldAsset.addTransformation(layerTransformation);\n    }\n    return {};\n  }\n};\n\n// src/plugins/preserve-transformations.ts\n\n\nvar preserveTransformationsProps = {\n  preserveTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Preserves transformations from a Cloudinary URL when using using a Cloudinary URL as the asset source (src).\"\n    })\n  ).optional()\n};\nvar preserveTransformationsPlugin = {\n  props: preserveTransformationsProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { preserveTransformations = false } = options;\n    if (preserveTransformations) {\n      try {\n        const transformations = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.getTransformations)(options.src).map((t) => t.join(\",\"));\n        transformations.flat().forEach((transformation) => {\n          cldAsset.addTransformation(transformation);\n        });\n      } catch (e) {\n        console.warn(`Failed to preserve transformations: ${e.message}`);\n      }\n    }\n    return {};\n  }\n};\n\n// src/plugins/raw-transformations.ts\n\nvar RawTransformationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.string();\nvar rawTransformationsProps = {\n  rawTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([RawTransformationSchema, zod__WEBPACK_IMPORTED_MODULE_0__.z.array(RawTransformationSchema)]).describe(\n    JSON.stringify({\n      text: \"Array of transformation parameters using the Cloudinary URL API to apply to an asset.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference\"\n    })\n  ).optional()\n};\nvar rawTransformationsPlugin = {\n  props: rawTransformationsProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    let { rawTransformations = [] } = options;\n    if (!Array.isArray(rawTransformations)) {\n      rawTransformations = [rawTransformations];\n    }\n    rawTransformations.forEach((transformation) => {\n      cldAsset.addTransformation(transformation);\n    });\n    return {};\n  }\n};\n\n// src/plugins/remove-background.ts\n\nvar removeBackgroundProps = {\n  removeBackground: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Removes the background of an image using the Cloudinary AI Background Removal Add-On (Required).\",\n      url: \"https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon\"\n    })\n  ).optional()\n};\nvar removeBackgroundPlugin = {\n  props: removeBackgroundProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { removeBackground = false } = options;\n    if (removeBackground) {\n      cldAsset.effect(\"e_background_removal\");\n    }\n    return {};\n  }\n};\n\n// src/plugins/sanitize.ts\n\nvar sanitizeProps = {\n  sanitize: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Runs a sanitizer on SVG images.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#fl_sanitize\"\n    })\n  ).optional()\n};\nvar sanitizePlugin = {\n  props: sanitizeProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: ({ cldAsset, options }) => {\n    const { sanitize = true } = options;\n    const shouldApplySanitizer = sanitize && (options.format === \"svg\" || cldAsset.publicID.endsWith(\".svg\"));\n    if (shouldApplySanitizer) {\n      cldAsset.effect(\"fl_sanitize\");\n    }\n    return {};\n  }\n};\n\n// src/plugins/seo.ts\n\nvar seoProps = {\n  seoSuffix: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Configures the URL to include an SEO-friendly suffix in the URL\",\n      url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#seo_friendly_media_asset_urls\"\n    })\n  ).optional()\n};\nvar seoPlugin = {\n  props: seoProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { seoSuffix } = options;\n    if (typeof seoSuffix === \"string\") {\n      if (options.deliveryType === \"fetch\") {\n        console.warn(\n          \"SEO suffix is not supported with a delivery type of fetch\"\n        );\n      } else {\n        cldAsset.setSuffix(seoSuffix);\n      }\n    }\n    return {};\n  }\n};\n\n// src/plugins/underlays.ts\n\n\nvar underlayPositionSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar underlaySchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  appliedEffects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: underlayPositionSchema.optional(),\n  publicId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  url: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  width: width.schema.optional()\n});\nvar underlaysProps = {\n  underlay: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Public ID of image that is applied under the base image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n    })\n  ).optional(),\n  underlays: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(underlaySchema).describe(\n    JSON.stringify({\n      text: \"Image layers that are applied under the base image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n    })\n  ).optional()\n};\nvar underlaysPlugin = {\n  props: underlaysProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { underlay, underlays = [] } = options;\n    const typeQualifier = \"u\";\n    if (Array.isArray(underlays)) {\n      underlays.forEach(applyUnderlay);\n    }\n    if (typeof underlay === \"string\") {\n      const underlayOptions = {\n        publicId: underlay,\n        crop: \"fill\",\n        width: \"1.0\",\n        height: \"1.0\",\n        flags: [\"relative\"]\n      };\n      applyUnderlay(underlayOptions);\n    }\n    function applyUnderlay({\n      publicId,\n      type,\n      position: position2,\n      effects: layerEffects = [],\n      flags: layerFlags = [],\n      appliedFlags = [],\n      ...options2\n    }) {\n      const hasPublicId = typeof publicId === \"string\";\n      const hasPosition = typeof position2 === \"object\";\n      if (!hasPublicId) {\n        console.warn(`An ${type} is missing a Public ID`);\n        return;\n      }\n      let layerTransformation = `${typeQualifier}_${publicId.replace(\n        /\\//g,\n        \":\"\n      )}`;\n      const primary2 = [];\n      const applied = [];\n      Object.keys(options2).forEach((key) => {\n        if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key)) return;\n        const { qualifier } = primary[key];\n        primary2.push(`${qualifier}_${options2[key]}`);\n      });\n      layerEffects.forEach((effect) => {\n        Object.keys(effect).forEach((key) => {\n          if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(primary, key)) return;\n          const { qualifier } = primary[key];\n          primary2.push(`${qualifier}_${effect[key]}`);\n        });\n      });\n      if (hasPosition) {\n        Object.keys(position2).forEach(\n          (key) => {\n            if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(position, key)) return;\n            const { qualifier } = position[key];\n            applied.push(`${qualifier}_${position2[key]}`);\n          }\n        );\n      }\n      const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n      activeLayerFlags.forEach((flag) => {\n        const { success } = flagsEnum.safeParse(flag);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${flag}, not applying.`);\n          }\n          return;\n        }\n        primary2.push(`fl_${flag}`);\n      });\n      const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n      activeAppliedFlags.forEach((flag) => {\n        const { success } = flagsEnum.safeParse(flag);\n        if (!success) {\n          if (true) {\n            console.warn(`Invalid flag ${flag}, not applying.`);\n          }\n          return;\n        }\n        applied.push(`fl_${flag}`);\n      });\n      layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n      layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n      if (applied.length > 0) {\n        layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n      }\n      cldAsset.addTransformation(layerTransformation);\n    }\n    return {};\n  }\n};\n\n// src/plugins/version.ts\n\nvar versionProps = {\n  version: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]).describe(\n    JSON.stringify({\n      text: \"Custom version number to apply to asset URL.\",\n      url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#asset_versions\"\n    })\n  ).optional()\n};\nvar versionPlugin = {\n  props: versionProps,\n  assetTypes: [\"image\", \"images\", \"video\", \"videos\"],\n  plugin: ({ cldAsset, options }) => {\n    const { version } = options;\n    if (typeof version === \"string\" || typeof version === \"number\") {\n      cldAsset.setVersion(`${version}`.replace(\"v\", \"\"));\n    }\n    return {};\n  }\n};\n\n// src/types/asset.ts\nvar assetOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  assetType: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"image\").describe(\n    JSON.stringify({\n      text: \"The type of asset to deliver.\",\n      url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n    })\n  ).optional(),\n  deliveryType: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"upload\").describe(\n    JSON.stringify({\n      text: \"Delivery method of the asset.\",\n      url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n    })\n  ).optional(),\n  dpr: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Delivery method of the asset.\",\n      url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n    })\n  ).optional(),\n  format: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default(\"auto\").describe(\n    JSON.stringify({\n      text: \"Converts (if necessary) and delivers an asset in the specified format.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n    })\n  ).optional(),\n  height: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Height of the given asset.\"\n    })\n  ).optional(),\n  quality: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number(), zod__WEBPACK_IMPORTED_MODULE_0__.z.string()]).default(\"auto\").describe(\n    JSON.stringify({\n      text: \"Quality of the delivered asset\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#q_quality\"\n    })\n  ).optional(),\n  src: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Cloudinary Public ID or versioned Cloudinary URL (/v1234/)\"\n    })\n  ),\n  strictTransformations: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Gives you the ability to have more control over what transformations are permitted to be used from your Cloudinary account.\",\n      url: \"https://cloudinary.com/documentation/control_access_to_media#strict_transformations\"\n    })\n  ).optional(),\n  width: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.string(), zod__WEBPACK_IMPORTED_MODULE_0__.z.number()]).describe(\n    JSON.stringify({\n      text: \"Width of the given asset.\"\n    })\n  ).optional(),\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...croppingProps,\n  ...effectsProps,\n  ...flagsProps,\n  ...namedTransformationsProps,\n  ...overlaysProps,\n  ...preserveTransformationsProps,\n  ...rawTransformationsProps,\n  ...removeBackgroundProps,\n  ...sanitizeProps,\n  ...seoProps,\n  ...underlaysProps,\n  ...versionProps\n});\n\n// src/types/image.ts\n\n\n// src/plugins/default-image.ts\n\n\nvar defaultImageProps = {\n  defaultImage: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"Configures the default image to use in case the given public ID is not available. Must include file extension.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#d_default_image\"\n    })\n  ).optional()\n};\nvar defaultImagePlugin = {\n  props: defaultImageProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { defaultImage } = options;\n    if (typeof defaultImage === \"string\") {\n      if (!(0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.getFormat)(defaultImage)) {\n        console.warn(\n          `The defaultImage prop may be missing a format and must include it along with the public ID. (Ex: myimage.jpg)`\n        );\n      }\n      const defaultImageId = defaultImage.replace(/\\//g, \":\");\n      cldAsset.addTransformation(`d_${defaultImageId}`);\n    }\n    return {};\n  }\n};\n\n// src/plugins/enhance.ts\n\nvar enhanceProps = {\n  enhance: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Uses AI to analyze an image and make adjustments to enhance the appeal of the image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_enhance\"\n    })\n  ).optional()\n};\nvar enhancePlugin = {\n  props: enhanceProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { enhance = false } = options;\n    if (enhance) {\n      cldAsset.effect(\"e_enhance\");\n    }\n    return {};\n  }\n};\n\n// src/plugins/extract.ts\n\nvar extractProps = {\n  extract: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    prompt.schema.optional(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(prompt.schema).optional(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      invert: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().default(false).optional(),\n      mode: extractMode.schema.optional(),\n      multiple: multiple.schema.default(false).optional(),\n      prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([prompt.schema, zod__WEBPACK_IMPORTED_MODULE_0__.z.array(prompt.schema)]).optional()\n    })\n  ]).describe(\n    JSON.stringify({\n      text: \"Extracts an area or multiple areas of an image, described in natural language.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_extract\"\n    })\n  ).optional()\n};\nvar extractPlugin = {\n  props: extractProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { extract } = options;\n    if (!extract || typeof extract === \"undefined\") return {};\n    const properties = [];\n    if (typeof extract === \"string\") {\n      properties.push(`prompt_${extract}`);\n    } else if (Array.isArray(extract)) {\n      properties.push(`prompt_${formatPrompts(extract)}`);\n    } else if (typeof extract === \"object\" && !Array.isArray(extract)) {\n      const prompt2 = formatPrompts(extract.prompt);\n      if (prompt2) {\n        properties.push(`prompt_${prompt2}`);\n      }\n      if (extract.invert === true) {\n        properties.push(\"invert_true\");\n      }\n      if (typeof extract.mode === \"string\") {\n        properties.push(`mode_${extract.mode}`);\n      }\n      if (extract.multiple === true) {\n        properties.push(\"multiple_true\");\n      }\n    }\n    if (properties.length > 0) {\n      const transformation = `e_extract:${properties.join(\";\")}`;\n      cldAsset.addTransformation(transformation);\n    }\n    return {};\n  }\n};\nfunction formatPrompts(prompt2) {\n  if (typeof prompt2 === \"string\") return prompt2;\n  if (Array.isArray(prompt2)) {\n    return `(${prompt2.filter((prompt3) => typeof prompt3 === \"string\").join(\";\")})`;\n  }\n  return void 0;\n}\n\n// src/plugins/fill-background.ts\n\nvar defaultCrop = \"pad\";\nvar fillBackgroundProps = {\n  fillBackground: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      crop: crop.schema.optional(),\n      gravity: gravity.schema.optional(),\n      prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })\n  ]).describe(\n    JSON.stringify({\n      text: \"Uses Generative Fill to extended padded image with AI\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#b_gen_fill\"\n    })\n  ).optional()\n};\nvar fillBackgroundPlugin = {\n  props: fillBackgroundProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { fillBackground } = options;\n    if (typeof fillBackground === \"undefined\") return {};\n    const width2 = normalizeNumberParameter(options.width);\n    const height2 = normalizeNumberParameter(options.height);\n    const hasDefinedDimensions = typeof height2 === \"number\" && typeof width2 === \"number\";\n    let aspectRatio2 = options.aspectRatio;\n    if (!aspectRatio2 && hasDefinedDimensions) {\n      aspectRatio2 = `${width2}:${height2}`;\n    }\n    if (!aspectRatio2) {\n      if (true) {\n        console.warn(\n          `Could not determine aspect ratio based on available options to use fillBackground. Please specify width and height or an aspect ratio.`\n        );\n      }\n      return {};\n    }\n    if (fillBackground === true) {\n      const properties = [\n        \"b_gen_fill\",\n        `ar_${aspectRatio2}`,\n        `c_${defaultCrop}`\n      ];\n      cldAsset.addTransformation(properties.join(\",\"));\n    } else if (typeof fillBackground === \"object\") {\n      const { crop: crop2 = defaultCrop, gravity: gravity2, prompt: prompt2 } = fillBackground;\n      const properties = [`ar_${aspectRatio2}`, `c_${crop2}`];\n      if (typeof prompt2 === \"string\") {\n        properties.unshift(`b_gen_fill:${prompt2}`);\n      } else {\n        properties.unshift(`b_gen_fill`);\n      }\n      if (typeof gravity2 === \"string\") {\n        properties.push(`g_${gravity2}`);\n      }\n      cldAsset.addTransformation(properties.join(\",\"));\n    }\n    return {};\n  }\n};\n\n// src/plugins/recolor.ts\n\nvar imageOptionsRecolorPromptSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n]);\nvar imageOptionsRecolorSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  prompt: imageOptionsRecolorPromptSchema.optional(),\n  to: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n  multiple: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar recolorProps = {\n  recolor: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([imageOptionsRecolorPromptSchema, imageOptionsRecolorSchema]).describe(\n    JSON.stringify({\n      text: \"Uses generative AI to recolor parts of your image, maintaining the relative shading.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_recolor\"\n    })\n  ).optional()\n};\nvar recolorPlugin = {\n  props: recolorProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { recolor } = options;\n    const recolorOptions = {\n      prompt: void 0,\n      \"to-color\": void 0,\n      multiple: void 0\n    };\n    if (Array.isArray(recolor)) {\n      if (Array.isArray(recolor[0])) {\n        recolorOptions.prompt = promptArrayToString(recolor[0]);\n      } else {\n        recolorOptions.prompt = recolor[0];\n      }\n      if (typeof recolor[1] === \"string\") {\n        recolorOptions[\"to-color\"] = recolor[1];\n      }\n    } else if (typeof recolor === \"object\") {\n      if (typeof recolor.prompt === \"string\") {\n        recolorOptions.prompt = recolor.prompt;\n      } else if (Array.isArray(recolor.prompt)) {\n        recolorOptions.prompt = promptArrayToString(recolor.prompt);\n      }\n      if (typeof recolor.to === \"string\") {\n        recolorOptions[\"to-color\"] = recolor.to;\n      }\n      if (recolor.multiple === true) {\n        recolorOptions.multiple = `true`;\n      }\n    }\n    const transformation = Object.entries(recolorOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n    if (transformation) {\n      cldAsset.addTransformation(`e_gen_recolor:${transformation}`);\n    }\n    return {};\n  }\n};\n\n// src/plugins/remove.ts\n\nvar imageOptionsRemovePromptSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string())\n]);\nvar imageOptionsRemoveSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  prompt: imageOptionsRemovePromptSchema.optional(),\n  region: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.number()), zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.number()))]).optional(),\n  multiple: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n  removeShadow: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n});\nvar removeProps = {\n  remove: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([imageOptionsRemovePromptSchema, imageOptionsRemoveSchema]).describe(\n    JSON.stringify({\n      text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n    })\n  ).optional()\n};\nvar removePlugin = {\n  props: removeProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: ({ cldAsset, options }) => {\n    const { remove } = options;\n    const removeOptions = {\n      prompt: void 0,\n      region: void 0,\n      multiple: void 0,\n      \"remove-shadow\": void 0\n    };\n    if (typeof remove === \"string\") {\n      removeOptions.prompt = remove;\n    } else if (Array.isArray(remove)) {\n      removeOptions.prompt = promptArrayToString(remove);\n    } else if (typeof remove === \"object\") {\n      const hasPrompt = typeof remove.prompt === \"string\" || Array.isArray(remove.prompt);\n      const hasRegion = Array.isArray(remove.region);\n      if (hasPrompt && hasRegion) {\n        throw new Error(\n          \"Invalid remove options: you can not have both a prompt and a region. More info: https://cloudinary.com/documentation/transformation_reference#e_gen_remove\"\n        );\n      }\n      if (typeof remove.prompt === \"string\") {\n        removeOptions.prompt = remove.prompt;\n      } else if (Array.isArray(remove.prompt)) {\n        removeOptions.prompt = promptArrayToString(remove.prompt);\n      }\n      if (Array.isArray(remove.region)) {\n        removeOptions.region = regionArrayToString(remove.region);\n      }\n      if (remove.multiple === true) {\n        removeOptions.multiple = `true`;\n      }\n      if (remove.removeShadow === true) {\n        removeOptions[\"remove-shadow\"] = `true`;\n      }\n    }\n    const transformation = Object.entries(removeOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n    if (transformation) {\n      cldAsset.addTransformation(`e_gen_remove:${transformation}`);\n    }\n    return {};\n  }\n};\nfunction regionArrayToString(regionArray) {\n  const indexes = {\n    0: \"x\",\n    1: \"y\",\n    2: \"w\",\n    3: \"h\"\n  };\n  const regionString = regionArray.map((region, index) => {\n    if (Array.isArray(region)) {\n      return regionArrayToString(region);\n    }\n    const key = indexes[index];\n    return `${key}_${region}`;\n  }).join(\";\");\n  return `(${regionString})`;\n}\n\n// src/plugins/replace-background.ts\n\nvar replaceBackgroundProps = {\n  replaceBackground: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      seed: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional(),\n      prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })\n  ]).describe(\n    JSON.stringify({\n      text: \"Replaces the background of an image with an AI-generated background.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_background_replace\"\n    })\n  ).optional()\n};\nvar replaceBackgroundPlugin = {\n  props: replaceBackgroundProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { replaceBackground } = options;\n    if (!replaceBackground || typeof replaceBackground === \"undefined\") return {};\n    const properties = [];\n    if (typeof replaceBackground === \"object\") {\n      if (typeof replaceBackground.prompt !== \"undefined\") {\n        properties.push(`prompt_${replaceBackground.prompt}`);\n      }\n      if (typeof replaceBackground.seed === \"number\") {\n        properties.push(`seed_${replaceBackground.seed}`);\n      }\n    } else if (typeof replaceBackground === \"string\") {\n      properties.push(`prompt_${replaceBackground}`);\n    }\n    let transformation = \"e_gen_background_replace\";\n    if (properties.length > 0) {\n      transformation = `${transformation}:${properties.join(\";\")}`;\n    }\n    cldAsset.addTransformation(transformation);\n    return {};\n  }\n};\n\n// src/plugins/replace.ts\n\nvar replaceProps = {\n  replace: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      to: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      from: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n      preserveGeometry: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional()\n    })\n  ]).describe(\n    JSON.stringify({\n      text: \"Uses generative AI to replace parts of your image with something else.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_replace\"\n    })\n  ).optional()\n};\nvar replacePlugin = {\n  props: replaceProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: ({ cldAsset, options }) => {\n    const { replace = null } = options;\n    if (replace) {\n      let from, to, preserveGeometry = false;\n      if (Array.isArray(replace)) {\n        from = replace[0];\n        to = replace[1];\n        preserveGeometry = replace[2] || false;\n      } else {\n        from = replace.from;\n        to = replace.to;\n        preserveGeometry = replace.preserveGeometry || false;\n      }\n      const properties = [`e_gen_replace:from_${from}`, `to_${to}`];\n      if (preserveGeometry) {\n        properties.push(`preserve-geometry_${preserveGeometry}`);\n      }\n      cldAsset.effect(properties.join(\";\"));\n    }\n    return {};\n  }\n};\n\n// src/plugins/restore.ts\n\nvar restoreProps = {\n  restore: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().describe(\n    JSON.stringify({\n      text: \"Uses generative AI to restore details in poor quality images or images that may have become degraded through repeated processing and compression.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_restore\"\n    })\n  ).optional()\n};\nvar restorePlugin = {\n  props: restoreProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: ({ cldAsset, options }) => {\n    const { restore = false } = options;\n    if (restore) {\n      cldAsset.effect(\"e_gen_restore\");\n    }\n    return {};\n  }\n};\n\n// src/plugins/zoompan.ts\n\nvar zoompanProps = {\n  zoompan: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n    zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n      loop: effects.loop.schema.optional(),\n      options: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    })\n  ]).describe(\n    JSON.stringify({\n      text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n    })\n  ).optional()\n};\nvar zoompanPlugin = {\n  props: zoompanProps,\n  assetTypes: [\"image\", \"images\"],\n  plugin: ({ cldAsset, options }) => {\n    const { zoompan = false } = options;\n    const overrides = {\n      format: void 0\n    };\n    if (zoompan === true) {\n      cldAsset.effect(\"e_zoompan\");\n    } else if (typeof zoompan === \"string\") {\n      if (zoompan === \"loop\") {\n        cldAsset.effect(\"e_zoompan\");\n        cldAsset.effect(\"e_loop\");\n      } else {\n        cldAsset.effect(`e_zoompan:${zoompan}`);\n      }\n    } else if (typeof zoompan === \"object\") {\n      let zoompanEffect = \"e_zoompan\";\n      if (typeof zoompan.options === \"string\") {\n        zoompanEffect = `${zoompanEffect}:${zoompan.options}`;\n      }\n      cldAsset.effect(zoompanEffect);\n      let loopEffect;\n      if (zoompan.loop === true) {\n        loopEffect = \"e_loop\";\n      } else if (typeof zoompan.loop === \"string\" || typeof zoompan.loop === \"number\") {\n        loopEffect = `e_loop:${zoompan.loop}`;\n      }\n      if (loopEffect) {\n        cldAsset.effect(loopEffect);\n      }\n    }\n    if (zoompan !== false) {\n      overrides.format = \"auto:animated\";\n    }\n    return {\n      options: overrides\n    };\n  }\n};\n\n// src/types/image.ts\nvar imageOptionsSchema = assetOptionsSchema.merge(\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    // Spreading plugins instead of extend or merge to avoid excessive schema warning\n    // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n    ...defaultImageProps,\n    ...enhanceProps,\n    ...extractProps,\n    ...fillBackgroundProps,\n    ...recolorProps,\n    ...removeProps,\n    ...replaceProps,\n    ...replaceBackgroundProps,\n    ...restoreProps,\n    ...zoompanProps\n  })\n);\n\n// src/types/video.ts\n\n\n// src/plugins/abr.ts\n\nvar abrProps = {\n  streamingProfile: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().describe(\n    JSON.stringify({\n      text: \"The streaming profile to apply when delivering a video using adaptive bitrate streaming.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#sp_streaming_profile\"\n    })\n  ).optional()\n};\nvar abrPlugin = {\n  props: abrProps,\n  assetTypes: [\"video\", \"videos\"],\n  plugin: (settings) => {\n    const { cldAsset, options } = settings;\n    const { streamingProfile } = options;\n    if (typeof streamingProfile === \"string\") {\n      cldAsset.addTransformation(`sp_${streamingProfile}`);\n    }\n    return {};\n  }\n};\n\n// src/types/video.ts\nvar videoOptionsSchema = assetOptionsSchema.merge(\n  zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    // Spreading plugins instead of extend or merge to avoid excessive schema warning\n    // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n    ...abrProps\n  })\n);\n\n// src/lib/cloudinary.ts\n\n\n\n\n// src/types/analytics.ts\n\nvar analyticsOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.any();\n\n// src/types/config.ts\n\nvar configOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.any();\n\n// src/lib/cloudinary.ts\nvar transformationPlugins = [\n  // Some features *must* be the first transformation applied\n  // thus their plugins *must* come first in the chain\n  enhancePlugin,\n  extractPlugin,\n  recolorPlugin,\n  removeBackgroundPlugin,\n  removePlugin,\n  replacePlugin,\n  replaceBackgroundPlugin,\n  restorePlugin,\n  // Cropping needs to be before any other general transformations\n  // as it provides the option of 2-step resizing where someone\n  // can resize the \"base\" canvas as well as the final resize\n  // mechanism commonly used for responsive resizing\n  croppingPlugin,\n  // Raw transformations should always come before\n  // other arguments to avoid conflicting with\n  // added options via the component\n  preserveTransformationsPlugin,\n  rawTransformationsPlugin,\n  abrPlugin,\n  defaultImagePlugin,\n  effectsPlugin,\n  fillBackgroundPlugin,\n  flagsPlugin,\n  overlaysPlugin,\n  sanitizePlugin,\n  namedTransformationsPlugin,\n  seoPlugin,\n  underlaysPlugin,\n  versionPlugin,\n  zoompanPlugin\n];\nvar constructUrlOptionsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.union([imageOptionsSchema, videoOptionsSchema]).describe(\n  JSON.stringify({\n    text: \"Asset options (Image or Video) that define delivery URL including public ID and transformations.\",\n    path: \"/url-loader/assetoptions\"\n  })\n);\nvar constructUrlPropsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n  analytics: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([analyticsOptionsSchema, zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()]).describe(\n    JSON.stringify({\n      text: \"Tech, dependency, and feature identifiers for tracking SDK usage related to Cloudinary.\",\n      path: \"/url-loader/analyticsoptions\"\n    })\n  ).optional(),\n  config: configOptionsSchema.describe(\n    JSON.stringify({\n      text: \"Configuration parameters for environment and Cloudinary account.\",\n      url: \"https://cloudinary.com/documentation/cloudinary_sdks#configuration_parameters\",\n      path: \"/url-loader/analyticsoptions\"\n    })\n  ).optional(),\n  options: constructUrlOptionsSchema\n});\nfunction constructCloudinaryUrl({\n  options,\n  config = {},\n  analytics\n}) {\n  if (analytics === false) {\n    if (typeof config?.url === \"undefined\") {\n      config.url = {};\n    }\n    config.url.analytics = false;\n  }\n  const cld = new _cloudinary_url_gen__WEBPACK_IMPORTED_MODULE_2__.Cloudinary(config);\n  if (typeof options?.src !== \"string\") {\n    throw Error(\n      `Failed to construct Cloudinary URL: Missing source (src) in options.`\n    );\n  }\n  if (!options?.assetType) {\n    options.assetType = \"image\";\n  }\n  const propsCheck = [];\n  transformationPlugins.forEach(({ props }) => {\n    const pluginProps = Object.keys(props);\n    pluginProps.forEach((prop) => {\n      if (propsCheck.includes(prop)) {\n        throw new Error(`Option ${prop} already exists!`);\n      }\n      propsCheck.push(prop);\n    });\n  });\n  const parsedOptions = {};\n  let publicId;\n  if (typeof options.src === \"string\" && /^https?:\\/\\//.test(options.src)) {\n    try {\n      const parts = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.parseUrl)(options.src);\n      publicId = parts?.publicId;\n      parsedOptions.seoSuffix = parts?.seoSuffix;\n      parsedOptions.version = parts?.version;\n    } catch (e) {\n    }\n  }\n  if (!publicId) {\n    publicId = options.src;\n  }\n  Object.keys(parsedOptions).forEach(\n    (key) => {\n      if ((0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_1__.objectHasKey)(options, key)) return;\n      options[key] = parsedOptions[key];\n    }\n  );\n  options.version ?? (options.version = 1);\n  let cldAsset = void 0;\n  if ([\"image\", \"images\"].includes(options.assetType)) {\n    cldAsset = cld.image(publicId);\n  } else if ([\"video\", \"videos\"].includes(options.assetType)) {\n    cldAsset = cld.video(publicId);\n  }\n  if (typeof cldAsset === \"undefined\") {\n    throw new Error(\"Invalid asset type.\");\n  }\n  const pluginEffects = {};\n  transformationPlugins.forEach(\n    ({ plugin, assetTypes, props, strict }) => {\n      const supportedAssetType = options?.assetType !== void 0 && assetTypes.includes(options.assetType);\n      const pluginProps = Object.keys(props);\n      const optionsKeys = Object.keys(options);\n      const attemptedUse = pluginProps.map((prop) => optionsKeys.includes(prop)).filter((isUsed) => !!isUsed).length > 0;\n      if (!supportedAssetType) {\n        if (attemptedUse) {\n          console.warn(\n            `One of the following props [${pluginProps.join(\n              \", \"\n            )}] was used with an unsupported asset type [${options?.assetType}]`\n          );\n        }\n        return;\n      }\n      if (options.strictTransformations && !strict) {\n        if (attemptedUse) {\n          console.warn(\n            `One of the following props [${pluginProps.join(\n              \", \"\n            )}] was used that is not supported with Strict Transformations.`\n          );\n        }\n        return;\n      }\n      const results = plugin({\n        cldAsset,\n        options\n      });\n      const { options: pluginOptions } = results || { options: void 0 };\n      Object.assign(pluginEffects, pluginOptions);\n    }\n  );\n  if (typeof pluginEffects.resize === \"string\") {\n    cldAsset.addTransformation(pluginEffects.resize);\n  }\n  cldAsset.setDeliveryType(options?.deliveryType || \"upload\");\n  if (!options.strictTransformations) {\n    if (options?.dpr) {\n      let dpr = options.dpr;\n      if (typeof dpr === \"number\") {\n        dpr = dpr.toFixed(1);\n      }\n      cldAsset.addTransformation(`dpr_${dpr}`);\n    }\n    const defaultFormat = options?.format === \"default\";\n    const rawContainsFormat = searchAssetRawTransformations(\"f_\", cldAsset, {\n      matchType: \"startsWith\"\n    });\n    const rawContainsFormatAndExplicit = rawContainsFormat && typeof options?.format !== \"undefined\";\n    if (pluginEffects?.format || !defaultFormat && (!rawContainsFormat || rawContainsFormatAndExplicit)) {\n      cldAsset.format(options?.format || pluginEffects?.format || \"auto\");\n    }\n    const defaultQuality = options?.quality === \"default\";\n    const rawContainsQuality = searchAssetRawTransformations(\"q_\", cldAsset, {\n      matchType: \"startsWith\"\n    });\n    const rawContainsQualityAndExplicit = rawContainsQuality && typeof options?.quality !== \"undefined\";\n    if (!defaultQuality && (!rawContainsQuality || rawContainsQualityAndExplicit)) {\n      cldAsset.quality(options?.quality || \"auto\");\n    }\n  }\n  return cldAsset.toURL({\n    trackedAnalytics: analytics\n  });\n}\nfunction searchAssetRawTransformations(query, asset, options) {\n  if (typeof asset.transformation === \"undefined\") return;\n  const { matchType = \"includes\" } = options || {};\n  const transformations = asset.transformation.actions.flatMap(\n    (transformation) => {\n      return transformation.toString().split(\"/\").flatMap((seg) => seg.split(\",\"));\n    }\n  );\n  const matches = transformations.filter((transformation) => {\n    if (matchType === \"startsWith\") {\n      return transformation.startsWith(query);\n    } else {\n      return transformation.includes(query);\n    }\n  });\n  return matches.length > 0;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL2Rpc3QvY2h1bmstTDNZSVhNR0cuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7O0FBRUE7QUFDNkU7QUFDL0M7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDdUI7QUFDeEIsb0JBQW9CLGtDQUFDO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtDQUFDO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQ0FBQztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBQyxRQUFRLGtDQUFDLFdBQVcsa0NBQUM7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsa0NBQUM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFDO0FBQ3pCLEVBQUUsa0NBQUM7QUFDSDtBQUNBLEVBQUUsa0NBQUMsY0FBYyxrQ0FBQyxXQUFXLGtDQUFDLFVBQVU7QUFDeEM7QUFDQTtBQUNBO0FB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XFxAY2xvdWRpbmFyeS11dGlsXFx1cmwtbG9hZGVyXFxkaXN0XFxjaHVuay1MM1lJWE1HRy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xuXG4vLyBzcmMvY29uc3RhbnRzL3F1YWxpZmllcnMudHNcbmltcG9ydCB7IGNvbnZlcnRDb2xvckhleFRvUmdiLCB0ZXN0Q29sb3JJc0hleCB9IGZyb20gXCJAY2xvdWRpbmFyeS11dGlsL3V0aWxcIjtcbmltcG9ydCB7IHogYXMgejIgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9jb25zdGFudHMvcGFyYW1ldGVycy50c1xudmFyIHBhcmFtZXRlcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocGFyYW1ldGVyc19leHBvcnRzLCB7XG4gIGFuZ2xlOiAoKSA9PiBhbmdsZSxcbiAgYXNwZWN0UmF0aW86ICgpID0+IGFzcGVjdFJhdGlvLFxuICBhc3BlY3RSYXRpb01vZGVzRW51bTogKCkgPT4gYXNwZWN0UmF0aW9Nb2Rlc0VudW0sXG4gIGNyb3A6ICgpID0+IGNyb3AsXG4gIGNyb3BNb2Rlc0VudW06ICgpID0+IGNyb3BNb2Rlc0VudW0sXG4gIGV4dHJhY3RNb2RlOiAoKSA9PiBleHRyYWN0TW9kZSxcbiAgZXh0cmFjdE1vZGVzRW51bTogKCkgPT4gZXh0cmFjdE1vZGVzRW51bSxcbiAgZmxhZ3M6ICgpID0+IGZsYWdzLFxuICBmbGFnc0VudW06ICgpID0+IGZsYWdzRW51bSxcbiAgZm9ybWF0OiAoKSA9PiBmb3JtYXQsXG4gIGdyYXZpdHk6ICgpID0+IGdyYXZpdHksXG4gIGhlaWdodDogKCkgPT4gaGVpZ2h0LFxuICBtdWx0aXBsZTogKCkgPT4gbXVsdGlwbGUsXG4gIHByb21wdDogKCkgPT4gcHJvbXB0LFxuICB3aWR0aDogKCkgPT4gd2lkdGgsXG4gIHg6ICgpID0+IHgsXG4gIHk6ICgpID0+IHksXG4gIHpvb206ICgpID0+IHpvb21cbn0pO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbnZhciBjcm9wTW9kZXNFbnVtID0gei5lbnVtKFtcbiAgXCJhdXRvXCIsXG4gIFwiY3JvcFwiLFxuICBcImZpbGxcIixcbiAgXCJmaWxsX3BhZFwiLFxuICBcImZpdFwiLFxuICBcImltYWdnYV9jcm9wXCIsXG4gIFwiaW1hZ2dhX3NjYWxlXCIsXG4gIFwibGZpbGxcIixcbiAgXCJsaW1pdFwiLFxuICBcImxwYWRcIixcbiAgXCJtZml0XCIsXG4gIFwibXBhZFwiLFxuICBcInBhZFwiLFxuICBcInNjYWxlXCIsXG4gIFwidGh1bWJcIlxuXSk7XG52YXIgZXh0cmFjdE1vZGVzRW51bSA9IHouZW51bShbXG4gIFwiY29udGVudFwiLFxuICBcIm1hc2tcIlxuXSk7XG52YXIgZmxhZ3NFbnVtID0gei5lbnVtKFtcbiAgXCJhbmltYXRlZFwiLFxuICBcImFueV9mb3JtYXRcIixcbiAgXCJhcG5nXCIsXG4gIFwiYXR0YWNobWVudFwiLFxuICBcImF3ZWJwXCIsXG4gIFwiY2xpcFwiLFxuICBcImNsaXBfZXZlbm9kZFwiLFxuICBcImN1dHRlclwiLFxuICBcImZvcmNlX2ljY1wiLFxuICBcImZvcmNlX3N0cmlwXCIsXG4gIFwiZ2V0aW5mb1wiLFxuICBcImdyb3VwNFwiLFxuICBcImhsc3YzXCIsXG4gIFwiaWdub3JlX2FzcGVjdF9yYXRpb1wiLFxuICBcImlnbm9yZV9tYXNrX2NoYW5uZWxzXCIsXG4gIFwiaW1tdXRhYmxlX2NhY2hlXCIsXG4gIFwia2VlcF9hdHRyaWJ1dGlvblwiLFxuICBcImtlZXBfZGFyXCIsXG4gIFwia2VlcF9pcHRjXCIsXG4gIFwibGF5ZXJfYXBwbHlcIixcbiAgXCJsb3NzeVwiLFxuICBcIm1vbm9cIixcbiAgXCJub19vdmVyZmxvd1wiLFxuICBcIm5vX3N0cmVhbVwiLFxuICBcInBuZzhfZmxfcG5nMjRfZmxfcG5nMzJcIixcbiAgXCJwcmVzZXJ2ZV90cmFuc3BhcmVuY3lcIixcbiAgXCJwcm9ncmVzc2l2ZVwiLFxuICBcInJhc3Rlcml6ZVwiLFxuICBcInJlZ2lvbl9yZWxhdGl2ZVwiLFxuICBcInJlbGF0aXZlXCIsXG4gIFwicmVwbGFjZV9pbWFnZVwiLFxuICBcInNhbml0aXplXCIsXG4gIFwic3BsaWNlXCIsXG4gIFwic3RyZWFtaW5nX2F0dGFjaG1lbnRcIixcbiAgXCJzdHJpcF9wcm9maWxlXCIsXG4gIFwidGV4dF9kaXNhbGxvd19vdmVyZmxvd1wiLFxuICBcInRleHRfbm9fdHJpbVwiLFxuICBcInRpZmY4X2x6d1wiLFxuICBcInRpbGVkXCIsXG4gIFwidHJ1bmNhdGVfdHNcIixcbiAgXCJ3YXZlZm9ybVwiXG5dKTtcbnZhciBhbmdsZSA9IHtcbiAgcXVhbGlmaWVyOiBcImFcIixcbiAgc2NoZW1hOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJSb3RhdGVzIG9yIGZsaXBzIGFuIGFzc2V0IGJ5IHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlZ3JlZXMgb3IgYXV0b21hdGljYWxseSBhY2NvcmRpbmcgdG8gaXRzIG9yaWVudGF0aW9uIG9yIGF2YWlsYWJsZSBtZXRhZGF0YS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2FfYW5nbGVcIlxuICAgIH0pXG4gIClcbn07XG52YXIgYXNwZWN0UmF0aW9Nb2Rlc0VudW0gPSB6LmVudW0oW1xuICBcInZmbGlwXCIsXG4gIFwiaGZsaXBcIixcbiAgXCJpZ25vcmVcIixcbiAgXCJhdXRvX3JpZ2h0XCIsXG4gIFwiYXV0b19sZWZ0XCJcbl0pO1xudmFyIGFzcGVjdFJhdGlvU2NoZW1hID0gei51bmlvbihbXG4gIHoubnVtYmVyKCksXG4gIGFzcGVjdFJhdGlvTW9kZXNFbnVtLFxuICB6LmludGVyc2VjdGlvbih6LnN0cmluZygpLCB6Lm9iamVjdCh7fSkpXG4gIC8vIFF1aXJrIHRvIGFsbG93IGVudW0gKyBzdHJpbmdcbl0pO1xudmFyIGFzcGVjdFJhdGlvID0ge1xuICBxdWFsaWZpZXI6IFwiYXJcIixcbiAgc2NoZW1hOiBhc3BlY3RSYXRpb1NjaGVtYS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkNyb3BzIG9yIHJlc2l6ZXMgdGhlIGFzc2V0IHRvIGEgbmV3IGFzcGVjdCByYXRpby5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2FyX2FzcGVjdF9yYXRpb1wiXG4gICAgfSlcbiAgKVxufTtcbnZhciBjcm9wU2NoZW1hID0gY3JvcE1vZGVzRW51bTtcbnZhciBjcm9wID0ge1xuICBxdWFsaWZpZXI6IFwiY1wiLFxuICBzY2hlbWE6IGNyb3BTY2hlbWEuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJNb2RlIHRvIHVzZSB3aGVuIGNyb3BwaW5nIGFuIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjY19jcm9wX3Jlc2l6ZVwiXG4gICAgfSlcbiAgKVxufTtcbnZhciBleHRyYWN0TW9kZVNjaGVtYSA9IGV4dHJhY3RNb2Rlc0VudW07XG52YXIgZXh0cmFjdE1vZGUgPSB7XG4gIHNjaGVtYTogZXh0cmFjdE1vZGVTY2hlbWEuZGVmYXVsdChcImNvbnRlbnRcIikuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJXaGV0aGVyIHRvIGtlZXAgdGhlIGNvbnRlbnQgb2YgdGhlIGV4dHJhY3RlZCBhcmVhLCBvciB0byByZXBsYWNlIGl0IHdpdGggYSBtYXNrLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9leHRyYWN0XCJcbiAgICB9KVxuICApXG59O1xudmFyIGZsYWdzID0ge1xuICBxdWFsaWZpZXI6IFwiZmxcIixcbiAgc2NoZW1hOiB6LnVuaW9uKFtmbGFnc0VudW0sIHouYXJyYXkoZmxhZ3NFbnVtKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWx0ZXJzIHRoZSByZWd1bGFyIGJlaGF2aW9yIG9mIGFub3RoZXIgdHJhbnNmb3JtYXRpb24gb3IgdGhlIG92ZXJhbGwgZGVsaXZlcnkgYmVoYXZpb3IuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmbF9mbGFnXCJcbiAgICB9KVxuICApXG59O1xudmFyIGZvcm1hdCA9IHtcbiAgcXVhbGlmaWVyOiBcImZcIixcbiAgLy8gQFRPRE86IGVudW1cbiAgc2NoZW1hOiB6LnN0cmluZygpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29udmVydHMgKGlmIG5lY2Vzc2FyeSkgYW5kIGRlbGl2ZXJzIGFuIGFzc2V0IGluIHRoZSBzcGVjaWZpZWQgZm9ybWF0IHJlZ2FyZGxlc3Mgb2YgdGhlIGZpbGUgZXh0ZW5zaW9uIHVzZWQgaW4gdGhlIGRlbGl2ZXJ5IFVSTC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2ZfZm9ybWF0XCJcbiAgICB9KVxuICApXG59O1xudmFyIGdyYXZpdHlTY2hlbWEgPSB6LnVuaW9uKFtcbiAgei5lbnVtKFtcbiAgICBcImF1dG9cIixcbiAgICBcImF1dG9fY29udGVudF9hd2FyZVwiLFxuICAgIFwiY2VudGVyXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImVhc3RcIixcbiAgICBcImZhY2VcIixcbiAgICBcImZhY2VfY2VudGVyXCIsXG4gICAgXCJtdWx0aV9mYWNlXCIsXG4gICAgXCJub3J0aFwiLFxuICAgIFwibm9ydGhfZWFzdFwiLFxuICAgIFwibm9ydGhfd2VzdFwiLFxuICAgIFwic291dGhcIixcbiAgICBcInNvdXRoX2Vhc3RcIixcbiAgICBcInNvdXRoX3dlc3RcIixcbiAgICBcIndlc3RcIlxuICBdKSxcbiAgLy8gUXVpcmsgdG8gYWxsb3cgZW51bSArIHN0cmluZ1xuICB6LmludGVyc2VjdGlvbih6LnN0cmluZygpLCB6Lm9iamVjdCh7fSkpXG5dKTtcbnZhciBncmF2aXR5ID0ge1xuICBxdWFsaWZpZXI6IFwiZ1wiLFxuICBzY2hlbWE6IGdyYXZpdHlTY2hlbWEuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJEZXRlcm1pbmVzIHdoaWNoIHBhcnQgb2YgYW4gYXNzZXQgdG8gZm9jdXMgb24uIE5vdGU6IERlZmF1bHQgb2YgYXV0byBpcyBhcHBsaWVkIGZvciBzdXBwb3J0ZWQgY3JvcCBtb2RlcyBvbmx5LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZ19ncmF2aXR5XCJcbiAgICB9KVxuICApXG59O1xudmFyIGhlaWdodFNjaGVtYSA9IHoudW5pb24oW3oubnVtYmVyKCksIHouc3RyaW5nKCldKTtcbnZhciBoZWlnaHQgPSB7XG4gIHF1YWxpZmllcjogXCJoXCIsXG4gIHNjaGVtYTogaGVpZ2h0U2NoZW1hLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBkZXRlcm1pbmVzIHRoZSBoZWlnaHQgb2YgYSB0cmFuc2Zvcm1lZCBhc3NldCBvciBhbiBvdmVybGF5LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjaF9oZWlnaHRcIlxuICAgIH0pXG4gIClcbn07XG52YXIgbXVsdGlwbGVTY2hlbWEgPSB6LmJvb2xlYW4oKTtcbnZhciBtdWx0aXBsZSA9IHtcbiAgc2NoZW1hOiBtdWx0aXBsZVNjaGVtYS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlNob3VsZCBnZW5lcmF0aXZlIEFJIGZlYXR1cmVzIGRldGVjdCBtdWx0aXBsZSBpbnN0YW5jZXMuXCJcbiAgICB9KVxuICApXG59O1xudmFyIHByb21wdCA9IHtcbiAgc2NoZW1hOiB6LnN0cmluZygpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiTmF0dXJhbCBsYW5ndWFnZSBkZXNjcmlwdGlvbnMgdXNlZCBmb3IgZ2VuZXJhdGl2ZSBBSSBjYXBhYmlsaXRpZXMuXCJcbiAgICB9KVxuICApXG59O1xudmFyIHdpZHRoU2NoZW1hID0gei51bmlvbihbei5udW1iZXIoKSwgei5zdHJpbmcoKV0pO1xudmFyIHdpZHRoID0ge1xuICBxdWFsaWZpZXI6IFwid1wiLFxuICBzY2hlbWE6IHdpZHRoU2NoZW1hLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBzZXRzIHRoZSBkZXNpcmVkIHdpZHRoIG9mIGFuIGFzc2V0IHVzaW5nIGEgc3BlY2lmaWVkIHZhbHVlLCBvciBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIHRoZSBhdmFpbGFibGUgd2lkdGguXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSN3X3dpZHRoXCJcbiAgICB9KVxuICApXG59O1xudmFyIHggPSB7XG4gIHF1YWxpZmllcjogXCJ4XCIsXG4gIHNjaGVtYTogei51bmlvbihbei5zdHJpbmcoKSwgei5udW1iZXIoKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgc3RhcnRpbmcgbG9jYXRpb24gb3Igb2Zmc2V0IG9mIHRoZSB4IGF4aXMuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSN4X3lfY29vcmRpbmF0ZXNcIlxuICAgIH0pXG4gIClcbn07XG52YXIgeSA9IHtcbiAgcXVhbGlmaWVyOiBcInlcIixcbiAgc2NoZW1hOiB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIHRoZSBzdGFydGluZyBsb2NhdGlvbiBvciBvZmZzZXQgb2YgdGhlIHkgYXhpcy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3hfeV9jb29yZGluYXRlc1wiXG4gICAgfSlcbiAgKVxufTtcbnZhciB6b29tU2NoZW1hID0gei5zdHJpbmcoKTtcbnZhciB6b29tID0ge1xuICBzY2hlbWE6IHpvb21TY2hlbWEuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJDb250cm9scyBob3cgY2xvc2UgdG8gY3JvcCB0byB0aGUgZGV0ZWN0ZWQgY29vcmRpbmF0ZXMgd2hlbiB1c2luZyBmYWNlLWRldGVjdGlvbiwgY3VzdG9tLWNvb3JkaW5hdGUsIG9yIG9iamVjdC1zcGVjaWZpYyBncmF2aXR5LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujel96b29tXCJcbiAgICB9KVxuICApXG59O1xuXG4vLyBzcmMvY29uc3RhbnRzL3F1YWxpZmllcnMudHNcbnZhciBjb252ZXJ0ZXJzQ29sb3JzID0gW1xuICB7XG4gICAgdGVzdDogdGVzdENvbG9ySXNIZXgsXG4gICAgY29udmVydDogY29udmVydENvbG9ySGV4VG9SZ2JcbiAgfVxuXTtcbnZhciBwcmltYXJ5ID0ge1xuICBhc3BlY3RSYXRpbyxcbiAgY3JvcCxcbiAgZ3Jhdml0eSxcbiAgaGVpZ2h0LFxuICB3aWR0aFxufTtcbnZhciBwb3NpdGlvbiA9IHtcbiAgYW5nbGUsXG4gIGdyYXZpdHksXG4gIHgsXG4gIHlcbn07XG52YXIgdGV4dCA9IHtcbiAgYWxpZ25tZW50OiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogNlxuICB9LFxuICBhbnRpYWxpYXM6IHtcbiAgICBxdWFsaWZpZXI6IFwiYW50aWFsaWFzXCJcbiAgfSxcbiAgYm9yZGVyOiB7XG4gICAgcXVhbGlmaWVyOiBcImJvXCIsXG4gICAgbG9jYXRpb246IFwicHJpbWFyeVwiXG4gIH0sXG4gIGNvbG9yOiB7XG4gICAgcXVhbGlmaWVyOiBcImNvXCIsXG4gICAgbG9jYXRpb246IFwicHJpbWFyeVwiLFxuICAgIGNvbnZlcnRlcnM6IGNvbnZlcnRlcnNDb2xvcnNcbiAgfSxcbiAgZm9udEZhbWlseToge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDFcbiAgfSxcbiAgZm9udFNpemU6IHtcbiAgICBxdWFsaWZpZXI6IGZhbHNlLFxuICAgIG9yZGVyOiAyXG4gIH0sXG4gIGZvbnRTdHlsZToge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDRcbiAgfSxcbiAgZm9udFdlaWdodDoge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDNcbiAgfSxcbiAgaGludGluZzoge1xuICAgIHF1YWxpZmllcjogXCJoaW50aW5nXCJcbiAgfSxcbiAgbGV0dGVyU3BhY2luZzoge1xuICAgIHF1YWxpZmllcjogXCJsZXR0ZXJfc3BhY2luZ1wiXG4gIH0sXG4gIGxpbmVTcGFjaW5nOiB7XG4gICAgcXVhbGlmaWVyOiBcImxpbmVfc3BhY2luZ1wiXG4gIH0sXG4gIHN0cm9rZToge1xuICAgIHF1YWxpZmllcjogXCJzZWxmXCIsXG4gICAgb3JkZXI6IDdcbiAgfSxcbiAgdGV4dERlY29yYXRpb246IHtcbiAgICBxdWFsaWZpZXI6IGZhbHNlLFxuICAgIG9yZGVyOiA1XG4gIH1cbn07XG52YXIgZWZmZWN0cyA9IHtcbiAgYW5nbGUsXG4gIGFydDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImFydFwiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyB0aGUgc2VsZWN0ZWQgYXJ0aXN0aWMgZmlsdGVyLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2FydFwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgYXV0b0JyaWdodG5lc3M6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhdXRvX2JyaWdodG5lc3NcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXV0b21hdGljYWxseSBhZGp1c3RzIHRoZSBpbWFnZSBicmlnaHRuZXNzIGFuZCBibGVuZHMgdGhlIHJlc3VsdCB3aXRoIHRoZSBvcmlnaW5hbCBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hdXRvX2JyaWdodG5lc3NcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGF1dG9Db2xvcjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImF1dG9fY29sb3JcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXV0b21hdGljYWxseSBhZGp1c3RzIHRoZSBpbWFnZSBjb2xvciBiYWxhbmNlIGFuZCBibGVuZHMgdGhlIHJlc3VsdCB3aXRoIHRoZSBvcmlnaW5hbCBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hdXRvX2NvbG9yXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBhdXRvQ29udHJhc3Q6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhdXRvX2NvbnRyYXN0XCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkF1dG9tYXRpY2FsbHkgYWRqdXN0cyB0aGUgaW1hZ2UgY29udHJhc3QgYW5kIGJsZW5kcyB0aGUgcmVzdWx0IHdpdGggdGhlIG9yaWdpbmFsIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2F1dG9fY29udHJhc3RcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGFzc2lzdENvbG9yYmxpbmQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJhc3Npc3RfY29sb3JibGluZFwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBcHBsaWVzIHN0cmlwZXMgb3IgY29sb3IgYWRqdXN0bWVudCB0byBoZWxwIHBlb3BsZSB3aXRoIGNvbW1vbiBjb2xvciBibGluZCBjb25kaXRpb25zIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBjb2xvcnMgdGhhdCBhcmUgc2ltaWxhciBmb3IgdGhlbS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hc3Npc3RfY29sb3JibGluZFwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgYmFja2dyb3VuZDoge1xuICAgIHF1YWxpZmllcjogXCJiXCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBcHBsaWVzIGEgYmFja2dyb3VuZCB0byBlbXB0eSBvciB0cmFuc3BhcmVudCBhcmVhcy5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjYl9iYWNrZ3JvdW5kXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBibGFja3doaXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYmxhY2t3aGl0ZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJDb252ZXJ0cyBhbiBpbWFnZSB0byBibGFjayBhbmQgd2hpdGUuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYmxhY2t3aGl0ZVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgYmx1cjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImJsdXJcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIGJsdXJyaW5nIGZpbHRlciB0byBhbiBhc3NldC5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ibHVyXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBibHVyRmFjZXM6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJibHVyX2ZhY2VzXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkJsdXJzIGFsbCBkZXRlY3RlZCBmYWNlcyBpbiBhbiBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ibHVyX2ZhY2VzXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBibHVyUmVnaW9uOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYmx1cl9yZWdpb25cIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIGJsdXJyaW5nIGZpbHRlciB0byB0aGUgcmVnaW9uIG9mIGFuIGltYWdlIHNwZWNpZmllZCBieSB4LCB5LCB3aWR0aCBhbmQgaGVpZ2h0LCBvciBhbiBhcmVhIG9mIHRleHQuIElmIG5vIHJlZ2lvbiBpcyBzcGVjaWZpZWQsIHRoZSB3aG9sZSBpbWFnZSBpcyBibHVycmVkLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JsdXJfcmVnaW9uXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBib3JkZXI6IHtcbiAgICBxdWFsaWZpZXI6IFwiYm9cIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkZHMgYSBzb2xpZCBib3JkZXIgYXJvdW5kIGFuIGltYWdlIG9yIHZpZGVvLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNib19ib3JkZXJcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGJyaWdodG5lc3M6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJicmlnaHRuZXNzXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGltYWdlIG9yIHZpZGVvIGJyaWdodG5lc3MuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYnJpZ2h0bmVzc1wiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgYnJpZ2h0bmVzc0hTQjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImJyaWdodG5lc3NfaHNiXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkanVzdHMgaW1hZ2UgYnJpZ2h0bmVzcyBtb2R1bGF0aW9uIGluIEhTQiB0byBwcmV2ZW50IGFydGlmYWN0cyBpbiBzb21lIGltYWdlcy5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9icmlnaHRuZXNzX2hzYlwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgY2FydG9vbmlmeToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNhcnRvb25pZnlcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIGNhcnRvb24gZWZmZWN0IHRvIGFuIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NhcnRvb25pZnlcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGNvbG9yOiB7XG4gICAgcXVhbGlmaWVyOiBcImNvXCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IHNwZWNpZmllcyB0aGUgY29sb3IgdG8gdXNlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgdHJhbnNmb3JtYXRpb24uXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2NvX2NvbG9yXCJcbiAgICAgIH0pXG4gICAgKSxcbiAgICBjb252ZXJ0ZXJzOiBjb252ZXJ0ZXJzQ29sb3JzXG4gIH0sXG4gIGNvbG9yaXplOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiY29sb3JpemVcIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkNvbG9yaXplcyBhbiBpbWFnZS4gQnkgZGVmYXVsdCwgZ3JheSBpcyB1c2VkIGZvciBjb2xvcml6YXRpb24uIFlvdSBjYW4gc3BlY2lmeSBhIGRpZmZlcmVudCBjb2xvciB1c2luZyB0aGUgY29sb3IgcXVhbGlmaWVyLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NvbG9yaXplXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBjb250cmFzdDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNvbnRyYXN0XCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkanVzdHMgYW4gaW1hZ2Ugb3IgdmlkZW8gY29udHJhc3QuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfY29udHJhc3RcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGRpc3BsYWNlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiZGlzdG9ydFwiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiRGlzcGxhY2VzIHRoZSBwaXhlbHMgaW4gYW4gaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSBjb2xvciBjaGFubmVscyBvZiB0aGUgcGl4ZWxzIGluIGFub3RoZXIgc3BlY2lmaWVkIGltYWdlIChhIGdyYWRpZW50IG1hcCBzcGVjaWZpZWQgd2l0aCB0aGUgb3ZlcmxheSBwYXJhbWV0ZXIpLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2Rpc3BsYWNlXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBkaXN0b3J0OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiZGlzdG9ydFwiLFxuICAgIHNjaGVtYTogejIuc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiRGlzdG9ydHMgYW4gaW1hZ2UgdG8gYSBuZXcgc2hhcGUgYnkgZWl0aGVyIGFkanVzdGluZyBpdHMgY29ybmVycyBvciBieSB3YXJwaW5nIGl0IGludG8gYW4gYXJjLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2Rpc3RvcnRcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGZpbGxMaWdodDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImZpbGxfbGlnaHRcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgZmlsbCBsaWdodCBhbmQgb3B0aW9uYWxseSBibGVuZHMgdGhlIHJlc3VsdCB3aXRoIHRoZSBvcmlnaW5hbCBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9maWxsX2xpZ2h0XCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBnYW1tYToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImdhbW1hXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGltYWdlIG9yIHZpZGVvIGdhbW1hIGxldmVsLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dhbW1hXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBncmFkaWVudEZhZGU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJncmFkaWVudF9mYWRlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFwcGxpZXMgYSBncmFkaWVudCBmYWRlIGVmZmVjdCBmcm9tIHRoZSBlZGdlIG9mIGFuIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dyYWRpZW50X2ZhZGVcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGdyYXlzY2FsZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImdyYXlzY2FsZVwiLFxuICAgIHNjaGVtYTogejIuYm9vbGVhbigpLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkNvbnZlcnRzIGFuIGltYWdlIHRvIGdyYXlzY2FsZSAobXVsdGlwbGUgc2hhZGVzIG9mIGdyYXkpLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dyYXlzY2FsZVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgaHVlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiaHVlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkanVzdHMgYW4gaW1hZ2UncyBodWUuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfaHVlXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBpbXByb3ZlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiaW1wcm92ZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBZGp1c3RzIGFuIGltYWdlJ3MgY29sb3JzLCBjb250cmFzdCBhbmQgYnJpZ2h0bmVzcyB0byBpbXByb3ZlIGl0cyBhcHBlYXJhbmNlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2ltcHJvdmVcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIGxvb3A6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJsb29wXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuYm9vbGVhbigpLCB6Mi5udW1iZXIoKSwgejIuc3RyaW5nKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJMb29wcyBhIHZpZGVvIG9yIGFuaW1hdGVkIGltYWdlIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2xvb3BcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIG11bHRpcGx5OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibXVsdGlwbHlcIixcbiAgICBzY2hlbWE6IHoyLmJvb2xlYW4oKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IGJsZW5kcyBpbWFnZSBsYXllcnMgdXNpbmcgdGhlIG11bHRpcGx5IGJsZW5kIG1vZGVcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9tdWx0aXBseVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgbmVnYXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibmVnYXRlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9uZWdhdGVcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9uZWdhdGVcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIG5vaXNlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibm9pc2VcIixcbiAgICBzY2hlbWE6IHoyLmJvb2xlYW4oKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfbm9pc2VcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ub2lzZVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgb2lsUGFpbnQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJvaWxfcGFpbnRcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX29pbF9wYWludFwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX29pbF9wYWludFwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgb3BhY2l0eToge1xuICAgIHF1YWxpZmllcjogXCJvXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLm51bWJlcigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgb3BhY2l0eSBvZiBhbiBhc3NldCBhbmQgbWFrZXMgaXQgc2VtaS10cmFuc3BhcmVudC5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujb19vcGFjaXR5XCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBvdXRsaW5lOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwib3V0bGluZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBZGRzIGFuIG91dGxpbmUgZWZmZWN0IHRvIGFuIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX291dGxpbmVcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHBpeGVsYXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicGl4ZWxhdGVcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHBpeGVsYXRpb24gZWZmZWN0LlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3BpeGVsYXRlXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBwaXhlbGF0ZUZhY2VzOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicGl4ZWxhdGVfZmFjZXNcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiUGl4ZWxhdGVzIGFsbCBkZXRlY3RlZCBmYWNlcyBpbiBhbiBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9waXhlbGF0ZV9mYWNlc1wiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgcGl4ZWxhdGVSZWdpb246IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJwaXhlbGF0ZV9yZWdpb25cIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiUGl4ZWxhdGVzIHRoZSByZWdpb24gb2YgYW4gaW1hZ2Ugc3BlY2lmaWVkIGJ5IHgsIHksIHdpZHRoIGFuZCBoZWlnaHQsIG9yIGFuIGFyZWEgb2YgdGV4dC5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9waXhlbGF0ZV9yZWdpb25cIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHJhZGl1czoge1xuICAgIHF1YWxpZmllcjogXCJyXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLm51bWJlcigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiUm91bmRzIHRoZSBjb3JuZXJzIG9mIGFuIGltYWdlIG9yIHZpZGVvLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNyX3JvdW5kX2Nvcm5lcnNcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHJlZGV5ZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInJlZGV5ZVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJBdXRvbWF0aWNhbGx5IHJlbW92ZXMgcmVkIGV5ZXMgaW4gYW4gaW1hZ2UuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcmVkZXllXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICByZXBsYWNlQ29sb3I6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJyZXBsYWNlX2NvbG9yXCIsXG4gICAgc2NoZW1hOiB6Mi5zdHJpbmcoKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJNYXBzIGFuIGlucHV0IGNvbG9yIGFuZCB0aG9zZSBzaW1pbGFyIHRvIHRoZSBpbnB1dCBjb2xvciB0byBjb3JyZXNwb25kaW5nIHNoYWRlcyBvZiBhIHNwZWNpZmllZCBvdXRwdXQgY29sb3IuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcmVwbGFjZV9jb2xvclwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgc2F0dXJhdGlvbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNhdHVyYXRpb25cIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQWRqdXN0cyBhbiBpbWFnZSBvciB2aWRlbyBzYXR1cmF0aW9uIGxldmVsLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NhdHVyYXRpb25cIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHNjcmVlbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNjcmVlblwiLFxuICAgIHNjaGVtYTogejIuYm9vbGVhbigpLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkEgcXVhbGlmaWVyIHRoYXQgYmxlbmRzIGltYWdlIGxheWVycyB1c2luZyB0aGUgc2NyZWVuIGJsZW5kIG1vZGUuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfc2NyZWVuXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICBzZXBpYToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNlcGlhXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkNoYW5nZXMgdGhlIGNvbG9yIHNjaGVtZSBvZiBhbiBpbWFnZSB0byBzZXBpYS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zZXBpYVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgc2hhZG93OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2hhZG93XCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFkZHMgYSBncmF5IHNoYWRvdyB0byB0aGUgYm90dG9tIHJpZ2h0IG9mIGFuIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NoYWRvd1wiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgc2hhcnBlbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNoYXJwZW5cIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHNoYXJwZW5pbmcgZmlsdGVyLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NoYXJwZW5cIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHNoZWFyOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2hlYXJcIixcbiAgICBzY2hlbWE6IHoyLnN0cmluZygpLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIlNrZXdzIGFuIGltYWdlIGFjY29yZGluZyB0byB0aGUgdHdvIHNwZWNpZmllZCB2YWx1ZXMgaW4gZGVncmVlcy5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaGVhclwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgc2ltdWxhdGVDb2xvcmJsaW5kOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwic2ltdWxhdGVfY29sb3JibGluZFwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJTaW11bGF0ZXMgdGhlIHdheSBhbiBpbWFnZSB3b3VsZCBhcHBlYXIgdG8gc29tZW9uZSB3aXRoIHRoZSBzcGVjaWZpZWQgY29sb3IgYmxpbmQgY29uZGl0aW9uLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NpbXVsYXRlX2NvbG9yYmxpbmRcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHRpbnQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJ0aW50XCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkJsZW5kcyBhbiBpbWFnZSB3aXRoIG9uZSBvciBtb3JlIHRpbnQgY29sb3JzIGF0IGEgc3BlY2lmaWVkIGludGVuc2l0eS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV90aW50XCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICB0cmltOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidHJpbVwiLFxuICAgIHNjaGVtYTogejIudW5pb24oW3oyLnN0cmluZygpLCB6Mi5ib29sZWFuKCldKS5kZXNjcmliZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dDogXCJEZXRlY3RzIGFuZCByZW1vdmVzIGltYWdlIGVkZ2VzIHdob3NlIGNvbG9yIGlzIHNpbWlsYXIgdG8gdGhlIGNvcm5lciBwaXhlbHMuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdHJpbVwiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgdW5zaGFycE1hc2s6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJ1bnNoYXJwX21hc2tcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhbiB1bnNoYXJwIG1hc2sgZmlsdGVyIHRvIGFuIGltYWdlLlwiLFxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3Vuc2hhcnBfbWFza1wiXG4gICAgICB9KVxuICAgIClcbiAgfSxcbiAgdmVjdG9yaXplOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidmVjdG9yaXplXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIlZlY3Rvcml6ZXMgYW4gaW1hZ2UuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmVjdG9yaXplXCJcbiAgICAgIH0pXG4gICAgKVxuICB9LFxuICB2aWJyYW5jZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInZpYnJhbmNlXCIsXG4gICAgc2NoZW1hOiB6Mi51bmlvbihbejIuc3RyaW5nKCksIHoyLmJvb2xlYW4oKV0pLmRlc2NyaWJlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0ZXh0OiBcIkFwcGxpZXMgYSB2aWJyYW5jZSBmaWx0ZXIgdG8gYW4gaW1hZ2UuXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmlicmFuY2VcIlxuICAgICAgfSlcbiAgICApXG4gIH0sXG4gIHZpZ25ldHRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidmlnbmV0dGVcIixcbiAgICBzY2hlbWE6IHoyLnVuaW9uKFt6Mi5zdHJpbmcoKSwgejIuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHZpZ25ldHRlIGVmZmVjdCB0byBhbiBpbWFnZS5cIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV92aWduZXR0ZVwiXG4gICAgICB9KVxuICAgIClcbiAgfVxufTtcblxuLy8gc3JjL3R5cGVzL2Fzc2V0LnRzXG5pbXBvcnQgeyB6IGFzIHoxNCB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL3BsdWdpbnMvY3JvcHBpbmcudHNcbmltcG9ydCB7IHogYXMgejMgfSBmcm9tIFwiem9kXCI7XG5cbi8vIHNyYy9saWIvdHJhbnNmb3JtYXRpb25zLnRzXG5mdW5jdGlvbiBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gIHByZWZpeCxcbiAgcXVhbGlmaWVyLFxuICB2YWx1ZSxcbiAgY29udmVydGVyc1xufSkge1xuICBsZXQgdHJhbnNmb3JtYXRpb24gPSBcIlwiO1xuICBpZiAocHJlZml4KSB7XG4gICAgdHJhbnNmb3JtYXRpb24gPSBgJHtwcmVmaXh9X2A7XG4gIH1cbiAgbGV0IHRyYW5zZm9ybWF0aW9uVmFsdWUgPSB2YWx1ZTtcbiAgY29udmVydGVycz8uZm9yRWFjaCgoeyB0ZXN0LCBjb252ZXJ0IH0pID0+IHtcbiAgICBpZiAoIXRlc3QodHJhbnNmb3JtYXRpb25WYWx1ZSkpIHJldHVybjtcbiAgICB0cmFuc2Zvcm1hdGlvblZhbHVlID0gY29udmVydCh0cmFuc2Zvcm1hdGlvblZhbHVlKTtcbiAgfSk7XG4gIGlmICh0cmFuc2Zvcm1hdGlvblZhbHVlID09PSB0cnVlIHx8IHRyYW5zZm9ybWF0aW9uVmFsdWUgPT09IFwidHJ1ZVwiKSB7XG4gICAgcmV0dXJuIGAke3RyYW5zZm9ybWF0aW9ufSR7cXVhbGlmaWVyfWA7XG4gIH1cbiAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1hdGlvblZhbHVlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB0cmFuc2Zvcm1hdGlvblZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKHByZWZpeCkge1xuICAgICAgcmV0dXJuIGAke3RyYW5zZm9ybWF0aW9ufSR7cXVhbGlmaWVyfToke3RyYW5zZm9ybWF0aW9uVmFsdWV9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAke3F1YWxpZmllcn1fJHt0cmFuc2Zvcm1hdGlvblZhbHVlfWA7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBwcm9tcHRBcnJheVRvU3RyaW5nKHByb21wdEFycmF5KSB7XG4gIHJldHVybiBgKCR7cHJvbXB0QXJyYXkuam9pbihcIjtcIil9KWA7XG59XG5mdW5jdGlvbiBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIocGFyYW0pIHtcbiAgaWYgKHR5cGVvZiBwYXJhbSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHBhcmFtO1xuICByZXR1cm4gcGFyc2VJbnQocGFyYW0pO1xufVxuXG4vLyBzcmMvcGx1Z2lucy9jcm9wcGluZy50c1xudmFyIGNyb3BzQXNwZWN0UmF0aW8gPSBbXCJhdXRvXCIsIFwiY3JvcFwiLCBcImZpbGxcIiwgXCJsZmlsbFwiLCBcImZpbGxfcGFkXCIsIFwidGh1bWJcIl07XG52YXIgY3JvcHNHcmF2aXR5QXV0byA9IFtcImF1dG9cIiwgXCJjcm9wXCIsIFwiZmlsbFwiLCBcImxmaWxsXCIsIFwiZmlsbF9wYWRcIiwgXCJ0aHVtYlwiXTtcbnZhciBjcm9wc1dpdGhab29tID0gW1wiY3JvcFwiLCBcInRodW1iXCJdO1xudmFyIERFRkFVTFRfQ1JPUCA9IFwibGltaXRcIjtcbnZhciBjcm9wT3B0aW9uc1NjaGVtYSA9IHozLm9iamVjdCh7XG4gIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpby5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdHlwZTogY3JvcC5zY2hlbWEsXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHg6IHguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHk6IHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIHpvb206IHpvb20uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHNvdXJjZTogejMuYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xudmFyIGNyb3BwaW5nUHJvcHMgPSB7XG4gIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpby5zY2hlbWEub3B0aW9uYWwoKSxcbiAgY3JvcDogejMudW5pb24oW1xuICAgIGNyb3Auc2NoZW1hLFxuICAgIGNyb3BPcHRpb25zU2NoZW1hLFxuICAgIHozLmFycmF5KGNyb3BPcHRpb25zU2NoZW1hKVxuICBdKS5kZWZhdWx0KERFRkFVTFRfQ1JPUCkub3B0aW9uYWwoKSxcbiAgZ3Jhdml0eTogZ3Jhdml0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgem9vbTogem9vbS5zY2hlbWEub3B0aW9uYWwoKVxufTtcbnZhciBjcm9wcGluZ1BsdWdpbiA9IHtcbiAgcHJvcHM6IGNyb3BwaW5nUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl0sXG4gIHBsdWdpbjogKHNldHRpbmdzKSA9PiB7XG4gICAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gc2V0dGluZ3M7XG4gICAgbGV0IGNyb3BzID0gW107XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNyb3AgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY3JvcHMucHVzaCh7XG4gICAgICAgIGFzcGVjdFJhdGlvOiBvcHRpb25zLmFzcGVjdFJhdGlvLFxuICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICBncmF2aXR5OiBvcHRpb25zLmdyYXZpdHksXG4gICAgICAgIHR5cGU6IG9wdGlvbnMuY3JvcCB8fCBERUZBVUxUX0NST1AsXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICB6b29tOiBvcHRpb25zLnpvb21cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvcHRpb25zLmNyb3ApKSB7XG4gICAgICBjcm9wcy5wdXNoKG9wdGlvbnMuY3JvcCk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMuY3JvcCkpIHtcbiAgICAgIGNyb3BzID0gb3B0aW9ucy5jcm9wO1xuICAgIH1cbiAgICBpZiAoY3JvcHMubGVuZ3RoID09PSAxICYmIGNyb3BzWzBdLnNvdXJjZSA9PT0gdHJ1ZSkge1xuICAgICAgY3JvcHMucHVzaCh7XG4gICAgICAgIGFzcGVjdFJhdGlvOiBvcHRpb25zLmFzcGVjdFJhdGlvLFxuICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgICAgZ3Jhdml0eTogb3B0aW9ucy5ncmF2aXR5LFxuICAgICAgICB0eXBlOiBERUZBVUxUX0NST1AsXG4gICAgICAgIHpvb206IG9wdGlvbnMuem9vbVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtYXRpb25zID0gW107XG4gICAgY29uc3Qgc291cmNlVHJhbnNmb3JtYXRpb25zID0gW107XG4gICAgZm9yIChjb25zdCBjcm9wMiBvZiBjcm9wcykge1xuICAgICAgY29uc3QgY3JvcERpbWVuc2lvbnMgPSB7XG4gICAgICAgIHdpZHRoOiBjcm9wMi53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjcm9wMi5oZWlnaHRcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIGNyb3BEaW1lbnNpb25zLndpZHRoID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjcm9wMi5hc3BlY3RSYXRpbyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjcm9wRGltZW5zaW9ucy53aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIGlmICh0eXBlb2YgY3JvcERpbWVuc2lvbnMuaGVpZ2h0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY3JvcERpbWVuc2lvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IGNvbGxlY3RUcmFuc2Zvcm1hdGlvbnMoe1xuICAgICAgICBhc3BlY3RSYXRpbzogY3JvcDIuYXNwZWN0UmF0aW8sXG4gICAgICAgIGdyYXZpdHk6IGNyb3AyLmdyYXZpdHksXG4gICAgICAgIHR5cGU6IGNyb3AyLnR5cGUgfHwgREVGQVVMVF9DUk9QLFxuICAgICAgICB4OiBjcm9wMi54LFxuICAgICAgICB5OiBjcm9wMi55LFxuICAgICAgICB6b29tOiBjcm9wMi56b29tLFxuICAgICAgICAuLi5jcm9wRGltZW5zaW9uc1xuICAgICAgfSk7XG4gICAgICBpZiAodHJhbnNmb3JtYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGNyb3AyLnNvdXJjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5wdXNoKHRyYW5zZm9ybWF0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluYWxUcmFuc2Zvcm1hdGlvbnMucHVzaCh0cmFuc2Zvcm1hdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24odHJhbnNmb3JtYXRpb24uam9pbihcIixcIikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgICBvcHRpb25zOiB7fVxuICAgIH07XG4gICAgaWYgKHJlc3VsdHMub3B0aW9ucyAmJiBmaW5hbFRyYW5zZm9ybWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHRzLm9wdGlvbnMucmVzaXplID0gZmluYWxUcmFuc2Zvcm1hdGlvbnMubWFwKCh0cmFuc2Zvcm1hdGlvbikgPT4gdHJhbnNmb3JtYXRpb24uam9pbihcIixcIikpLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxufTtcbmZ1bmN0aW9uIGNvbGxlY3RUcmFuc2Zvcm1hdGlvbnMoY29sbGVjdE9wdGlvbnMpIHtcbiAgY29uc3QgeyBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8yLCB0eXBlOiBjcm9wMiwgeDogeDIsIHk6IHkyLCB6b29tOiB6b29tMiB9ID0gY29sbGVjdE9wdGlvbnM7XG4gIGxldCBncmF2aXR5MiA9IGNvbGxlY3RPcHRpb25zLmdyYXZpdHk7XG4gIGNvbnN0IGhlaWdodDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIoY29sbGVjdE9wdGlvbnMuaGVpZ2h0KTtcbiAgY29uc3Qgd2lkdGgyID0gbm9ybWFsaXplTnVtYmVyUGFyYW1ldGVyKGNvbGxlY3RPcHRpb25zLndpZHRoKTtcbiAgY29uc3QgdHJhbnNmb3JtYXRpb25zID0gW107XG4gIGNvbnN0IGhhc0RlZmluZWREaW1lbnNpb25zID0gaGVpZ2h0MiB8fCB3aWR0aDI7XG4gIGNvbnN0IGhhc1ZhbGlkQXNwZWN0UmF0aW8gPSBhc3BlY3RSYXRpbzIgJiYgY3JvcHNBc3BlY3RSYXRpby5pbmNsdWRlcyhjcm9wMik7XG4gIGNvbnN0IGhhc1hDb29yZGluYXRlID0gdHlwZW9mIHgyID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4MiA9PT0gXCJzdHJpbmdcIjtcbiAgY29uc3QgaGFzWUNvb3JkaW5hdGUgPSB0eXBlb2YgeTIgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHkyID09PSBcInN0cmluZ1wiO1xuICBjb25zdCBoYXNEZWZpbmVkQ29vcmRpbmF0ZXMgPSBoYXNYQ29vcmRpbmF0ZSB8fCBoYXNZQ29vcmRpbmF0ZTtcbiAgaWYgKGNyb3AyICYmIChoYXNEZWZpbmVkRGltZW5zaW9ucyB8fCBoYXNWYWxpZEFzcGVjdFJhdGlvIHx8IGhhc0RlZmluZWRDb29yZGluYXRlcykpIHtcbiAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgY18ke2Nyb3AyfWApO1xuICB9XG4gIGlmIChoYXNWYWxpZEFzcGVjdFJhdGlvKSB7XG4gICAgdHJhbnNmb3JtYXRpb25zLnB1c2goYGFyXyR7YXNwZWN0UmF0aW8yfWApO1xuICB9XG4gIGlmICh3aWR0aDIpIHtcbiAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgd18ke3dpZHRoMn1gKTtcbiAgfVxuICBpZiAoIVtcImxpbWl0XCJdLmluY2x1ZGVzKGNyb3AyKSAmJiB0eXBlb2YgaGVpZ2h0MiA9PT0gXCJudW1iZXJcIikge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGBoXyR7aGVpZ2h0Mn1gKTtcbiAgfVxuICBpZiAoaGFzWENvb3JkaW5hdGUpIHtcbiAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgeF8ke3gyfWApO1xuICB9XG4gIGlmIChoYXNZQ29vcmRpbmF0ZSkge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB5XyR7eTJ9YCk7XG4gIH1cbiAgaWYgKCFncmF2aXR5MiAmJiBjcm9wc0dyYXZpdHlBdXRvLmluY2x1ZGVzKGNyb3AyKSAmJiAhaGFzRGVmaW5lZENvb3JkaW5hdGVzKSB7XG4gICAgZ3Jhdml0eTIgPSBcImF1dG9cIjtcbiAgfVxuICBpZiAoZ3Jhdml0eTIpIHtcbiAgICBpZiAoZ3Jhdml0eTIgPT09IFwiYXV0b1wiICYmICFjcm9wc0dyYXZpdHlBdXRvLmluY2x1ZGVzKGNyb3AyKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgQXV0byBncmF2aXR5IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBjcm9wIG1vZGVzOiAke2Nyb3BzR3Jhdml0eUF1dG8uam9pbihcbiAgICAgICAgICBcIiwgXCJcbiAgICAgICAgKX0uIE5vdCBhcHBseWluZyBncmF2aXR5LmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGBnXyR7Z3Jhdml0eTJ9YCk7XG4gICAgfVxuICB9XG4gIGlmICh6b29tMikge1xuICAgIGlmICh6b29tMiA9PT0gXCJhdXRvXCIgJiYgIWNyb3BzV2l0aFpvb20uaW5jbHVkZXMoY3JvcDIpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBab29tIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBjcm9wIG1vZGVzOiAke2Nyb3BzV2l0aFpvb20uam9pbihcbiAgICAgICAgICBcIiwgXCJcbiAgICAgICAgKX0uIE5vdCBhcHBseWluZyB6b29tLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB6XyR7em9vbTJ9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1hdGlvbnM7XG59XG5cbi8vIHNyYy9wbHVnaW5zL2VmZmVjdHMudHNcbmltcG9ydCB7IHogYXMgejQgfSBmcm9tIFwiem9kXCI7XG52YXIgZWZmZWN0UHJvcHMgPSB7XG4gIGFuZ2xlOiBlZmZlY3RzLmFuZ2xlLnNjaGVtYS5vcHRpb25hbCgpLFxuICBhcnQ6IGVmZmVjdHMuYXJ0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBhdXRvQnJpZ2h0bmVzczogZWZmZWN0cy5hdXRvQnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbG9yOiBlZmZlY3RzLmF1dG9Db2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbnRyYXN0OiBlZmZlY3RzLmF1dG9Db250cmFzdC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXNzaXN0Q29sb3JibGluZDogZWZmZWN0cy5hc3Npc3RDb2xvcmJsaW5kLnNjaGVtYS5vcHRpb25hbCgpLFxuICBiYWNrZ3JvdW5kOiBlZmZlY3RzLmJhY2tncm91bmQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJsYWNrd2hpdGU6IGVmZmVjdHMuYmxhY2t3aGl0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYmx1cjogZWZmZWN0cy5ibHVyLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyRmFjZXM6IGVmZmVjdHMuYmx1ckZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyUmVnaW9uOiBlZmZlY3RzLmJsdXJSZWdpb24uc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJvcmRlcjogZWZmZWN0cy5ib3JkZXIuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJyaWdodG5lc3M6IGVmZmVjdHMuYnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYnJpZ2h0bmVzc0hTQjogZWZmZWN0cy5icmlnaHRuZXNzSFNCLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjYXJ0b29uaWZ5OiBlZmZlY3RzLmNhcnRvb25pZnkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGNvbG9yOiBlZmZlY3RzLmNvbG9yLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjb2xvcml6ZTogZWZmZWN0cy5jb2xvcml6ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgY29udHJhc3Q6IGVmZmVjdHMuY29udHJhc3Quc2NoZW1hLm9wdGlvbmFsKCksXG4gIGRpc3RvcnQ6IGVmZmVjdHMuZGlzdG9ydC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZmlsbExpZ2h0OiBlZmZlY3RzLmZpbGxMaWdodC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZ2FtbWE6IGVmZmVjdHMuZ2FtbWEuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYWRpZW50RmFkZTogZWZmZWN0cy5ncmFkaWVudEZhZGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYXlzY2FsZTogZWZmZWN0cy5ncmF5c2NhbGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGltcHJvdmU6IGVmZmVjdHMuaW1wcm92ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbG9vcDogZWZmZWN0cy5sb29wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBtdWx0aXBseTogZWZmZWN0cy5tdWx0aXBseS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbmVnYXRlOiBlZmZlY3RzLm5lZ2F0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb2lsUGFpbnQ6IGVmZmVjdHMub2lsUGFpbnQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIG9wYWNpdHk6IGVmZmVjdHMub3BhY2l0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb3V0bGluZTogZWZmZWN0cy5vdXRsaW5lLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZTogZWZmZWN0cy5waXhlbGF0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcGl4ZWxhdGVGYWNlczogZWZmZWN0cy5waXhlbGF0ZUZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZVJlZ2lvbjogZWZmZWN0cy5waXhlbGF0ZVJlZ2lvbi5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmFkaXVzOiBlZmZlY3RzLnJhZGl1cy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVkZXllOiBlZmZlY3RzLnJlZGV5ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVwbGFjZUNvbG9yOiBlZmZlY3RzLnJlcGxhY2VDb2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2F0dXJhdGlvbjogZWZmZWN0cy5zYXR1cmF0aW9uLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzY3JlZW46IGVmZmVjdHMuc2NyZWVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzZXBpYTogZWZmZWN0cy5zZXBpYS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhZG93OiBlZmZlY3RzLnNoYWRvdy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhcnBlbjogZWZmZWN0cy5zaGFycGVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzaGVhcjogZWZmZWN0cy5zaGVhci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2ltdWxhdGVDb2xvcmJsaW5kOiBlZmZlY3RzLnNpbXVsYXRlQ29sb3JibGluZC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdGludDogZWZmZWN0cy50aW50LnNjaGVtYS5vcHRpb25hbCgpLFxuICB0cmltOiBlZmZlY3RzLnRyaW0uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHVuc2hhcnBNYXNrOiBlZmZlY3RzLnVuc2hhcnBNYXNrLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2ZWN0b3JpemU6IGVmZmVjdHMudmVjdG9yaXplLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2aWJyYW5jZTogZWZmZWN0cy52aWJyYW5jZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdmlnbmV0dGU6IGVmZmVjdHMudmlnbmV0dGUuc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgZWZmZWN0c1Byb3BzID0ge1xuICBlZmZlY3RzOiB6NC5hcnJheSh6NC5vYmplY3QoZWZmZWN0UHJvcHMpKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFycmF5IG9mIG9iamVjdHMgc3BlY2lmeWluZyB0cmFuc2Zvcm1hdGlvbnMgdG8gYmUgYXBwbGllZCB0byBhc3NldC5cIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKSxcbiAgLi4uZWZmZWN0UHJvcHNcbn07XG52YXIgZWZmZWN0c1BsdWdpbiA9IHtcbiAgcHJvcHM6IGVmZmVjdHNQcm9wcyxcbiAgYXNzZXRUeXBlczogW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXSxcbiAgcGx1Z2luOiAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBzZXR0aW5ncztcbiAgICBjb25zdCB0cmFuc2Zvcm1hdGlvblN0cmluZ3MgPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvblN0cmluZyh7XG4gICAgICBlZmZlY3RzLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICAgIHRyYW5zZm9ybWF0aW9uU3RyaW5ncy5maWx0ZXIoKHQpID0+ICEhdCkuZm9yRWFjaCgodHJhbnNmb3JtYXRpb24pID0+IGNsZEFzc2V0LmVmZmVjdCh0cmFuc2Zvcm1hdGlvbikpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnM/LmVmZmVjdHMpKSB7XG4gICAgICBvcHRpb25zPy5lZmZlY3RzLmZvckVhY2goKGVmZmVjdHNTZXQpID0+IHtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb25TdHJpbmcgPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvblN0cmluZyh7XG4gICAgICAgICAgZWZmZWN0cyxcbiAgICAgICAgICBvcHRpb25zOiBlZmZlY3RzU2V0XG4gICAgICAgIH0pLmZpbHRlcigodCkgPT4gISF0KS5qb2luKFwiLFwiKTtcbiAgICAgICAgY2xkQXNzZXQuZWZmZWN0KHRyYW5zZm9ybWF0aW9uU3RyaW5nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvblN0cmluZyh7XG4gICAgICBlZmZlY3RzOiBlZmZlY3RzMixcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMyXG4gICAgfSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGVmZmVjdHMyKS5tYXAoXG4gICAgICAgIChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHByZWZpeCwgcXVhbGlmaWVyLCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RzMltrZXldO1xuICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICBxdWFsaWZpZXIsXG4gICAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9uczI/LltrZXldLFxuICAgICAgICAgICAgY29udmVydGVyc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL2ZsYWdzLnRzXG52YXIgeyBmbGFnc0VudW06IGZsYWdzRW51bTIgfSA9IHBhcmFtZXRlcnNfZXhwb3J0cztcbnZhciBmbGFnc1Byb3BzID0ge1xuICBmbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgZmxhZ3NQbHVnaW4gPSB7XG4gIHByb3BzOiBmbGFnc1Byb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdLFxuICBwbHVnaW46IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHsgZmxhZ3M6IGZsYWdzMiA9IFtdIH0gPSBvcHRpb25zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZsYWdzMikgJiYgZmxhZ3MyLmxlbmd0aCA+IDApIHtcbiAgICAgIGZsYWdzMi5mb3JFYWNoKChmbGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtMi5zYWZlUGFyc2UoZmxhZyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmxhZyAke2ZsYWd9LCBub3QgYXBwbHlpbmcuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbGRBc3NldC5hZGRGbGFnKGZsYWcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZmxhZ3MyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhmbGFnczIpLmZvckVhY2goKFtxdWFsaWZpZXIsIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1Y2Nlc3MgfSA9IGZsYWdzRW51bTIuc2FmZVBhcnNlKHF1YWxpZmllcik7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmxhZyAke3F1YWxpZmllcn0sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBmbF8ke3F1YWxpZmllcn06JHt2YWx1ZX1gKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL25hbWVkLXRyYW5zZm9ybWF0aW9ucy50c1xuaW1wb3J0IHsgeiBhcyB6NSB9IGZyb20gXCJ6b2RcIjtcbnZhciBOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hID0gejUuc3RyaW5nKCk7XG52YXIgbmFtZWRUcmFuc2Zvcm1hdGlvbnNQcm9wcyA9IHtcbiAgbmFtZWRUcmFuc2Zvcm1hdGlvbnM6IHo1LnVuaW9uKFtOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hLCB6NS5hcnJheShOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiTmFtZWQgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjbmFtZWRfdHJhbnNmb3JtYXRpb25zXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKCksXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2Uge0BsaW5rIGBuYW1lZFRyYW5zZm9ybWF0aW9uc2B9IGluc3RlYWRcbiAgICovXG4gIHRyYW5zZm9ybWF0aW9uczogejUudW5pb24oW05hbWVkVHJhbnNmb3JtYXRpb25TY2hlbWEsIHo1LmFycmF5KE5hbWVkVHJhbnNmb3JtYXRpb25TY2hlbWEpXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJEZXByZWNhdGVkOiB1c2UgbmFtZWRUcmFuc2Zvcm1hdGlvbnMgaW5zdGVhZFwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjbmFtZWRfdHJhbnNmb3JtYXRpb25zXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgbmFtZWRUcmFuc2Zvcm1hdGlvbnNQbHVnaW4gPSB7XG4gIHByb3BzOiBuYW1lZFRyYW5zZm9ybWF0aW9uc1Byb3BzLFxuICBzdHJpY3Q6IHRydWUsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl0sXG4gIHBsdWdpbjogKHsgY2xkQXNzZXQsIG9wdGlvbnMgfSkgPT4ge1xuICAgIGNvbnN0IHsgdHJhbnNmb3JtYXRpb25zLCBuYW1lZFRyYW5zZm9ybWF0aW9ucyB9ID0gb3B0aW9ucztcbiAgICBpZiAodHJhbnNmb3JtYXRpb25zICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WSVJPTk1FTlQgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlRoZSB0cmFuc2Zvcm1hdGlvbnMgcHJvcCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG5hbWVkVHJhbnNmb3JtYXRpb25zIGluc3RlYWQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBfbmFtZWRUcmFuc2Zvcm1hdGlvbnMgPSBuYW1lZFRyYW5zZm9ybWF0aW9ucyB8fCB0cmFuc2Zvcm1hdGlvbnMgfHwgW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KF9uYW1lZFRyYW5zZm9ybWF0aW9ucykpIHtcbiAgICAgIF9uYW1lZFRyYW5zZm9ybWF0aW9ucyA9IFtfbmFtZWRUcmFuc2Zvcm1hdGlvbnNdO1xuICAgIH1cbiAgICBfbmFtZWRUcmFuc2Zvcm1hdGlvbnMuZm9yRWFjaCgodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGB0XyR7dHJhbnNmb3JtYXRpb259YCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vLyBzcmMvcGx1Z2lucy9vdmVybGF5cy50c1xuaW1wb3J0IHsgZW5jb2RlQmFzZTY0LCBvYmplY3RIYXNLZXksIHNvcnRCeUtleSB9IGZyb20gXCJAY2xvdWRpbmFyeS11dGlsL3V0aWxcIjtcbmltcG9ydCB7IHogYXMgejYgfSBmcm9tIFwiem9kXCI7XG52YXIgb3ZlcmxheVRleHRTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICBhbGlnbm1lbnQ6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFudGlhbGlhczogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgYm9yZGVyOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBjb2xvcjogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZm9udEZhbWlseTogejYuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZm9udFNpemU6IHo2Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gIGZvbnRTdHlsZTogejYudW5pb24oW3o2LnN0cmluZygpLCB6Ni5udW1iZXIoKV0pLm9wdGlvbmFsKCksXG4gIGZvbnRXZWlnaHQ6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGhpbnRpbmc6IHo2LnVuaW9uKFt6Ni5zdHJpbmcoKSwgejYubnVtYmVyKCldKS5vcHRpb25hbCgpLFxuICBsZXR0ZXJTcGFjaW5nOiB6Ni51bmlvbihbejYuc3RyaW5nKCksIHo2Lm51bWJlcigpXSkub3B0aW9uYWwoKSxcbiAgbGluZVNwYWNpbmc6IHo2LnVuaW9uKFt6Ni5zdHJpbmcoKSwgejYubnVtYmVyKCldKS5vcHRpb25hbCgpLFxuICBzdHJva2U6IHo2LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHRleHQ6IHo2LnN0cmluZygpXG4gIC8vIFJlcXVpcmVkIGlmIHVzaW5nIG9iamVjdCBmb3JtYXRcbn0pO1xudmFyIG92ZXJsYXlQb3NpdGlvblNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIGFuZ2xlOiBhbmdsZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZ3Jhdml0eTogZ3Jhdml0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgeDogeC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgeTogeS5zY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgb3ZlcmxheVNjaGVtYSA9IHo2Lm9iamVjdCh7XG4gIGFwcGxpZWRFZmZlY3RzOiB6Ni5hcnJheSh6Ni5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBhcHBsaWVkRmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBlZmZlY3RzOiB6Ni5hcnJheSh6Ni5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBjcm9wOiBjcm9wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBmbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBwb3NpdGlvbjogb3ZlcmxheVBvc2l0aW9uU2NoZW1hLm9wdGlvbmFsKCksXG4gIHB1YmxpY0lkOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0ZXh0OiB6Ni51bmlvbihbejYuc3RyaW5nKCksIG92ZXJsYXlUZXh0U2NoZW1hXSkub3B0aW9uYWwoKSxcbiAgdXJsOiB6Ni5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIERFRkFVTFRfVEVYVF9PUFRJT05TID0ge1xuICBjb2xvcjogXCJibGFja1wiLFxuICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gIGZvbnRTaXplOiAyMDAsXG4gIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG59O1xudmFyIG92ZXJsYXlzUHJvcHMgPSB7XG4gIG92ZXJsYXk6IG92ZXJsYXlTY2hlbWEuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJJbWFnZSBvciB0ZXh0IGxheWVyIHRoYXQgaXMgYXBwbGllZCBvbiB0b3Agb2YgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNsX2xheWVyXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKCksXG4gIG92ZXJsYXlzOiB6Ni5hcnJheShvdmVybGF5U2NoZW1hKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkltYWdlIG9yIHRleHQgbGF5ZXJzIHRoYXQgYXJlIGFwcGxpZWQgb24gdG9wIG9mIHRoZSBiYXNlIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICB0ZXh0OiB6Ni5zdHJpbmcoKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlRleHQgdG8gYmUgb3ZlcmxhaWQgb24gYXNzZXQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyN0cmFuc2Zvcm1hdGlvbl91cmxfc3RydWN0dXJlXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgb3ZlcmxheXNQbHVnaW4gPSB7XG4gIHByb3BzOiBvdmVybGF5c1Byb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdLFxuICBwbHVnaW46ICh7IGNsZEFzc2V0LCBvcHRpb25zIH0pID0+IHtcbiAgICBjb25zdCB7IHRleHQ6IHRleHQyLCBvdmVybGF5cyA9IFtdIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHR5cGUgPSBcIm92ZXJsYXlcIjtcbiAgICBjb25zdCB0eXBlUXVhbGlmaWVyID0gXCJsXCI7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3ZlcmxheXMpKSB7XG4gICAgICBvdmVybGF5cy5mb3JFYWNoKGFwcGx5T3ZlcmxheSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGV4dDIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGFwcGx5T3ZlcmxheSh7XG4gICAgICAgIHRleHQ6IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfVEVYVF9PUFRJT05TLCB7XG4gICAgICAgICAgdGV4dDogdGV4dDJcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRleHQyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBhcHBseU92ZXJsYXkoe1xuICAgICAgICB0ZXh0OiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1RFWFRfT1BUSU9OUywgdGV4dDIpXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXBwbHlPdmVybGF5KHtcbiAgICAgIHB1YmxpY0lkLFxuICAgICAgdXJsLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uMixcbiAgICAgIHRleHQ6IHRleHQzLFxuICAgICAgZWZmZWN0czogbGF5ZXJFZmZlY3RzID0gW10sXG4gICAgICBhcHBsaWVkRWZmZWN0cyA9IFtdLFxuICAgICAgZmxhZ3M6IGxheWVyRmxhZ3MgPSBbXSxcbiAgICAgIGFwcGxpZWRGbGFncyA9IFtdLFxuICAgICAgLi4ub3B0aW9uczJcbiAgICB9KSB7XG4gICAgICBjb25zdCBoYXNQdWJsaWNJZCA9IHR5cGVvZiBwdWJsaWNJZCA9PT0gXCJzdHJpbmdcIjtcbiAgICAgIGNvbnN0IGhhc1VybCA9IHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCI7XG4gICAgICBjb25zdCBoYXNUZXh0ID0gdHlwZW9mIHRleHQzID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiB0ZXh0MyA9PT0gXCJzdHJpbmdcIjtcbiAgICAgIGNvbnN0IGhhc1Bvc2l0aW9uID0gdHlwZW9mIHBvc2l0aW9uMiA9PT0gXCJvYmplY3RcIjtcbiAgICAgIGlmICghaGFzUHVibGljSWQgJiYgIWhhc1VybCAmJiAhaGFzVGV4dCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEFuICR7dHlwZX0gaXMgbWlzc2luZyBQdWJsaWMgSUQsIFVSTCwgb3IgVGV4dGApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgbGF5ZXJUcmFuc2Zvcm1hdGlvbjtcbiAgICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHt0eXBlUXVhbGlmaWVyfV90ZXh0YDtcbiAgICAgIH0gZWxzZSBpZiAoaGFzUHVibGljSWQpIHtcbiAgICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke3R5cGVRdWFsaWZpZXJ9XyR7cHVibGljSWQucmVwbGFjZShcbiAgICAgICAgICAvXFwvL2csXG4gICAgICAgICAgXCI6XCJcbiAgICAgICAgKX1gO1xuICAgICAgfSBlbHNlIGlmIChoYXNVcmwpIHtcbiAgICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke3R5cGVRdWFsaWZpZXJ9X2ZldGNoOiR7ZW5jb2RlQmFzZTY0KHVybCl9YDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByaW1hcnkyID0gW107XG4gICAgICBjb25zdCBhcHBsaWVkID0gW107XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zMikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICghb2JqZWN0SGFzS2V5KHByaW1hcnksIGtleSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBxdWFsaWZpZXIsIGNvbnZlcnRlcnMgfSA9IHByaW1hcnlba2V5XTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICAgIHZhbHVlOiBvcHRpb25zMltrZXldLFxuICAgICAgICAgIGNvbnZlcnRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIHByaW1hcnkyLnB1c2godHJhbnNmb3JtYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxheWVyRWZmZWN0cy5mb3JFYWNoKChlZmZlY3QpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoZWZmZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCBlZmZlY3RRdWFsaWZpZXIgPSBwcmltYXJ5W2tleV0gfHwgZWZmZWN0c1trZXldIHx8IHBvc2l0aW9uW2tleV07XG4gICAgICAgICAgaWYgKCFlZmZlY3RRdWFsaWZpZXIpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB7IHF1YWxpZmllciwgcHJlZml4LCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RRdWFsaWZpZXI7XG4gICAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICBxdWFsaWZpZXIsXG4gICAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgICB2YWx1ZTogZWZmZWN0W2tleV0sXG4gICAgICAgICAgICBjb252ZXJ0ZXJzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBwcmltYXJ5Mi5wdXNoKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBhcHBsaWVkRWZmZWN0cy5mb3JFYWNoKChlZmZlY3QpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoZWZmZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCBlZmZlY3RRdWFsaWZpZXIgPSBwcmltYXJ5W2tleV0gfHwgZWZmZWN0c1trZXldIHx8IHBvc2l0aW9uW2tleV07XG4gICAgICAgICAgaWYgKCFlZmZlY3RRdWFsaWZpZXIpIHJldHVybjtcbiAgICAgICAgICBjb25zdCB7IHF1YWxpZmllciwgcHJlZml4LCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RRdWFsaWZpZXI7XG4gICAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICBxdWFsaWZpZXIsXG4gICAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgICB2YWx1ZTogZWZmZWN0W2tleV0sXG4gICAgICAgICAgICBjb252ZXJ0ZXJzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBhcHBsaWVkLnB1c2godHJhbnNmb3JtYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGFjdGl2ZUxheWVyRmxhZ3MgPSBBcnJheS5pc0FycmF5KGxheWVyRmxhZ3MpID8gbGF5ZXJGbGFncyA6IFtsYXllckZsYWdzXTtcbiAgICAgIGFjdGl2ZUxheWVyRmxhZ3MuZm9yRWFjaCgoZmxhZykgPT4ge1xuICAgICAgICBjb25zdCB7IHN1Y2Nlc3MgfSA9IGZsYWdzRW51bS5zYWZlUGFyc2UoZmxhZyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmxhZyAke2ZsYWd9LCBub3QgYXBwbHlpbmcuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcmltYXJ5Mi5wdXNoKGBmbF8ke2ZsYWd9YCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGFjdGl2ZUFwcGxpZWRGbGFncyA9IEFycmF5LmlzQXJyYXkoYXBwbGllZEZsYWdzKSA/IGFwcGxpZWRGbGFncyA6IFthcHBsaWVkRmxhZ3NdO1xuICAgICAgYWN0aXZlQXBwbGllZEZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgICAgY29uc3QgeyBzdWNjZXNzIH0gPSBmbGFnc0VudW0uc2FmZVBhcnNlKGZsYWcpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIGZsYWcgJHtmbGFnfSwgbm90IGFwcGx5aW5nLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXBwbGllZC5wdXNoKGBmbF8ke2ZsYWd9YCk7XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dDMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB0ZXh0MyA9IHtcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfVEVYVF9PUFRJT05TLFxuICAgICAgICAgICAgdGV4dDogdGV4dDNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHRUcmFuc2Zvcm1hdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0MyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGNvbnN0IHRleHRPcHRpb25zID0gT2JqZWN0LmtleXModGV4dDMpLmZpbHRlcigoa2V5KSA9PiBvYmplY3RIYXNLZXkodGV4dCwga2V5KSkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGV4dDMgJiYgb2JqZWN0SGFzS2V5KHRleHQzLCBrZXkpICYmIHRleHQzW2tleV07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi50ZXh0W2tleV0sXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIG9yZGVyOiB0ZXh0W2tleV0ub3JkZXIgfHwgOTlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc29ydGVkVGV4dE9wdGlvbnMgPSBzb3J0QnlLZXkodGV4dE9wdGlvbnMsIFwib3JkZXJcIik7XG4gICAgICAgICAgZm9yIChjb25zdCB0ZXh0T3B0aW9uIG9mIHNvcnRlZFRleHRPcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUsIHF1YWxpZmllciwgbG9jYXRpb24sIGNvbnZlcnRlcnMgfSA9IHRleHRPcHRpb247XG4gICAgICAgICAgICBsZXQgdGV4dFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBjb252ZXJ0ZXJzPy5mb3JFYWNoKCh7IHRlc3QsIGNvbnZlcnQgfSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXRlc3QodmFsdWUpKSByZXR1cm47XG4gICAgICAgICAgICAgIHRleHRWYWx1ZSA9IGNvbnZlcnQodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IFwicHJpbWFyeVwiKSB7XG4gICAgICAgICAgICAgIHByaW1hcnkyLnB1c2goYCR7cXVhbGlmaWVyfV8ke3RleHRWYWx1ZX1gKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocXVhbGlmaWVyID09PSBcInNlbGZcIikge1xuICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtYXRpb25zLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocXVhbGlmaWVyKSB7XG4gICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm1hdGlvbnMucHVzaChgJHtxdWFsaWZpZXJ9XyR7dGV4dFZhbHVlfWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybWF0aW9ucy5wdXNoKHRleHRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNwZWNpYWxDaGFyYWN0ZXJzID0ge1xuICAgICAgICAgIFwiLlwiOiBcIiUyRVwiLFxuICAgICAgICAgIFwiLFwiOiBcIiUyQ1wiLFxuICAgICAgICAgIFwiL1wiOiBcIiUyRlwiXG4gICAgICAgIH07XG4gICAgICAgIGxldCBsYXllclRleHQgPSB0ZXh0Mz8udGV4dCB8fCBcIlwiO1xuICAgICAgICBpZiAodHlwZW9mIGxheWVyVGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIE9iamVjdC5rZXlzKHNwZWNpYWxDaGFyYWN0ZXJzKT8uZm9yRWFjaCgoY2hhcmFjdGVyKSA9PiB7XG4gICAgICAgICAgICBsYXllclRleHQgPSBsYXllclRleHQ/LnJlcGxhY2UoXG4gICAgICAgICAgICAgIGNoYXJhY3RlcixcbiAgICAgICAgICAgICAgc3BlY2lhbENoYXJhY3RlcnNbY2hhcmFjdGVyXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn06JHt0ZXh0VHJhbnNmb3JtYXRpb25zLmpvaW4oXG4gICAgICAgICAgXCJfXCJcbiAgICAgICAgKX06JHtsYXllclRleHR9YDtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNQb3NpdGlvbikge1xuICAgICAgICBPYmplY3Qua2V5cyhwb3NpdGlvbjIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGlmICghb2JqZWN0SGFzS2V5KHBvc2l0aW9uLCBrZXkpIHx8ICFvYmplY3RIYXNLZXkocG9zaXRpb24yLCBrZXkpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyLCBjb252ZXJ0ZXJzIH0gPSBwb3NpdGlvbltrZXldO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oe1xuICAgICAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICAgICAgdmFsdWU6IHBvc2l0aW9uMltrZXldLFxuICAgICAgICAgICAgY29udmVydGVyc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgICAgYXBwbGllZC5wdXNoKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHByaW1hcnkyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259LCR7cHJpbWFyeTIuam9pbihcIixcIil9YDtcbiAgICAgIH1cbiAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufS9mbF9sYXllcl9hcHBseSxmbF9ub19vdmVyZmxvd2A7XG4gICAgICBpZiAoYXBwbGllZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufSwke2FwcGxpZWQuam9pbihcIixcIil9YDtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGxheWVyVHJhbnNmb3JtYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3ByZXNlcnZlLXRyYW5zZm9ybWF0aW9ucy50c1xuaW1wb3J0IHsgZ2V0VHJhbnNmb3JtYXRpb25zIH0gZnJvbSBcIkBjbG91ZGluYXJ5LXV0aWwvdXRpbFwiO1xuaW1wb3J0IHsgeiBhcyB6NyB9IGZyb20gXCJ6b2RcIjtcbnZhciBwcmVzZXJ2ZVRyYW5zZm9ybWF0aW9uc1Byb3BzID0ge1xuICBwcmVzZXJ2ZVRyYW5zZm9ybWF0aW9uczogejcuYm9vbGVhbigpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUHJlc2VydmVzIHRyYW5zZm9ybWF0aW9ucyBmcm9tIGEgQ2xvdWRpbmFyeSBVUkwgd2hlbiB1c2luZyB1c2luZyBhIENsb3VkaW5hcnkgVVJMIGFzIHRoZSBhc3NldCBzb3VyY2UgKHNyYykuXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgcHJlc2VydmVUcmFuc2Zvcm1hdGlvbnNQbHVnaW4gPSB7XG4gIHByb3BzOiBwcmVzZXJ2ZVRyYW5zZm9ybWF0aW9uc1Byb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdLFxuICBwbHVnaW46ICh7IGNsZEFzc2V0LCBvcHRpb25zIH0pID0+IHtcbiAgICBjb25zdCB7IHByZXNlcnZlVHJhbnNmb3JtYXRpb25zID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHByZXNlcnZlVHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSBnZXRUcmFuc2Zvcm1hdGlvbnMob3B0aW9ucy5zcmMpLm1hcCgodCkgPT4gdC5qb2luKFwiLFwiKSk7XG4gICAgICAgIHRyYW5zZm9ybWF0aW9ucy5mbGF0KCkuZm9yRWFjaCgodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICAgICAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbih0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBwcmVzZXJ2ZSB0cmFuc2Zvcm1hdGlvbnM6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3Jhdy10cmFuc2Zvcm1hdGlvbnMudHNcbmltcG9ydCB7IHogYXMgejggfSBmcm9tIFwiem9kXCI7XG52YXIgUmF3VHJhbnNmb3JtYXRpb25TY2hlbWEgPSB6OC5zdHJpbmcoKTtcbnZhciByYXdUcmFuc2Zvcm1hdGlvbnNQcm9wcyA9IHtcbiAgcmF3VHJhbnNmb3JtYXRpb25zOiB6OC51bmlvbihbUmF3VHJhbnNmb3JtYXRpb25TY2hlbWEsIHo4LmFycmF5KFJhd1RyYW5zZm9ybWF0aW9uU2NoZW1hKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXJyYXkgb2YgdHJhbnNmb3JtYXRpb24gcGFyYW1ldGVycyB1c2luZyB0aGUgQ2xvdWRpbmFyeSBVUkwgQVBJIHRvIGFwcGx5IHRvIGFuIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2VcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciByYXdUcmFuc2Zvcm1hdGlvbnNQbHVnaW4gPSB7XG4gIHByb3BzOiByYXdUcmFuc2Zvcm1hdGlvbnNQcm9wcyxcbiAgYXNzZXRUeXBlczogW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXSxcbiAgcGx1Z2luOiAoeyBjbGRBc3NldCwgb3B0aW9ucyB9KSA9PiB7XG4gICAgbGV0IHsgcmF3VHJhbnNmb3JtYXRpb25zID0gW10gfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJhd1RyYW5zZm9ybWF0aW9ucykpIHtcbiAgICAgIHJhd1RyYW5zZm9ybWF0aW9ucyA9IFtyYXdUcmFuc2Zvcm1hdGlvbnNdO1xuICAgIH1cbiAgICByYXdUcmFuc2Zvcm1hdGlvbnMuZm9yRWFjaCgodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHRyYW5zZm9ybWF0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3JlbW92ZS1iYWNrZ3JvdW5kLnRzXG5pbXBvcnQgeyB6IGFzIHo5IH0gZnJvbSBcInpvZFwiO1xudmFyIHJlbW92ZUJhY2tncm91bmRQcm9wcyA9IHtcbiAgcmVtb3ZlQmFja2dyb3VuZDogejkuYm9vbGVhbigpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUmVtb3ZlcyB0aGUgYmFja2dyb3VuZCBvZiBhbiBpbWFnZSB1c2luZyB0aGUgQ2xvdWRpbmFyeSBBSSBCYWNrZ3JvdW5kIFJlbW92YWwgQWRkLU9uIChSZXF1aXJlZCkuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2Nsb3VkaW5hcnlfYWlfYmFja2dyb3VuZF9yZW1vdmFsX2FkZG9uXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgcmVtb3ZlQmFja2dyb3VuZFBsdWdpbiA9IHtcbiAgcHJvcHM6IHJlbW92ZUJhY2tncm91bmRQcm9wcyxcbiAgYXNzZXRUeXBlczogW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl0sXG4gIHBsdWdpbjogKHNldHRpbmdzKSA9PiB7XG4gICAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gc2V0dGluZ3M7XG4gICAgY29uc3QgeyByZW1vdmVCYWNrZ3JvdW5kID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHJlbW92ZUJhY2tncm91bmQpIHtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChcImVfYmFja2dyb3VuZF9yZW1vdmFsXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3Nhbml0aXplLnRzXG5pbXBvcnQgeyB6IGFzIHoxMCB9IGZyb20gXCJ6b2RcIjtcbnZhciBzYW5pdGl6ZVByb3BzID0ge1xuICBzYW5pdGl6ZTogejEwLmJvb2xlYW4oKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlJ1bnMgYSBzYW5pdGl6ZXIgb24gU1ZHIGltYWdlcy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2ZsX3Nhbml0aXplXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgc2FuaXRpemVQbHVnaW4gPSB7XG4gIHByb3BzOiBzYW5pdGl6ZVByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiXSxcbiAgcGx1Z2luOiAoeyBjbGRBc3NldCwgb3B0aW9ucyB9KSA9PiB7XG4gICAgY29uc3QgeyBzYW5pdGl6ZSA9IHRydWUgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgc2hvdWxkQXBwbHlTYW5pdGl6ZXIgPSBzYW5pdGl6ZSAmJiAob3B0aW9ucy5mb3JtYXQgPT09IFwic3ZnXCIgfHwgY2xkQXNzZXQucHVibGljSUQuZW5kc1dpdGgoXCIuc3ZnXCIpKTtcbiAgICBpZiAoc2hvdWxkQXBwbHlTYW5pdGl6ZXIpIHtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChcImZsX3Nhbml0aXplXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3Nlby50c1xuaW1wb3J0IHsgeiBhcyB6MTEgfSBmcm9tIFwiem9kXCI7XG52YXIgc2VvUHJvcHMgPSB7XG4gIHNlb1N1ZmZpeDogejExLnN0cmluZygpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29uZmlndXJlcyB0aGUgVVJMIHRvIGluY2x1ZGUgYW4gU0VPLWZyaWVuZGx5IHN1ZmZpeCBpbiB0aGUgVVJMXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2FkdmFuY2VkX3VybF9kZWxpdmVyeV9vcHRpb25zI3Nlb19mcmllbmRseV9tZWRpYV9hc3NldF91cmxzXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgc2VvUGx1Z2luID0ge1xuICBwcm9wczogc2VvUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl0sXG4gIHBsdWdpbjogKHsgY2xkQXNzZXQsIG9wdGlvbnMgfSkgPT4ge1xuICAgIGNvbnN0IHsgc2VvU3VmZml4IH0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlb2Ygc2VvU3VmZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZWxpdmVyeVR5cGUgPT09IFwiZmV0Y2hcIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJTRU8gc3VmZml4IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBhIGRlbGl2ZXJ5IHR5cGUgb2YgZmV0Y2hcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xkQXNzZXQuc2V0U3VmZml4KHNlb1N1ZmZpeCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gc3JjL3BsdWdpbnMvdW5kZXJsYXlzLnRzXG5pbXBvcnQgeyBvYmplY3RIYXNLZXkgYXMgb2JqZWN0SGFzS2V5MiB9IGZyb20gXCJAY2xvdWRpbmFyeS11dGlsL3V0aWxcIjtcbmltcG9ydCB7IHogYXMgejEyIH0gZnJvbSBcInpvZFwiO1xudmFyIHVuZGVybGF5UG9zaXRpb25TY2hlbWEgPSB6MTIub2JqZWN0KHtcbiAgYW5nbGU6IGFuZ2xlLnNjaGVtYS5vcHRpb25hbCgpLFxuICBncmF2aXR5OiBncmF2aXR5LnNjaGVtYS5vcHRpb25hbCgpLFxuICB4OiB4LnNjaGVtYS5vcHRpb25hbCgpLFxuICB5OiB5LnNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciB1bmRlcmxheVNjaGVtYSA9IHoxMi5vYmplY3Qoe1xuICBhcHBsaWVkRWZmZWN0czogejEyLmFycmF5KHoxMi5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBhcHBsaWVkRmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBlZmZlY3RzOiB6MTIuYXJyYXkoejEyLm9iamVjdCh7fSkpLm9wdGlvbmFsKCksXG4gIGNyb3A6IGNyb3Auc2NoZW1hLm9wdGlvbmFsKCksXG4gIGZsYWdzOiBmbGFncy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgaGVpZ2h0OiBoZWlnaHQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIHBvc2l0aW9uOiB1bmRlcmxheVBvc2l0aW9uU2NoZW1hLm9wdGlvbmFsKCksXG4gIHB1YmxpY0lkOiB6MTIuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdHlwZTogejEyLnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHVybDogejEyLnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHdpZHRoOiB3aWR0aC5zY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgdW5kZXJsYXlzUHJvcHMgPSB7XG4gIHVuZGVybGF5OiB6MTIuc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJQdWJsaWMgSUQgb2YgaW1hZ2UgdGhhdCBpcyBhcHBsaWVkIHVuZGVyIHRoZSBiYXNlIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICB1bmRlcmxheXM6IHoxMi5hcnJheSh1bmRlcmxheVNjaGVtYSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJJbWFnZSBsYXllcnMgdGhhdCBhcmUgYXBwbGllZCB1bmRlciB0aGUgYmFzZSBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2xfbGF5ZXJcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciB1bmRlcmxheXNQbHVnaW4gPSB7XG4gIHByb3BzOiB1bmRlcmxheXNQcm9wcyxcbiAgYXNzZXRUeXBlczogW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXSxcbiAgcGx1Z2luOiAoeyBjbGRBc3NldCwgb3B0aW9ucyB9KSA9PiB7XG4gICAgY29uc3QgeyB1bmRlcmxheSwgdW5kZXJsYXlzID0gW10gfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgdHlwZVF1YWxpZmllciA9IFwidVwiO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVuZGVybGF5cykpIHtcbiAgICAgIHVuZGVybGF5cy5mb3JFYWNoKGFwcGx5VW5kZXJsYXkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHVuZGVybGF5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCB1bmRlcmxheU9wdGlvbnMgPSB7XG4gICAgICAgIHB1YmxpY0lkOiB1bmRlcmxheSxcbiAgICAgICAgY3JvcDogXCJmaWxsXCIsXG4gICAgICAgIHdpZHRoOiBcIjEuMFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMS4wXCIsXG4gICAgICAgIGZsYWdzOiBbXCJyZWxhdGl2ZVwiXVxuICAgICAgfTtcbiAgICAgIGFwcGx5VW5kZXJsYXkodW5kZXJsYXlPcHRpb25zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXBwbHlVbmRlcmxheSh7XG4gICAgICBwdWJsaWNJZCxcbiAgICAgIHR5cGUsXG4gICAgICBwb3NpdGlvbjogcG9zaXRpb24yLFxuICAgICAgZWZmZWN0czogbGF5ZXJFZmZlY3RzID0gW10sXG4gICAgICBmbGFnczogbGF5ZXJGbGFncyA9IFtdLFxuICAgICAgYXBwbGllZEZsYWdzID0gW10sXG4gICAgICAuLi5vcHRpb25zMlxuICAgIH0pIHtcbiAgICAgIGNvbnN0IGhhc1B1YmxpY0lkID0gdHlwZW9mIHB1YmxpY0lkID09PSBcInN0cmluZ1wiO1xuICAgICAgY29uc3QgaGFzUG9zaXRpb24gPSB0eXBlb2YgcG9zaXRpb24yID09PSBcIm9iamVjdFwiO1xuICAgICAgaWYgKCFoYXNQdWJsaWNJZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEFuICR7dHlwZX0gaXMgbWlzc2luZyBhIFB1YmxpYyBJRGApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke3R5cGVRdWFsaWZpZXJ9XyR7cHVibGljSWQucmVwbGFjZShcbiAgICAgICAgL1xcLy9nLFxuICAgICAgICBcIjpcIlxuICAgICAgKX1gO1xuICAgICAgY29uc3QgcHJpbWFyeTIgPSBbXTtcbiAgICAgIGNvbnN0IGFwcGxpZWQgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMyKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCFvYmplY3RIYXNLZXkyKHByaW1hcnksIGtleSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBxdWFsaWZpZXIgfSA9IHByaW1hcnlba2V5XTtcbiAgICAgICAgcHJpbWFyeTIucHVzaChgJHtxdWFsaWZpZXJ9XyR7b3B0aW9uczJba2V5XX1gKTtcbiAgICAgIH0pO1xuICAgICAgbGF5ZXJFZmZlY3RzLmZvckVhY2goKGVmZmVjdCkgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyhlZmZlY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGlmICghb2JqZWN0SGFzS2V5MihwcmltYXJ5LCBrZXkpKSByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyBxdWFsaWZpZXIgfSA9IHByaW1hcnlba2V5XTtcbiAgICAgICAgICBwcmltYXJ5Mi5wdXNoKGAke3F1YWxpZmllcn1fJHtlZmZlY3Rba2V5XX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChoYXNQb3NpdGlvbikge1xuICAgICAgICBPYmplY3Qua2V5cyhwb3NpdGlvbjIpLmZvckVhY2goXG4gICAgICAgICAgKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvYmplY3RIYXNLZXkyKHBvc2l0aW9uLCBrZXkpKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IHF1YWxpZmllciB9ID0gcG9zaXRpb25ba2V5XTtcbiAgICAgICAgICAgIGFwcGxpZWQucHVzaChgJHtxdWFsaWZpZXJ9XyR7cG9zaXRpb24yW2tleV19YCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgYWN0aXZlTGF5ZXJGbGFncyA9IEFycmF5LmlzQXJyYXkobGF5ZXJGbGFncykgPyBsYXllckZsYWdzIDogW2xheWVyRmxhZ3NdO1xuICAgICAgYWN0aXZlTGF5ZXJGbGFncy5mb3JFYWNoKChmbGFnKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByaW1hcnkyLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgYWN0aXZlQXBwbGllZEZsYWdzID0gQXJyYXkuaXNBcnJheShhcHBsaWVkRmxhZ3MpID8gYXBwbGllZEZsYWdzIDogW2FwcGxpZWRGbGFnc107XG4gICAgICBhY3RpdmVBcHBsaWVkRmxhZ3MuZm9yRWFjaCgoZmxhZykgPT4ge1xuICAgICAgICBjb25zdCB7IHN1Y2Nlc3MgfSA9IGZsYWdzRW51bS5zYWZlUGFyc2UoZmxhZyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmxhZyAke2ZsYWd9LCBub3QgYXBwbHlpbmcuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhcHBsaWVkLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICAgIH0pO1xuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259LCR7cHJpbWFyeTIuam9pbihcIixcIil9YDtcbiAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufS9mbF9sYXllcl9hcHBseSxmbF9ub19vdmVyZmxvd2A7XG4gICAgICBpZiAoYXBwbGllZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufSwke2FwcGxpZWQuam9pbihcIixcIil9YDtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGxheWVyVHJhbnNmb3JtYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3ZlcnNpb24udHNcbmltcG9ydCB7IHogYXMgejEzIH0gZnJvbSBcInpvZFwiO1xudmFyIHZlcnNpb25Qcm9wcyA9IHtcbiAgdmVyc2lvbjogejEzLnVuaW9uKFt6MTMubnVtYmVyKCksIHoxMy5zdHJpbmcoKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ3VzdG9tIHZlcnNpb24gbnVtYmVyIHRvIGFwcGx5IHRvIGFzc2V0IFVSTC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vYWR2YW5jZWRfdXJsX2RlbGl2ZXJ5X29wdGlvbnMjYXNzZXRfdmVyc2lvbnNcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciB2ZXJzaW9uUGx1Z2luID0ge1xuICBwcm9wczogdmVyc2lvblByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdLFxuICBwbHVnaW46ICh7IGNsZEFzc2V0LCBvcHRpb25zIH0pID0+IHtcbiAgICBjb25zdCB7IHZlcnNpb24gfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2ZXJzaW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjbGRBc3NldC5zZXRWZXJzaW9uKGAke3ZlcnNpb259YC5yZXBsYWNlKFwidlwiLCBcIlwiKSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gc3JjL3R5cGVzL2Fzc2V0LnRzXG52YXIgYXNzZXRPcHRpb25zU2NoZW1hID0gejE0Lm9iamVjdCh7XG4gIGFzc2V0VHlwZTogejE0LnN0cmluZygpLmRlZmF1bHQoXCJpbWFnZVwiKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlRoZSB0eXBlIG9mIGFzc2V0IHRvIGRlbGl2ZXIuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyN0cmFuc2Zvcm1hdGlvbl91cmxfc3RydWN0dXJlXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKCksXG4gIGRlbGl2ZXJ5VHlwZTogejE0LnN0cmluZygpLmRlZmF1bHQoXCJ1cGxvYWRcIikuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJEZWxpdmVyeSBtZXRob2Qgb2YgdGhlIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjZGVsaXZlcnlfdHlwZXNcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKSxcbiAgZHByOiB6MTQudW5pb24oW3oxNC5zdHJpbmcoKSwgejE0Lm51bWJlcigpXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJEZWxpdmVyeSBtZXRob2Qgb2YgdGhlIGFzc2V0LlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjZGVsaXZlcnlfdHlwZXNcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKSxcbiAgZm9ybWF0OiB6MTQuc3RyaW5nKCkuZGVmYXVsdChcImF1dG9cIikuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJDb252ZXJ0cyAoaWYgbmVjZXNzYXJ5KSBhbmQgZGVsaXZlcnMgYW4gYXNzZXQgaW4gdGhlIHNwZWNpZmllZCBmb3JtYXQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmX2Zvcm1hdFwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IHoxNC51bmlvbihbejE0LnN0cmluZygpLCB6MTQubnVtYmVyKCldKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkhlaWdodCBvZiB0aGUgZ2l2ZW4gYXNzZXQuXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKCksXG4gIHF1YWxpdHk6IHoxNC51bmlvbihbejE0LnN0cmluZygpLCB6MTQubnVtYmVyKCksIHoxNC5zdHJpbmcoKV0pLmRlZmF1bHQoXCJhdXRvXCIpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUXVhbGl0eSBvZiB0aGUgZGVsaXZlcmVkIGFzc2V0XCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNxX3F1YWxpdHlcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKSxcbiAgc3JjOiB6MTQuc3RyaW5nKCkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJDbG91ZGluYXJ5IFB1YmxpYyBJRCBvciB2ZXJzaW9uZWQgQ2xvdWRpbmFyeSBVUkwgKC92MTIzNC8pXCJcbiAgICB9KVxuICApLFxuICBzdHJpY3RUcmFuc2Zvcm1hdGlvbnM6IHoxNC5ib29sZWFuKCkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJHaXZlcyB5b3UgdGhlIGFiaWxpdHkgdG8gaGF2ZSBtb3JlIGNvbnRyb2wgb3ZlciB3aGF0IHRyYW5zZm9ybWF0aW9ucyBhcmUgcGVybWl0dGVkIHRvIGJlIHVzZWQgZnJvbSB5b3VyIENsb3VkaW5hcnkgYWNjb3VudC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vY29udHJvbF9hY2Nlc3NfdG9fbWVkaWEjc3RyaWN0X3RyYW5zZm9ybWF0aW9uc1wiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICB3aWR0aDogejE0LnVuaW9uKFt6MTQuc3RyaW5nKCksIHoxNC5udW1iZXIoKV0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiV2lkdGggb2YgdGhlIGdpdmVuIGFzc2V0LlwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICAvLyBTcHJlYWRpbmcgcGx1Z2lucyBpbnN0ZWFkIG9mIGV4dGVuZCBvciBtZXJnZSB0byBhdm9pZCBleGNlc3NpdmUgc2NoZW1hIHdhcm5pbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zNDkzMyNpc3N1ZWNvbW1lbnQtMTc3Mjc4Nzc4NVxuICAuLi5jcm9wcGluZ1Byb3BzLFxuICAuLi5lZmZlY3RzUHJvcHMsXG4gIC4uLmZsYWdzUHJvcHMsXG4gIC4uLm5hbWVkVHJhbnNmb3JtYXRpb25zUHJvcHMsXG4gIC4uLm92ZXJsYXlzUHJvcHMsXG4gIC4uLnByZXNlcnZlVHJhbnNmb3JtYXRpb25zUHJvcHMsXG4gIC4uLnJhd1RyYW5zZm9ybWF0aW9uc1Byb3BzLFxuICAuLi5yZW1vdmVCYWNrZ3JvdW5kUHJvcHMsXG4gIC4uLnNhbml0aXplUHJvcHMsXG4gIC4uLnNlb1Byb3BzLFxuICAuLi51bmRlcmxheXNQcm9wcyxcbiAgLi4udmVyc2lvblByb3BzXG59KTtcblxuLy8gc3JjL3R5cGVzL2ltYWdlLnRzXG5pbXBvcnQgeyB6IGFzIHoyNSB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL3BsdWdpbnMvZGVmYXVsdC1pbWFnZS50c1xuaW1wb3J0IHsgeiBhcyB6MTUgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBnZXRGb3JtYXQgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG52YXIgZGVmYXVsdEltYWdlUHJvcHMgPSB7XG4gIGRlZmF1bHRJbWFnZTogejE1LnN0cmluZygpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29uZmlndXJlcyB0aGUgZGVmYXVsdCBpbWFnZSB0byB1c2UgaW4gY2FzZSB0aGUgZ2l2ZW4gcHVibGljIElEIGlzIG5vdCBhdmFpbGFibGUuIE11c3QgaW5jbHVkZSBmaWxlIGV4dGVuc2lvbi5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2RfZGVmYXVsdF9pbWFnZVwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpXG59O1xudmFyIGRlZmF1bHRJbWFnZVBsdWdpbiA9IHtcbiAgcHJvcHM6IGRlZmF1bHRJbWFnZVByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiXSxcbiAgcGx1Z2luOiAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBzZXR0aW5ncztcbiAgICBjb25zdCB7IGRlZmF1bHRJbWFnZSB9ID0gb3B0aW9ucztcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRJbWFnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKCFnZXRGb3JtYXQoZGVmYXVsdEltYWdlKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFRoZSBkZWZhdWx0SW1hZ2UgcHJvcCBtYXkgYmUgbWlzc2luZyBhIGZvcm1hdCBhbmQgbXVzdCBpbmNsdWRlIGl0IGFsb25nIHdpdGggdGhlIHB1YmxpYyBJRC4gKEV4OiBteWltYWdlLmpwZylgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBkZWZhdWx0SW1hZ2VJZCA9IGRlZmF1bHRJbWFnZS5yZXBsYWNlKC9cXC8vZywgXCI6XCIpO1xuICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGRfJHtkZWZhdWx0SW1hZ2VJZH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vLyBzcmMvcGx1Z2lucy9lbmhhbmNlLnRzXG5pbXBvcnQgeyB6IGFzIHoxNiB9IGZyb20gXCJ6b2RcIjtcbnZhciBlbmhhbmNlUHJvcHMgPSB7XG4gIGVuaGFuY2U6IHoxNi5ib29sZWFuKCkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJVc2VzIEFJIHRvIGFuYWx5emUgYW4gaW1hZ2UgYW5kIG1ha2UgYWRqdXN0bWVudHMgdG8gZW5oYW5jZSB0aGUgYXBwZWFsIG9mIHRoZSBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZW5oYW5jZVwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpXG59O1xudmFyIGVuaGFuY2VQbHVnaW4gPSB7XG4gIHByb3BzOiBlbmhhbmNlUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLFxuICBwbHVnaW46IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHsgZW5oYW5jZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgIGlmIChlbmhhbmNlKSB7XG4gICAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2VuaGFuY2VcIik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gc3JjL3BsdWdpbnMvZXh0cmFjdC50c1xuaW1wb3J0IHsgeiBhcyB6MTcgfSBmcm9tIFwiem9kXCI7XG52YXIgZXh0cmFjdFByb3BzID0ge1xuICBleHRyYWN0OiB6MTcudW5pb24oW1xuICAgIHByb21wdC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICB6MTcuYXJyYXkocHJvbXB0LnNjaGVtYSkub3B0aW9uYWwoKSxcbiAgICB6MTcub2JqZWN0KHtcbiAgICAgIGludmVydDogejE3LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKS5vcHRpb25hbCgpLFxuICAgICAgbW9kZTogZXh0cmFjdE1vZGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICBtdWx0aXBsZTogbXVsdGlwbGUuc2NoZW1hLmRlZmF1bHQoZmFsc2UpLm9wdGlvbmFsKCksXG4gICAgICBwcm9tcHQ6IHoxNy51bmlvbihbcHJvbXB0LnNjaGVtYSwgejE3LmFycmF5KHByb21wdC5zY2hlbWEpXSkub3B0aW9uYWwoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiRXh0cmFjdHMgYW4gYXJlYSBvciBtdWx0aXBsZSBhcmVhcyBvZiBhbiBpbWFnZSwgZGVzY3JpYmVkIGluIG5hdHVyYWwgbGFuZ3VhZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2V4dHJhY3RcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciBleHRyYWN0UGx1Z2luID0ge1xuICBwcm9wczogZXh0cmFjdFByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiXSxcbiAgcGx1Z2luOiAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBzZXR0aW5ncztcbiAgICBjb25zdCB7IGV4dHJhY3QgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFleHRyYWN0IHx8IHR5cGVvZiBleHRyYWN0ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4ge307XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtdO1xuICAgIGlmICh0eXBlb2YgZXh0cmFjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBwcm9tcHRfJHtleHRyYWN0fWApO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShleHRyYWN0KSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBwcm9tcHRfJHtmb3JtYXRQcm9tcHRzKGV4dHJhY3QpfWApO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4dHJhY3QgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoZXh0cmFjdCkpIHtcbiAgICAgIGNvbnN0IHByb21wdDIgPSBmb3JtYXRQcm9tcHRzKGV4dHJhY3QucHJvbXB0KTtcbiAgICAgIGlmIChwcm9tcHQyKSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChgcHJvbXB0XyR7cHJvbXB0Mn1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHRyYWN0LmludmVydCA9PT0gdHJ1ZSkge1xuICAgICAgICBwcm9wZXJ0aWVzLnB1c2goXCJpbnZlcnRfdHJ1ZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZXh0cmFjdC5tb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChgbW9kZV8ke2V4dHJhY3QubW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHRyYWN0Lm11bHRpcGxlID09PSB0cnVlKSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChcIm11bHRpcGxlX3RydWVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gYGVfZXh0cmFjdDoke3Byb3BlcnRpZXMuam9pbihcIjtcIil9YDtcbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHRyYW5zZm9ybWF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuZnVuY3Rpb24gZm9ybWF0UHJvbXB0cyhwcm9tcHQyKSB7XG4gIGlmICh0eXBlb2YgcHJvbXB0MiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHByb21wdDI7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb21wdDIpKSB7XG4gICAgcmV0dXJuIGAoJHtwcm9tcHQyLmZpbHRlcigocHJvbXB0MykgPT4gdHlwZW9mIHByb21wdDMgPT09IFwic3RyaW5nXCIpLmpvaW4oXCI7XCIpfSlgO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbi8vIHNyYy9wbHVnaW5zL2ZpbGwtYmFja2dyb3VuZC50c1xuaW1wb3J0IHsgeiBhcyB6MTggfSBmcm9tIFwiem9kXCI7XG52YXIgZGVmYXVsdENyb3AgPSBcInBhZFwiO1xudmFyIGZpbGxCYWNrZ3JvdW5kUHJvcHMgPSB7XG4gIGZpbGxCYWNrZ3JvdW5kOiB6MTgudW5pb24oW1xuICAgIHoxOC5ib29sZWFuKCksXG4gICAgejE4Lm9iamVjdCh7XG4gICAgICBjcm9wOiBjcm9wLnNjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgZ3Jhdml0eTogZ3Jhdml0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIHByb21wdDogejE4LnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KVxuICBdKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlVzZXMgR2VuZXJhdGl2ZSBGaWxsIHRvIGV4dGVuZGVkIHBhZGRlZCBpbWFnZSB3aXRoIEFJXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNiX2dlbl9maWxsXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgZmlsbEJhY2tncm91bmRQbHVnaW4gPSB7XG4gIHByb3BzOiBmaWxsQmFja2dyb3VuZFByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiXSxcbiAgcGx1Z2luOiAoc2V0dGluZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBzZXR0aW5ncztcbiAgICBjb25zdCB7IGZpbGxCYWNrZ3JvdW5kIH0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlb2YgZmlsbEJhY2tncm91bmQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB7fTtcbiAgICBjb25zdCB3aWR0aDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIob3B0aW9ucy53aWR0aCk7XG4gICAgY29uc3QgaGVpZ2h0MiA9IG5vcm1hbGl6ZU51bWJlclBhcmFtZXRlcihvcHRpb25zLmhlaWdodCk7XG4gICAgY29uc3QgaGFzRGVmaW5lZERpbWVuc2lvbnMgPSB0eXBlb2YgaGVpZ2h0MiA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2Ygd2lkdGgyID09PSBcIm51bWJlclwiO1xuICAgIGxldCBhc3BlY3RSYXRpbzIgPSBvcHRpb25zLmFzcGVjdFJhdGlvO1xuICAgIGlmICghYXNwZWN0UmF0aW8yICYmIGhhc0RlZmluZWREaW1lbnNpb25zKSB7XG4gICAgICBhc3BlY3RSYXRpbzIgPSBgJHt3aWR0aDJ9OiR7aGVpZ2h0Mn1gO1xuICAgIH1cbiAgICBpZiAoIWFzcGVjdFJhdGlvMikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBDb3VsZCBub3QgZGV0ZXJtaW5lIGFzcGVjdCByYXRpbyBiYXNlZCBvbiBhdmFpbGFibGUgb3B0aW9ucyB0byB1c2UgZmlsbEJhY2tncm91bmQuIFBsZWFzZSBzcGVjaWZ5IHdpZHRoIGFuZCBoZWlnaHQgb3IgYW4gYXNwZWN0IHJhdGlvLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKGZpbGxCYWNrZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gW1xuICAgICAgICBcImJfZ2VuX2ZpbGxcIixcbiAgICAgICAgYGFyXyR7YXNwZWN0UmF0aW8yfWAsXG4gICAgICAgIGBjXyR7ZGVmYXVsdENyb3B9YFxuICAgICAgXTtcbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHByb3BlcnRpZXMuam9pbihcIixcIikpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpbGxCYWNrZ3JvdW5kID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCB7IGNyb3A6IGNyb3AyID0gZGVmYXVsdENyb3AsIGdyYXZpdHk6IGdyYXZpdHkyLCBwcm9tcHQ6IHByb21wdDIgfSA9IGZpbGxCYWNrZ3JvdW5kO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IFtgYXJfJHthc3BlY3RSYXRpbzJ9YCwgYGNfJHtjcm9wMn1gXTtcbiAgICAgIGlmICh0eXBlb2YgcHJvbXB0MiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwcm9wZXJ0aWVzLnVuc2hpZnQoYGJfZ2VuX2ZpbGw6JHtwcm9tcHQyfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcGVydGllcy51bnNoaWZ0KGBiX2dlbl9maWxsYCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGdyYXZpdHkyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChgZ18ke2dyYXZpdHkyfWApO1xuICAgICAgfVxuICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24ocHJvcGVydGllcy5qb2luKFwiLFwiKSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gc3JjL3BsdWdpbnMvcmVjb2xvci50c1xuaW1wb3J0IHsgeiBhcyB6MTkgfSBmcm9tIFwiem9kXCI7XG52YXIgaW1hZ2VPcHRpb25zUmVjb2xvclByb21wdFNjaGVtYSA9IHoxOS51bmlvbihbXG4gIHoxOS5zdHJpbmcoKSxcbiAgejE5LmFycmF5KHoxOS5zdHJpbmcoKSlcbl0pO1xudmFyIGltYWdlT3B0aW9uc1JlY29sb3JTY2hlbWEgPSB6MTkub2JqZWN0KHtcbiAgcHJvbXB0OiBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hLm9wdGlvbmFsKCksXG4gIHRvOiB6MTkuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgbXVsdGlwbGU6IHoxOS5ib29sZWFuKCkub3B0aW9uYWwoKVxufSk7XG52YXIgcmVjb2xvclByb3BzID0ge1xuICByZWNvbG9yOiB6MTkudW5pb24oW2ltYWdlT3B0aW9uc1JlY29sb3JQcm9tcHRTY2hlbWEsIGltYWdlT3B0aW9uc1JlY29sb3JTY2hlbWFdKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlVzZXMgZ2VuZXJhdGl2ZSBBSSB0byByZWNvbG9yIHBhcnRzIG9mIHlvdXIgaW1hZ2UsIG1haW50YWluaW5nIHRoZSByZWxhdGl2ZSBzaGFkaW5nLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nZW5fcmVjb2xvclwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpXG59O1xudmFyIHJlY29sb3JQbHVnaW4gPSB7XG4gIHByb3BzOiByZWNvbG9yUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLFxuICBwbHVnaW46IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHsgcmVjb2xvciB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZWNvbG9yT3B0aW9ucyA9IHtcbiAgICAgIHByb21wdDogdm9pZCAwLFxuICAgICAgXCJ0by1jb2xvclwiOiB2b2lkIDAsXG4gICAgICBtdWx0aXBsZTogdm9pZCAwXG4gICAgfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWNvbG9yKSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVjb2xvclswXSkpIHtcbiAgICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZWNvbG9yWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY29sb3JPcHRpb25zLnByb21wdCA9IHJlY29sb3JbMF07XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlY29sb3JbMV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVjb2xvck9wdGlvbnNbXCJ0by1jb2xvclwiXSA9IHJlY29sb3JbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVjb2xvciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaWYgKHR5cGVvZiByZWNvbG9yLnByb21wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZWNvbG9yT3B0aW9ucy5wcm9tcHQgPSByZWNvbG9yLnByb21wdDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZWNvbG9yLnByb21wdCkpIHtcbiAgICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZWNvbG9yLnByb21wdCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlY29sb3IudG8gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVjb2xvck9wdGlvbnNbXCJ0by1jb2xvclwiXSA9IHJlY29sb3IudG87XG4gICAgICB9XG4gICAgICBpZiAocmVjb2xvci5tdWx0aXBsZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZWNvbG9yT3B0aW9ucy5tdWx0aXBsZSA9IGB0cnVlYDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBPYmplY3QuZW50cmllcyhyZWNvbG9yT3B0aW9ucykuZmlsdGVyKChbLCB2YWx1ZV0pID0+ICEhdmFsdWUpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9XyR7dmFsdWV9YCkuam9pbihcIjtcIik7XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihgZV9nZW5fcmVjb2xvcjoke3RyYW5zZm9ybWF0aW9ufWApO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3JlbW92ZS50c1xuaW1wb3J0IHsgeiBhcyB6MjAgfSBmcm9tIFwiem9kXCI7XG52YXIgaW1hZ2VPcHRpb25zUmVtb3ZlUHJvbXB0U2NoZW1hID0gejIwLnVuaW9uKFtcbiAgejIwLnN0cmluZygpLFxuICB6MjAuYXJyYXkoejIwLnN0cmluZygpKVxuXSk7XG52YXIgaW1hZ2VPcHRpb25zUmVtb3ZlU2NoZW1hID0gejIwLm9iamVjdCh7XG4gIHByb21wdDogaW1hZ2VPcHRpb25zUmVtb3ZlUHJvbXB0U2NoZW1hLm9wdGlvbmFsKCksXG4gIHJlZ2lvbjogejIwLnVuaW9uKFt6MjAuYXJyYXkoejIwLm51bWJlcigpKSwgejIwLmFycmF5KHoyMC5hcnJheSh6MjAubnVtYmVyKCkpKV0pLm9wdGlvbmFsKCksXG4gIG11bHRpcGxlOiB6MjAuYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIHJlbW92ZVNoYWRvdzogejIwLmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KTtcbnZhciByZW1vdmVQcm9wcyA9IHtcbiAgcmVtb3ZlOiB6MjAudW5pb24oW2ltYWdlT3B0aW9uc1JlbW92ZVByb21wdFNjaGVtYSwgaW1hZ2VPcHRpb25zUmVtb3ZlU2NoZW1hXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIHpvb21pbmcgYW5kL29yIHBhbm5pbmcgdG8gYW4gaW1hZ2UsIHJlc3VsdGluZyBpbiBhIHZpZGVvIG9yIGFuaW1hdGVkIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV96b29tcGFuXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgcmVtb3ZlUGx1Z2luID0ge1xuICBwcm9wczogcmVtb3ZlUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLFxuICBwbHVnaW46ICh7IGNsZEFzc2V0LCBvcHRpb25zIH0pID0+IHtcbiAgICBjb25zdCB7IHJlbW92ZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZW1vdmVPcHRpb25zID0ge1xuICAgICAgcHJvbXB0OiB2b2lkIDAsXG4gICAgICByZWdpb246IHZvaWQgMCxcbiAgICAgIG11bHRpcGxlOiB2b2lkIDAsXG4gICAgICBcInJlbW92ZS1zaGFkb3dcIjogdm9pZCAwXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHJlbW92ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSByZW1vdmU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlbW92ZSkpIHtcbiAgICAgIHJlbW92ZU9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZW1vdmUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlbW92ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgaGFzUHJvbXB0ID0gdHlwZW9mIHJlbW92ZS5wcm9tcHQgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShyZW1vdmUucHJvbXB0KTtcbiAgICAgIGNvbnN0IGhhc1JlZ2lvbiA9IEFycmF5LmlzQXJyYXkocmVtb3ZlLnJlZ2lvbik7XG4gICAgICBpZiAoaGFzUHJvbXB0ICYmIGhhc1JlZ2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIHJlbW92ZSBvcHRpb25zOiB5b3UgY2FuIG5vdCBoYXZlIGJvdGggYSBwcm9tcHQgYW5kIGEgcmVnaW9uLiBNb3JlIGluZm86IGh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nZW5fcmVtb3ZlXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVtb3ZlLnByb21wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZW1vdmVPcHRpb25zLnByb21wdCA9IHJlbW92ZS5wcm9tcHQ7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVtb3ZlLnByb21wdCkpIHtcbiAgICAgICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSBwcm9tcHRBcnJheVRvU3RyaW5nKHJlbW92ZS5wcm9tcHQpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVtb3ZlLnJlZ2lvbikpIHtcbiAgICAgICAgcmVtb3ZlT3B0aW9ucy5yZWdpb24gPSByZWdpb25BcnJheVRvU3RyaW5nKHJlbW92ZS5yZWdpb24pO1xuICAgICAgfVxuICAgICAgaWYgKHJlbW92ZS5tdWx0aXBsZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZW1vdmVPcHRpb25zLm11bHRpcGxlID0gYHRydWVgO1xuICAgICAgfVxuICAgICAgaWYgKHJlbW92ZS5yZW1vdmVTaGFkb3cgPT09IHRydWUpIHtcbiAgICAgICAgcmVtb3ZlT3B0aW9uc1tcInJlbW92ZS1zaGFkb3dcIl0gPSBgdHJ1ZWA7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gT2JqZWN0LmVudHJpZXMocmVtb3ZlT3B0aW9ucykuZmlsdGVyKChbLCB2YWx1ZV0pID0+ICEhdmFsdWUpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9XyR7dmFsdWV9YCkuam9pbihcIjtcIik7XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihgZV9nZW5fcmVtb3ZlOiR7dHJhbnNmb3JtYXRpb259YCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlZ2lvbkFycmF5VG9TdHJpbmcocmVnaW9uQXJyYXkpIHtcbiAgY29uc3QgaW5kZXhlcyA9IHtcbiAgICAwOiBcInhcIixcbiAgICAxOiBcInlcIixcbiAgICAyOiBcIndcIixcbiAgICAzOiBcImhcIlxuICB9O1xuICBjb25zdCByZWdpb25TdHJpbmcgPSByZWdpb25BcnJheS5tYXAoKHJlZ2lvbiwgaW5kZXgpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWdpb24pKSB7XG4gICAgICByZXR1cm4gcmVnaW9uQXJyYXlUb1N0cmluZyhyZWdpb24pO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBpbmRleGVzW2luZGV4XTtcbiAgICByZXR1cm4gYCR7a2V5fV8ke3JlZ2lvbn1gO1xuICB9KS5qb2luKFwiO1wiKTtcbiAgcmV0dXJuIGAoJHtyZWdpb25TdHJpbmd9KWA7XG59XG5cbi8vIHNyYy9wbHVnaW5zL3JlcGxhY2UtYmFja2dyb3VuZC50c1xuaW1wb3J0IHsgeiBhcyB6MjEgfSBmcm9tIFwiem9kXCI7XG52YXIgcmVwbGFjZUJhY2tncm91bmRQcm9wcyA9IHtcbiAgcmVwbGFjZUJhY2tncm91bmQ6IHoyMS51bmlvbihbXG4gICAgejIxLmJvb2xlYW4oKSxcbiAgICB6MjEuc3RyaW5nKCksXG4gICAgejIxLm9iamVjdCh7XG4gICAgICBzZWVkOiB6MjEubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgIHByb21wdDogejIxLnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KVxuICBdKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlJlcGxhY2VzIHRoZSBiYWNrZ3JvdW5kIG9mIGFuIGltYWdlIHdpdGggYW4gQUktZ2VuZXJhdGVkIGJhY2tncm91bmQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dlbl9iYWNrZ3JvdW5kX3JlcGxhY2VcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciByZXBsYWNlQmFja2dyb3VuZFBsdWdpbiA9IHtcbiAgcHJvcHM6IHJlcGxhY2VCYWNrZ3JvdW5kUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLFxuICBwbHVnaW46IChzZXR0aW5ncykgPT4ge1xuICAgIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHsgcmVwbGFjZUJhY2tncm91bmQgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCFyZXBsYWNlQmFja2dyb3VuZCB8fCB0eXBlb2YgcmVwbGFjZUJhY2tncm91bmQgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB7fTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gW107XG4gICAgaWYgKHR5cGVvZiByZXBsYWNlQmFja2dyb3VuZCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaWYgKHR5cGVvZiByZXBsYWNlQmFja2dyb3VuZC5wcm9tcHQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKGBwcm9tcHRfJHtyZXBsYWNlQmFja2dyb3VuZC5wcm9tcHR9YCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlcGxhY2VCYWNrZ3JvdW5kLnNlZWQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcHJvcGVydGllcy5wdXNoKGBzZWVkXyR7cmVwbGFjZUJhY2tncm91bmQuc2VlZH1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXBsYWNlQmFja2dyb3VuZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBwcm9tcHRfJHtyZXBsYWNlQmFja2dyb3VuZH1gKTtcbiAgICB9XG4gICAgbGV0IHRyYW5zZm9ybWF0aW9uID0gXCJlX2dlbl9iYWNrZ3JvdW5kX3JlcGxhY2VcIjtcbiAgICBpZiAocHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICB0cmFuc2Zvcm1hdGlvbiA9IGAke3RyYW5zZm9ybWF0aW9ufToke3Byb3BlcnRpZXMuam9pbihcIjtcIil9YDtcbiAgICB9XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24odHJhbnNmb3JtYXRpb24pO1xuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gc3JjL3BsdWdpbnMvcmVwbGFjZS50c1xuaW1wb3J0IHsgeiBhcyB6MjIgfSBmcm9tIFwiem9kXCI7XG52YXIgcmVwbGFjZVByb3BzID0ge1xuICByZXBsYWNlOiB6MjIudW5pb24oW1xuICAgIHoyMi5hcnJheSh6MjIuc3RyaW5nKCkpLFxuICAgIHoyMi5hcnJheSh6MjIuYm9vbGVhbigpKSxcbiAgICB6MjIub2JqZWN0KHtcbiAgICAgIHRvOiB6MjIuc3RyaW5nKCksXG4gICAgICBmcm9tOiB6MjIuc3RyaW5nKCksXG4gICAgICBwcmVzZXJ2ZUdlb21ldHJ5OiB6MjIuYm9vbGVhbigpLm9wdGlvbmFsKClcbiAgICB9KVxuICBdKS5kZXNjcmliZShcbiAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlVzZXMgZ2VuZXJhdGl2ZSBBSSB0byByZXBsYWNlIHBhcnRzIG9mIHlvdXIgaW1hZ2Ugd2l0aCBzb21ldGhpbmcgZWxzZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZ2VuX3JlcGxhY2VcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciByZXBsYWNlUGx1Z2luID0ge1xuICBwcm9wczogcmVwbGFjZVByb3BzLFxuICBhc3NldFR5cGVzOiBbXCJpbWFnZVwiLCBcImltYWdlc1wiXSxcbiAgcGx1Z2luOiAoeyBjbGRBc3NldCwgb3B0aW9ucyB9KSA9PiB7XG4gICAgY29uc3QgeyByZXBsYWNlID0gbnVsbCB9ID0gb3B0aW9ucztcbiAgICBpZiAocmVwbGFjZSkge1xuICAgICAgbGV0IGZyb20sIHRvLCBwcmVzZXJ2ZUdlb21ldHJ5ID0gZmFsc2U7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXBsYWNlKSkge1xuICAgICAgICBmcm9tID0gcmVwbGFjZVswXTtcbiAgICAgICAgdG8gPSByZXBsYWNlWzFdO1xuICAgICAgICBwcmVzZXJ2ZUdlb21ldHJ5ID0gcmVwbGFjZVsyXSB8fCBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyb20gPSByZXBsYWNlLmZyb207XG4gICAgICAgIHRvID0gcmVwbGFjZS50bztcbiAgICAgICAgcHJlc2VydmVHZW9tZXRyeSA9IHJlcGxhY2UucHJlc2VydmVHZW9tZXRyeSB8fCBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBbYGVfZ2VuX3JlcGxhY2U6ZnJvbV8ke2Zyb219YCwgYHRvXyR7dG99YF07XG4gICAgICBpZiAocHJlc2VydmVHZW9tZXRyeSkge1xuICAgICAgICBwcm9wZXJ0aWVzLnB1c2goYHByZXNlcnZlLWdlb21ldHJ5XyR7cHJlc2VydmVHZW9tZXRyeX1gKTtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmVmZmVjdChwcm9wZXJ0aWVzLmpvaW4oXCI7XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vLyBzcmMvcGx1Z2lucy9yZXN0b3JlLnRzXG5pbXBvcnQgeyB6IGFzIHoyMyB9IGZyb20gXCJ6b2RcIjtcbnZhciByZXN0b3JlUHJvcHMgPSB7XG4gIHJlc3RvcmU6IHoyMy5ib29sZWFuKCkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJVc2VzIGdlbmVyYXRpdmUgQUkgdG8gcmVzdG9yZSBkZXRhaWxzIGluIHBvb3IgcXVhbGl0eSBpbWFnZXMgb3IgaW1hZ2VzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGRlZ3JhZGVkIHRocm91Z2ggcmVwZWF0ZWQgcHJvY2Vzc2luZyBhbmQgY29tcHJlc3Npb24uXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dlbl9yZXN0b3JlXCJcbiAgICB9KVxuICApLm9wdGlvbmFsKClcbn07XG52YXIgcmVzdG9yZVBsdWdpbiA9IHtcbiAgcHJvcHM6IHJlc3RvcmVQcm9wcyxcbiAgYXNzZXRUeXBlczogW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl0sXG4gIHBsdWdpbjogKHsgY2xkQXNzZXQsIG9wdGlvbnMgfSkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdG9yZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgIGlmIChyZXN0b3JlKSB7XG4gICAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2dlbl9yZXN0b3JlXCIpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8vIHNyYy9wbHVnaW5zL3pvb21wYW4udHNcbmltcG9ydCB7IHogYXMgejI0IH0gZnJvbSBcInpvZFwiO1xudmFyIHpvb21wYW5Qcm9wcyA9IHtcbiAgem9vbXBhbjogejI0LnVuaW9uKFtcbiAgICB6MjQuc3RyaW5nKCksXG4gICAgejI0LmJvb2xlYW4oKSxcbiAgICB6MjQub2JqZWN0KHtcbiAgICAgIGxvb3A6IGVmZmVjdHMubG9vcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIG9wdGlvbnM6IHoyNC5zdHJpbmcoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyB6b29taW5nIGFuZC9vciBwYW5uaW5nIHRvIGFuIGltYWdlLCByZXN1bHRpbmcgaW4gYSB2aWRlbyBvciBhbmltYXRlZCBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfem9vbXBhblwiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpXG59O1xudmFyIHpvb21wYW5QbHVnaW4gPSB7XG4gIHByb3BzOiB6b29tcGFuUHJvcHMsXG4gIGFzc2V0VHlwZXM6IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdLFxuICBwbHVnaW46ICh7IGNsZEFzc2V0LCBvcHRpb25zIH0pID0+IHtcbiAgICBjb25zdCB7IHpvb21wYW4gPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBvdmVycmlkZXMgPSB7XG4gICAgICBmb3JtYXQ6IHZvaWQgMFxuICAgIH07XG4gICAgaWYgKHpvb21wYW4gPT09IHRydWUpIHtcbiAgICAgIGNsZEFzc2V0LmVmZmVjdChcImVfem9vbXBhblwiKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB6b29tcGFuID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoem9vbXBhbiA9PT0gXCJsb29wXCIpIHtcbiAgICAgICAgY2xkQXNzZXQuZWZmZWN0KFwiZV96b29tcGFuXCIpO1xuICAgICAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2xvb3BcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGRBc3NldC5lZmZlY3QoYGVfem9vbXBhbjoke3pvb21wYW59YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygem9vbXBhbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgbGV0IHpvb21wYW5FZmZlY3QgPSBcImVfem9vbXBhblwiO1xuICAgICAgaWYgKHR5cGVvZiB6b29tcGFuLm9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgem9vbXBhbkVmZmVjdCA9IGAke3pvb21wYW5FZmZlY3R9OiR7em9vbXBhbi5vcHRpb25zfWA7XG4gICAgICB9XG4gICAgICBjbGRBc3NldC5lZmZlY3Qoem9vbXBhbkVmZmVjdCk7XG4gICAgICBsZXQgbG9vcEVmZmVjdDtcbiAgICAgIGlmICh6b29tcGFuLmxvb3AgPT09IHRydWUpIHtcbiAgICAgICAgbG9vcEVmZmVjdCA9IFwiZV9sb29wXCI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB6b29tcGFuLmxvb3AgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHpvb21wYW4ubG9vcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBsb29wRWZmZWN0ID0gYGVfbG9vcDoke3pvb21wYW4ubG9vcH1gO1xuICAgICAgfVxuICAgICAgaWYgKGxvb3BFZmZlY3QpIHtcbiAgICAgICAgY2xkQXNzZXQuZWZmZWN0KGxvb3BFZmZlY3QpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoem9vbXBhbiAhPT0gZmFsc2UpIHtcbiAgICAgIG92ZXJyaWRlcy5mb3JtYXQgPSBcImF1dG86YW5pbWF0ZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wdGlvbnM6IG92ZXJyaWRlc1xuICAgIH07XG4gIH1cbn07XG5cbi8vIHNyYy90eXBlcy9pbWFnZS50c1xudmFyIGltYWdlT3B0aW9uc1NjaGVtYSA9IGFzc2V0T3B0aW9uc1NjaGVtYS5tZXJnZShcbiAgejI1Lm9iamVjdCh7XG4gICAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zNDkzMyNpc3N1ZWNvbW1lbnQtMTc3Mjc4Nzc4NVxuICAgIC4uLmRlZmF1bHRJbWFnZVByb3BzLFxuICAgIC4uLmVuaGFuY2VQcm9wcyxcbiAgICAuLi5leHRyYWN0UHJvcHMsXG4gICAgLi4uZmlsbEJhY2tncm91bmRQcm9wcyxcbiAgICAuLi5yZWNvbG9yUHJvcHMsXG4gICAgLi4ucmVtb3ZlUHJvcHMsXG4gICAgLi4ucmVwbGFjZVByb3BzLFxuICAgIC4uLnJlcGxhY2VCYWNrZ3JvdW5kUHJvcHMsXG4gICAgLi4ucmVzdG9yZVByb3BzLFxuICAgIC4uLnpvb21wYW5Qcm9wc1xuICB9KVxuKTtcblxuLy8gc3JjL3R5cGVzL3ZpZGVvLnRzXG5pbXBvcnQgeyB6IGFzIHoyNyB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL3BsdWdpbnMvYWJyLnRzXG5pbXBvcnQgeyB6IGFzIHoyNiB9IGZyb20gXCJ6b2RcIjtcbnZhciBhYnJQcm9wcyA9IHtcbiAgc3RyZWFtaW5nUHJvZmlsZTogejI2LnN0cmluZygpLmRlc2NyaWJlKFxuICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiVGhlIHN0cmVhbWluZyBwcm9maWxlIHRvIGFwcGx5IHdoZW4gZGVsaXZlcmluZyBhIHZpZGVvIHVzaW5nIGFkYXB0aXZlIGJpdHJhdGUgc3RyZWFtaW5nLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujc3Bfc3RyZWFtaW5nX3Byb2ZpbGVcIlxuICAgIH0pXG4gICkub3B0aW9uYWwoKVxufTtcbnZhciBhYnJQbHVnaW4gPSB7XG4gIHByb3BzOiBhYnJQcm9wcyxcbiAgYXNzZXRUeXBlczogW1widmlkZW9cIiwgXCJ2aWRlb3NcIl0sXG4gIHBsdWdpbjogKHNldHRpbmdzKSA9PiB7XG4gICAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gc2V0dGluZ3M7XG4gICAgY29uc3QgeyBzdHJlYW1pbmdQcm9maWxlIH0gPSBvcHRpb25zO1xuICAgIGlmICh0eXBlb2Ygc3RyZWFtaW5nUHJvZmlsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYHNwXyR7c3RyZWFtaW5nUHJvZmlsZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vLyBzcmMvdHlwZXMvdmlkZW8udHNcbnZhciB2aWRlb09wdGlvbnNTY2hlbWEgPSBhc3NldE9wdGlvbnNTY2hlbWEubWVyZ2UoXG4gIHoyNy5vYmplY3Qoe1xuICAgIC8vIFNwcmVhZGluZyBwbHVnaW5zIGluc3RlYWQgb2YgZXh0ZW5kIG9yIG1lcmdlIHRvIGF2b2lkIGV4Y2Vzc2l2ZSBzY2hlbWEgd2FybmluZ1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgICAuLi5hYnJQcm9wc1xuICB9KVxuKTtcblxuLy8gc3JjL2xpYi9jbG91ZGluYXJ5LnRzXG5pbXBvcnQgeyBvYmplY3RIYXNLZXkgYXMgb2JqZWN0SGFzS2V5MywgcGFyc2VVcmwgfSBmcm9tIFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCI7XG5pbXBvcnQge1xuICBDbG91ZGluYXJ5XG59IGZyb20gXCJAY2xvdWRpbmFyeS91cmwtZ2VuXCI7XG5pbXBvcnQgeyB6IGFzIHozMCB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL3R5cGVzL2FuYWx5dGljcy50c1xuaW1wb3J0IHsgeiBhcyB6MjggfSBmcm9tIFwiem9kXCI7XG52YXIgYW5hbHl0aWNzT3B0aW9uc1NjaGVtYSA9IHoyOC5hbnkoKTtcblxuLy8gc3JjL3R5cGVzL2NvbmZpZy50c1xuaW1wb3J0IHsgeiBhcyB6MjkgfSBmcm9tIFwiem9kXCI7XG52YXIgY29uZmlnT3B0aW9uc1NjaGVtYSA9IHoyOS5hbnkoKTtcblxuLy8gc3JjL2xpYi9jbG91ZGluYXJ5LnRzXG52YXIgdHJhbnNmb3JtYXRpb25QbHVnaW5zID0gW1xuICAvLyBTb21lIGZlYXR1cmVzICptdXN0KiBiZSB0aGUgZmlyc3QgdHJhbnNmb3JtYXRpb24gYXBwbGllZFxuICAvLyB0aHVzIHRoZWlyIHBsdWdpbnMgKm11c3QqIGNvbWUgZmlyc3QgaW4gdGhlIGNoYWluXG4gIGVuaGFuY2VQbHVnaW4sXG4gIGV4dHJhY3RQbHVnaW4sXG4gIHJlY29sb3JQbHVnaW4sXG4gIHJlbW92ZUJhY2tncm91bmRQbHVnaW4sXG4gIHJlbW92ZVBsdWdpbixcbiAgcmVwbGFjZVBsdWdpbixcbiAgcmVwbGFjZUJhY2tncm91bmRQbHVnaW4sXG4gIHJlc3RvcmVQbHVnaW4sXG4gIC8vIENyb3BwaW5nIG5lZWRzIHRvIGJlIGJlZm9yZSBhbnkgb3RoZXIgZ2VuZXJhbCB0cmFuc2Zvcm1hdGlvbnNcbiAgLy8gYXMgaXQgcHJvdmlkZXMgdGhlIG9wdGlvbiBvZiAyLXN0ZXAgcmVzaXppbmcgd2hlcmUgc29tZW9uZVxuICAvLyBjYW4gcmVzaXplIHRoZSBcImJhc2VcIiBjYW52YXMgYXMgd2VsbCBhcyB0aGUgZmluYWwgcmVzaXplXG4gIC8vIG1lY2hhbmlzbSBjb21tb25seSB1c2VkIGZvciByZXNwb25zaXZlIHJlc2l6aW5nXG4gIGNyb3BwaW5nUGx1Z2luLFxuICAvLyBSYXcgdHJhbnNmb3JtYXRpb25zIHNob3VsZCBhbHdheXMgY29tZSBiZWZvcmVcbiAgLy8gb3RoZXIgYXJndW1lbnRzIHRvIGF2b2lkIGNvbmZsaWN0aW5nIHdpdGhcbiAgLy8gYWRkZWQgb3B0aW9ucyB2aWEgdGhlIGNvbXBvbmVudFxuICBwcmVzZXJ2ZVRyYW5zZm9ybWF0aW9uc1BsdWdpbixcbiAgcmF3VHJhbnNmb3JtYXRpb25zUGx1Z2luLFxuICBhYnJQbHVnaW4sXG4gIGRlZmF1bHRJbWFnZVBsdWdpbixcbiAgZWZmZWN0c1BsdWdpbixcbiAgZmlsbEJhY2tncm91bmRQbHVnaW4sXG4gIGZsYWdzUGx1Z2luLFxuICBvdmVybGF5c1BsdWdpbixcbiAgc2FuaXRpemVQbHVnaW4sXG4gIG5hbWVkVHJhbnNmb3JtYXRpb25zUGx1Z2luLFxuICBzZW9QbHVnaW4sXG4gIHVuZGVybGF5c1BsdWdpbixcbiAgdmVyc2lvblBsdWdpbixcbiAgem9vbXBhblBsdWdpblxuXTtcbnZhciBjb25zdHJ1Y3RVcmxPcHRpb25zU2NoZW1hID0gejMwLnVuaW9uKFtpbWFnZU9wdGlvbnNTY2hlbWEsIHZpZGVvT3B0aW9uc1NjaGVtYV0pLmRlc2NyaWJlKFxuICBKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJBc3NldCBvcHRpb25zIChJbWFnZSBvciBWaWRlbykgdGhhdCBkZWZpbmUgZGVsaXZlcnkgVVJMIGluY2x1ZGluZyBwdWJsaWMgSUQgYW5kIHRyYW5zZm9ybWF0aW9ucy5cIixcbiAgICBwYXRoOiBcIi91cmwtbG9hZGVyL2Fzc2V0b3B0aW9uc1wiXG4gIH0pXG4pO1xudmFyIGNvbnN0cnVjdFVybFByb3BzU2NoZW1hID0gejMwLm9iamVjdCh7XG4gIGFuYWx5dGljczogejMwLnVuaW9uKFthbmFseXRpY3NPcHRpb25zU2NoZW1hLCB6MzAuYm9vbGVhbigpXSkuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJUZWNoLCBkZXBlbmRlbmN5LCBhbmQgZmVhdHVyZSBpZGVudGlmaWVycyBmb3IgdHJhY2tpbmcgU0RLIHVzYWdlIHJlbGF0ZWQgdG8gQ2xvdWRpbmFyeS5cIixcbiAgICAgIHBhdGg6IFwiL3VybC1sb2FkZXIvYW5hbHl0aWNzb3B0aW9uc1wiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICBjb25maWc6IGNvbmZpZ09wdGlvbnNTY2hlbWEuZGVzY3JpYmUoXG4gICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJDb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIGVudmlyb25tZW50IGFuZCBDbG91ZGluYXJ5IGFjY291bnQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2Nsb3VkaW5hcnlfc2RrcyNjb25maWd1cmF0aW9uX3BhcmFtZXRlcnNcIixcbiAgICAgIHBhdGg6IFwiL3VybC1sb2FkZXIvYW5hbHl0aWNzb3B0aW9uc1wiXG4gICAgfSlcbiAgKS5vcHRpb25hbCgpLFxuICBvcHRpb25zOiBjb25zdHJ1Y3RVcmxPcHRpb25zU2NoZW1hXG59KTtcbmZ1bmN0aW9uIGNvbnN0cnVjdENsb3VkaW5hcnlVcmwoe1xuICBvcHRpb25zLFxuICBjb25maWcgPSB7fSxcbiAgYW5hbHl0aWNzXG59KSB7XG4gIGlmIChhbmFseXRpY3MgPT09IGZhbHNlKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWc/LnVybCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uZmlnLnVybCA9IHt9O1xuICAgIH1cbiAgICBjb25maWcudXJsLmFuYWx5dGljcyA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGNsZCA9IG5ldyBDbG91ZGluYXJ5KGNvbmZpZyk7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucz8uc3JjICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIGNvbnN0cnVjdCBDbG91ZGluYXJ5IFVSTDogTWlzc2luZyBzb3VyY2UgKHNyYykgaW4gb3B0aW9ucy5gXG4gICAgKTtcbiAgfVxuICBpZiAoIW9wdGlvbnM/LmFzc2V0VHlwZSkge1xuICAgIG9wdGlvbnMuYXNzZXRUeXBlID0gXCJpbWFnZVwiO1xuICB9XG4gIGNvbnN0IHByb3BzQ2hlY2sgPSBbXTtcbiAgdHJhbnNmb3JtYXRpb25QbHVnaW5zLmZvckVhY2goKHsgcHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IHBsdWdpblByb3BzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICAgIHBsdWdpblByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGlmIChwcm9wc0NoZWNrLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT3B0aW9uICR7cHJvcH0gYWxyZWFkeSBleGlzdHMhYCk7XG4gICAgICB9XG4gICAgICBwcm9wc0NoZWNrLnB1c2gocHJvcCk7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBwYXJzZWRPcHRpb25zID0ge307XG4gIGxldCBwdWJsaWNJZDtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLnNyYyA9PT0gXCJzdHJpbmdcIiAmJiAvXmh0dHBzPzpcXC9cXC8vLnRlc3Qob3B0aW9ucy5zcmMpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnRzID0gcGFyc2VVcmwob3B0aW9ucy5zcmMpO1xuICAgICAgcHVibGljSWQgPSBwYXJ0cz8ucHVibGljSWQ7XG4gICAgICBwYXJzZWRPcHRpb25zLnNlb1N1ZmZpeCA9IHBhcnRzPy5zZW9TdWZmaXg7XG4gICAgICBwYXJzZWRPcHRpb25zLnZlcnNpb24gPSBwYXJ0cz8udmVyc2lvbjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG4gIGlmICghcHVibGljSWQpIHtcbiAgICBwdWJsaWNJZCA9IG9wdGlvbnMuc3JjO1xuICB9XG4gIE9iamVjdC5rZXlzKHBhcnNlZE9wdGlvbnMpLmZvckVhY2goXG4gICAgKGtleSkgPT4ge1xuICAgICAgaWYgKG9iamVjdEhhc0tleTMob3B0aW9ucywga2V5KSkgcmV0dXJuO1xuICAgICAgb3B0aW9uc1trZXldID0gcGFyc2VkT3B0aW9uc1trZXldO1xuICAgIH1cbiAgKTtcbiAgb3B0aW9ucy52ZXJzaW9uID8/IChvcHRpb25zLnZlcnNpb24gPSAxKTtcbiAgbGV0IGNsZEFzc2V0ID0gdm9pZCAwO1xuICBpZiAoW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl0uaW5jbHVkZXMob3B0aW9ucy5hc3NldFR5cGUpKSB7XG4gICAgY2xkQXNzZXQgPSBjbGQuaW1hZ2UocHVibGljSWQpO1xuICB9IGVsc2UgaWYgKFtcInZpZGVvXCIsIFwidmlkZW9zXCJdLmluY2x1ZGVzKG9wdGlvbnMuYXNzZXRUeXBlKSkge1xuICAgIGNsZEFzc2V0ID0gY2xkLnZpZGVvKHB1YmxpY0lkKTtcbiAgfVxuICBpZiAodHlwZW9mIGNsZEFzc2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhc3NldCB0eXBlLlwiKTtcbiAgfVxuICBjb25zdCBwbHVnaW5FZmZlY3RzID0ge307XG4gIHRyYW5zZm9ybWF0aW9uUGx1Z2lucy5mb3JFYWNoKFxuICAgICh7IHBsdWdpbiwgYXNzZXRUeXBlcywgcHJvcHMsIHN0cmljdCB9KSA9PiB7XG4gICAgICBjb25zdCBzdXBwb3J0ZWRBc3NldFR5cGUgPSBvcHRpb25zPy5hc3NldFR5cGUgIT09IHZvaWQgMCAmJiBhc3NldFR5cGVzLmluY2x1ZGVzKG9wdGlvbnMuYXNzZXRUeXBlKTtcbiAgICAgIGNvbnN0IHBsdWdpblByb3BzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICAgICAgY29uc3Qgb3B0aW9uc0tleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICAgIGNvbnN0IGF0dGVtcHRlZFVzZSA9IHBsdWdpblByb3BzLm1hcCgocHJvcCkgPT4gb3B0aW9uc0tleXMuaW5jbHVkZXMocHJvcCkpLmZpbHRlcigoaXNVc2VkKSA9PiAhIWlzVXNlZCkubGVuZ3RoID4gMDtcbiAgICAgIGlmICghc3VwcG9ydGVkQXNzZXRUeXBlKSB7XG4gICAgICAgIGlmIChhdHRlbXB0ZWRVc2UpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBgT25lIG9mIHRoZSBmb2xsb3dpbmcgcHJvcHMgWyR7cGx1Z2luUHJvcHMuam9pbihcbiAgICAgICAgICAgICAgXCIsIFwiXG4gICAgICAgICAgICApfV0gd2FzIHVzZWQgd2l0aCBhbiB1bnN1cHBvcnRlZCBhc3NldCB0eXBlIFske29wdGlvbnM/LmFzc2V0VHlwZX1dYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0VHJhbnNmb3JtYXRpb25zICYmICFzdHJpY3QpIHtcbiAgICAgICAgaWYgKGF0dGVtcHRlZFVzZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIGBPbmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wcyBbJHtwbHVnaW5Qcm9wcy5qb2luKFxuICAgICAgICAgICAgICBcIiwgXCJcbiAgICAgICAgICAgICl9XSB3YXMgdXNlZCB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBTdHJpY3QgVHJhbnNmb3JtYXRpb25zLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBwbHVnaW4oe1xuICAgICAgICBjbGRBc3NldCxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSk7XG4gICAgICBjb25zdCB7IG9wdGlvbnM6IHBsdWdpbk9wdGlvbnMgfSA9IHJlc3VsdHMgfHwgeyBvcHRpb25zOiB2b2lkIDAgfTtcbiAgICAgIE9iamVjdC5hc3NpZ24ocGx1Z2luRWZmZWN0cywgcGx1Z2luT3B0aW9ucyk7XG4gICAgfVxuICApO1xuICBpZiAodHlwZW9mIHBsdWdpbkVmZmVjdHMucmVzaXplID09PSBcInN0cmluZ1wiKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24ocGx1Z2luRWZmZWN0cy5yZXNpemUpO1xuICB9XG4gIGNsZEFzc2V0LnNldERlbGl2ZXJ5VHlwZShvcHRpb25zPy5kZWxpdmVyeVR5cGUgfHwgXCJ1cGxvYWRcIik7XG4gIGlmICghb3B0aW9ucy5zdHJpY3RUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8uZHByKSB7XG4gICAgICBsZXQgZHByID0gb3B0aW9ucy5kcHI7XG4gICAgICBpZiAodHlwZW9mIGRwciA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBkcHIgPSBkcHIudG9GaXhlZCgxKTtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBkcHJfJHtkcHJ9YCk7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRGb3JtYXQgPSBvcHRpb25zPy5mb3JtYXQgPT09IFwiZGVmYXVsdFwiO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zRm9ybWF0ID0gc2VhcmNoQXNzZXRSYXdUcmFuc2Zvcm1hdGlvbnMoXCJmX1wiLCBjbGRBc3NldCwge1xuICAgICAgbWF0Y2hUeXBlOiBcInN0YXJ0c1dpdGhcIlxuICAgIH0pO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zRm9ybWF0QW5kRXhwbGljaXQgPSByYXdDb250YWluc0Zvcm1hdCAmJiB0eXBlb2Ygb3B0aW9ucz8uZm9ybWF0ICE9PSBcInVuZGVmaW5lZFwiO1xuICAgIGlmIChwbHVnaW5FZmZlY3RzPy5mb3JtYXQgfHwgIWRlZmF1bHRGb3JtYXQgJiYgKCFyYXdDb250YWluc0Zvcm1hdCB8fCByYXdDb250YWluc0Zvcm1hdEFuZEV4cGxpY2l0KSkge1xuICAgICAgY2xkQXNzZXQuZm9ybWF0KG9wdGlvbnM/LmZvcm1hdCB8fCBwbHVnaW5FZmZlY3RzPy5mb3JtYXQgfHwgXCJhdXRvXCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0UXVhbGl0eSA9IG9wdGlvbnM/LnF1YWxpdHkgPT09IFwiZGVmYXVsdFwiO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zUXVhbGl0eSA9IHNlYXJjaEFzc2V0UmF3VHJhbnNmb3JtYXRpb25zKFwicV9cIiwgY2xkQXNzZXQsIHtcbiAgICAgIG1hdGNoVHlwZTogXCJzdGFydHNXaXRoXCJcbiAgICB9KTtcbiAgICBjb25zdCByYXdDb250YWluc1F1YWxpdHlBbmRFeHBsaWNpdCA9IHJhd0NvbnRhaW5zUXVhbGl0eSAmJiB0eXBlb2Ygb3B0aW9ucz8ucXVhbGl0eSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICBpZiAoIWRlZmF1bHRRdWFsaXR5ICYmICghcmF3Q29udGFpbnNRdWFsaXR5IHx8IHJhd0NvbnRhaW5zUXVhbGl0eUFuZEV4cGxpY2l0KSkge1xuICAgICAgY2xkQXNzZXQucXVhbGl0eShvcHRpb25zPy5xdWFsaXR5IHx8IFwiYXV0b1wiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsZEFzc2V0LnRvVVJMKHtcbiAgICB0cmFja2VkQW5hbHl0aWNzOiBhbmFseXRpY3NcbiAgfSk7XG59XG5mdW5jdGlvbiBzZWFyY2hBc3NldFJhd1RyYW5zZm9ybWF0aW9ucyhxdWVyeSwgYXNzZXQsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBhc3NldC50cmFuc2Zvcm1hdGlvbiA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICBjb25zdCB7IG1hdGNoVHlwZSA9IFwiaW5jbHVkZXNcIiB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgdHJhbnNmb3JtYXRpb25zID0gYXNzZXQudHJhbnNmb3JtYXRpb24uYWN0aW9ucy5mbGF0TWFwKFxuICAgICh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLnRvU3RyaW5nKCkuc3BsaXQoXCIvXCIpLmZsYXRNYXAoKHNlZykgPT4gc2VnLnNwbGl0KFwiLFwiKSk7XG4gICAgfVxuICApO1xuICBjb25zdCBtYXRjaGVzID0gdHJhbnNmb3JtYXRpb25zLmZpbHRlcigodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICBpZiAobWF0Y2hUeXBlID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLnN0YXJ0c1dpdGgocXVlcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24uaW5jbHVkZXMocXVlcnkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYXRjaGVzLmxlbmd0aCA+IDA7XG59XG5cbmV4cG9ydCB7XG4gIHByaW1hcnksXG4gIHBvc2l0aW9uLFxuICB0ZXh0LFxuICBlZmZlY3RzLFxuICBhc3NldE9wdGlvbnNTY2hlbWEsXG4gIGltYWdlT3B0aW9uc1NjaGVtYSxcbiAgdmlkZW9PcHRpb25zU2NoZW1hLFxuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnMsXG4gIGNvbnN0cnVjdFVybFByb3BzU2NoZW1hLFxuICBjb25zdHJ1Y3RDbG91ZGluYXJ5VXJsXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-L3YIXMGG.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UPLOAD_WIDGET_EVENTS: () => (/* binding */ UPLOAD_WIDGET_EVENTS),\n/* harmony export */   constructCloudinaryUrl: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl),\n/* harmony export */   effects: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.effects),\n/* harmony export */   generateSignatureCallback: () => (/* binding */ generateSignatureCallback),\n/* harmony export */   generateUploadWidgetResultCallback: () => (/* binding */ generateUploadWidgetResultCallback),\n/* harmony export */   getUploadWidgetOptions: () => (/* binding */ getUploadWidgetOptions),\n/* harmony export */   getVideoPlayerOptions: () => (/* binding */ getVideoPlayerOptions),\n/* harmony export */   position: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.position),\n/* harmony export */   primary: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.primary),\n/* harmony export */   text: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.text),\n/* harmony export */   transformationPlugins: () => (/* reexport safe */ _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.transformationPlugins)\n/* harmony export */ });\n/* harmony import */ var _chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-L3YIXMGG.js */ \"(ssr)/./node_modules/@cloudinary-util/url-loader/dist/chunk-L3YIXMGG.js\");\n/* harmony import */ var _cloudinary_util_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/url-loader/node_modules/@cloudinary-util/util/dist/index.js\");\n\n\n// src/lib/upload-widget.ts\nfunction getUploadWidgetOptions({ uploadSignature, ...options }, config) {\n  const signed = typeof uploadSignature === \"function\";\n  const { cloudName, apiKey } = config?.cloud || {};\n  if (!cloudName) {\n    throw new Error(\"A Cloudinary Cloud name is required, please make sure your environment variable is set and configured in your environment.\");\n  }\n  if (signed && !apiKey) {\n    throw new Error(\"A Cloudinary API Key is required for signed requests, please make sure your environment variable is set and configured in your environment.\");\n  }\n  if (!signed && !options.uploadPreset) {\n    throw new Error(\"A Cloudinary Upload Preset is required for unsigned uploads. Please specify an uploadPreset or configure signed uploads.\");\n  }\n  const uploadOptions = {\n    cloudName,\n    apiKey,\n    ...options\n  };\n  if (signed) {\n    uploadOptions.uploadSignature = uploadSignature;\n  }\n  return uploadOptions;\n}\nvar UPLOAD_WIDGET_EVENTS = {\n  \"abort\": \"onAbort\",\n  \"batch-cancelled\": \"onBatchCancelled\",\n  \"close\": \"onClose\",\n  \"display-changed\": \"onDisplayChanged\",\n  \"publicid\": \"onPublicId\",\n  \"queues-end\": \"onQueuesEnd\",\n  \"queues-start\": \"onQueuesStart\",\n  \"retry\": \"onRetry\",\n  \"show-completed\": \"onShowCompleted\",\n  \"source-changed\": \"onSourceChanged\",\n  \"success\": \"onSuccess\",\n  \"tags\": \"onTags\",\n  \"upload-added\": \"onUploadAdded\"\n};\nfunction generateUploadWidgetResultCallback(options) {\n  return function resultCallback(error, uploadResult) {\n    if (error) {\n      if (typeof options.onError === \"function\") {\n        options.onError(error, uploadResult);\n      }\n    }\n    if (typeof options.onResult === \"function\") {\n      options.onResult(uploadResult);\n    }\n    const widgetEvent = typeof uploadResult?.event === \"string\" && UPLOAD_WIDGET_EVENTS[uploadResult.event];\n    if (typeof widgetEvent === \"string\" && typeof options[widgetEvent] === \"function\") {\n      const callback = options[widgetEvent];\n      callback(uploadResult);\n    }\n  };\n}\n\n// src/lib/upload.ts\nfunction generateSignatureCallback({ signatureEndpoint, fetch: fetcher }) {\n  return function generateSignature(callback, paramsToSign) {\n    if (typeof signatureEndpoint === \"undefined\") {\n      throw Error(\"Failed to generate signature: signatureEndpoint property undefined.\");\n    }\n    if (typeof fetcher === \"undefined\") {\n      throw Error(\"Failed to generate signature: fetch property undefined.\");\n    }\n    fetcher(signatureEndpoint, {\n      method: \"POST\",\n      body: JSON.stringify({\n        paramsToSign\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then((response) => response.json()).then((result) => {\n      callback(result.signature);\n    }).catch((error) => {\n      callback(null, error);\n    });\n  };\n}\n\n// src/lib/video-player.ts\n\nfunction getVideoPlayerOptions(options, config) {\n  const {\n    autoplay,\n    controls = true,\n    language,\n    languages,\n    logo = true,\n    loop = false,\n    muted = false,\n    poster,\n    src,\n    transformation,\n    quality = \"auto\",\n    ...otherCldVidPlayerOptions\n  } = options;\n  const { cloudName } = config?.cloud || {};\n  const { secureDistribution, privateCdn } = config?.url || {};\n  if (!cloudName) {\n    throw new Error(\n      \"A Cloudinary Cloud name is required, please make sure your environment variable is set and configured in your environment.\"\n    );\n  }\n  let publicId = src || \"\";\n  if (publicId.startsWith(\"http\")) {\n    try {\n      const parts = (0,_cloudinary_util_util__WEBPACK_IMPORTED_MODULE_0__.parseUrl)(src);\n      if (typeof parts?.publicId === \"string\") {\n        publicId = parts?.publicId;\n      }\n    } catch (e) {\n    }\n  }\n  if (!publicId) {\n    throw new Error(\n      \"Video Player requires a src, please make sure to configure your src as a public ID or Cloudinary URL.\"\n    );\n  }\n  const playerTransformations = Array.isArray(transformation) ? transformation : [transformation];\n  playerTransformations.unshift({\n    quality\n  });\n  let logoOptions = {};\n  if (typeof logo === \"boolean\") {\n    logoOptions.showLogo = logo;\n  } else if (typeof logo === \"object\") {\n    logoOptions = {\n      ...logoOptions,\n      showLogo: true,\n      logoImageUrl: logo.imageUrl,\n      logoOnclickUrl: logo.onClickUrl\n    };\n  }\n  let autoplayValue = false;\n  let autoplayModeValue = void 0;\n  if (typeof autoplay === \"boolean\" || autoplay === \"true\" || autoplay === \"false\") {\n    autoplayValue = autoplay;\n  }\n  if (typeof autoplay === \"string\" && autoplay !== \"true\" && autoplay !== \"false\") {\n    autoplayModeValue = autoplay;\n  }\n  const playerOptions = {\n    cloud_name: cloudName,\n    privateCdn,\n    secureDistribution,\n    autoplayMode: autoplayModeValue,\n    autoplay: autoplayValue,\n    controls,\n    language,\n    languages,\n    loop,\n    muted,\n    publicId,\n    transformation: playerTransformations,\n    ...logoOptions,\n    ...otherCldVidPlayerOptions\n  };\n  if (playerOptions.width && playerOptions.height && !playerOptions.aspectRatio) {\n    playerOptions.aspectRatio = `${playerOptions.width}:${playerOptions.height}`;\n  }\n  if (typeof poster === \"string\") {\n    playerOptions.posterOptions = {\n      publicId: poster\n    };\n  } else if (typeof poster === \"object\") {\n    if (typeof poster.src !== \"string\") {\n      playerOptions.posterOptions = {\n        publicId: (0,_chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl)({\n          options: {\n            ...poster,\n            src: publicId,\n            assetType: \"video\",\n            format: \"auto:image\"\n          },\n          config\n        })\n      };\n    } else {\n      playerOptions.posterOptions = {\n        publicId: (0,_chunk_L3YIXMGG_js__WEBPACK_IMPORTED_MODULE_1__.constructCloudinaryUrl)({\n          options: poster,\n          config\n        })\n      };\n    }\n  }\n  return playerOptions;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQU82Qjs7QUFFN0I7QUFDQSxrQ0FBa0MsNkJBQTZCO0FBQy9EO0FBQ0EsVUFBVSxvQkFBb0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLG1DQUFtQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ2lEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osVUFBVSxZQUFZO0FBQ3RCLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0RBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9CQUFvQixHQUFHLHFCQUFxQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxrQkFBa0IsMEVBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxrQkFBa0IsMEVBQXNCO0FBQ3hDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFFIiwic291cmNlcyI6WyJDOlxcSW50ZXJrb25uZWt0XFxub2RlX21vZHVsZXNcXEBjbG91ZGluYXJ5LXV0aWxcXHVybC1sb2FkZXJcXGRpc3RcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNvbnN0cnVjdENsb3VkaW5hcnlVcmwsXG4gIGVmZmVjdHMsXG4gIHBvc2l0aW9uLFxuICBwcmltYXJ5LFxuICB0ZXh0LFxuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnNcbn0gZnJvbSBcIi4vY2h1bmstTDNZSVhNR0cuanNcIjtcblxuLy8gc3JjL2xpYi91cGxvYWQtd2lkZ2V0LnRzXG5mdW5jdGlvbiBnZXRVcGxvYWRXaWRnZXRPcHRpb25zKHsgdXBsb2FkU2lnbmF0dXJlLCAuLi5vcHRpb25zIH0sIGNvbmZpZykge1xuICBjb25zdCBzaWduZWQgPSB0eXBlb2YgdXBsb2FkU2lnbmF0dXJlID09PSBcImZ1bmN0aW9uXCI7XG4gIGNvbnN0IHsgY2xvdWROYW1lLCBhcGlLZXkgfSA9IGNvbmZpZz8uY2xvdWQgfHwge307XG4gIGlmICghY2xvdWROYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBDbG91ZGluYXJ5IENsb3VkIG5hbWUgaXMgcmVxdWlyZWQsIHBsZWFzZSBtYWtlIHN1cmUgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBzZXQgYW5kIGNvbmZpZ3VyZWQgaW4geW91ciBlbnZpcm9ubWVudC5cIik7XG4gIH1cbiAgaWYgKHNpZ25lZCAmJiAhYXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBDbG91ZGluYXJ5IEFQSSBLZXkgaXMgcmVxdWlyZWQgZm9yIHNpZ25lZCByZXF1ZXN0cywgcGxlYXNlIG1ha2Ugc3VyZSB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIHNldCBhbmQgY29uZmlndXJlZCBpbiB5b3VyIGVudmlyb25tZW50LlwiKTtcbiAgfVxuICBpZiAoIXNpZ25lZCAmJiAhb3B0aW9ucy51cGxvYWRQcmVzZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIENsb3VkaW5hcnkgVXBsb2FkIFByZXNldCBpcyByZXF1aXJlZCBmb3IgdW5zaWduZWQgdXBsb2Fkcy4gUGxlYXNlIHNwZWNpZnkgYW4gdXBsb2FkUHJlc2V0IG9yIGNvbmZpZ3VyZSBzaWduZWQgdXBsb2Fkcy5cIik7XG4gIH1cbiAgY29uc3QgdXBsb2FkT3B0aW9ucyA9IHtcbiAgICBjbG91ZE5hbWUsXG4gICAgYXBpS2V5LFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgaWYgKHNpZ25lZCkge1xuICAgIHVwbG9hZE9wdGlvbnMudXBsb2FkU2lnbmF0dXJlID0gdXBsb2FkU2lnbmF0dXJlO1xuICB9XG4gIHJldHVybiB1cGxvYWRPcHRpb25zO1xufVxudmFyIFVQTE9BRF9XSURHRVRfRVZFTlRTID0ge1xuICBcImFib3J0XCI6IFwib25BYm9ydFwiLFxuICBcImJhdGNoLWNhbmNlbGxlZFwiOiBcIm9uQmF0Y2hDYW5jZWxsZWRcIixcbiAgXCJjbG9zZVwiOiBcIm9uQ2xvc2VcIixcbiAgXCJkaXNwbGF5LWNoYW5nZWRcIjogXCJvbkRpc3BsYXlDaGFuZ2VkXCIsXG4gIFwicHVibGljaWRcIjogXCJvblB1YmxpY0lkXCIsXG4gIFwicXVldWVzLWVuZFwiOiBcIm9uUXVldWVzRW5kXCIsXG4gIFwicXVldWVzLXN0YXJ0XCI6IFwib25RdWV1ZXNTdGFydFwiLFxuICBcInJldHJ5XCI6IFwib25SZXRyeVwiLFxuICBcInNob3ctY29tcGxldGVkXCI6IFwib25TaG93Q29tcGxldGVkXCIsXG4gIFwic291cmNlLWNoYW5nZWRcIjogXCJvblNvdXJjZUNoYW5nZWRcIixcbiAgXCJzdWNjZXNzXCI6IFwib25TdWNjZXNzXCIsXG4gIFwidGFnc1wiOiBcIm9uVGFnc1wiLFxuICBcInVwbG9hZC1hZGRlZFwiOiBcIm9uVXBsb2FkQWRkZWRcIlxufTtcbmZ1bmN0aW9uIGdlbmVyYXRlVXBsb2FkV2lkZ2V0UmVzdWx0Q2FsbGJhY2sob3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gcmVzdWx0Q2FsbGJhY2soZXJyb3IsIHVwbG9hZFJlc3VsdCkge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm9uRXJyb3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvcHRpb25zLm9uRXJyb3IoZXJyb3IsIHVwbG9hZFJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vblJlc3VsdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBvcHRpb25zLm9uUmVzdWx0KHVwbG9hZFJlc3VsdCk7XG4gICAgfVxuICAgIGNvbnN0IHdpZGdldEV2ZW50ID0gdHlwZW9mIHVwbG9hZFJlc3VsdD8uZXZlbnQgPT09IFwic3RyaW5nXCIgJiYgVVBMT0FEX1dJREdFVF9FVkVOVFNbdXBsb2FkUmVzdWx0LmV2ZW50XTtcbiAgICBpZiAodHlwZW9mIHdpZGdldEV2ZW50ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvcHRpb25zW3dpZGdldEV2ZW50XSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IG9wdGlvbnNbd2lkZ2V0RXZlbnRdO1xuICAgICAgY2FsbGJhY2sodXBsb2FkUmVzdWx0KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9saWIvdXBsb2FkLnRzXG5mdW5jdGlvbiBnZW5lcmF0ZVNpZ25hdHVyZUNhbGxiYWNrKHsgc2lnbmF0dXJlRW5kcG9pbnQsIGZldGNoOiBmZXRjaGVyIH0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlU2lnbmF0dXJlKGNhbGxiYWNrLCBwYXJhbXNUb1NpZ24pIHtcbiAgICBpZiAodHlwZW9mIHNpZ25hdHVyZUVuZHBvaW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBzaWduYXR1cmU6IHNpZ25hdHVyZUVuZHBvaW50IHByb3BlcnR5IHVuZGVmaW5lZC5cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZmV0Y2hlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhyb3cgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgc2lnbmF0dXJlOiBmZXRjaCBwcm9wZXJ0eSB1bmRlZmluZWQuXCIpO1xuICAgIH1cbiAgICBmZXRjaGVyKHNpZ25hdHVyZUVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwYXJhbXNUb1NpZ25cbiAgICAgIH0pLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY2FsbGJhY2socmVzdWx0LnNpZ25hdHVyZSk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjYWxsYmFjayhudWxsLCBlcnJvcik7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9saWIvdmlkZW8tcGxheWVyLnRzXG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAY2xvdWRpbmFyeS11dGlsL3V0aWxcIjtcbmZ1bmN0aW9uIGdldFZpZGVvUGxheWVyT3B0aW9ucyhvcHRpb25zLCBjb25maWcpIHtcbiAgY29uc3Qge1xuICAgIGF1dG9wbGF5LFxuICAgIGNvbnRyb2xzID0gdHJ1ZSxcbiAgICBsYW5ndWFnZSxcbiAgICBsYW5ndWFnZXMsXG4gICAgbG9nbyA9IHRydWUsXG4gICAgbG9vcCA9IGZhbHNlLFxuICAgIG11dGVkID0gZmFsc2UsXG4gICAgcG9zdGVyLFxuICAgIHNyYyxcbiAgICB0cmFuc2Zvcm1hdGlvbixcbiAgICBxdWFsaXR5ID0gXCJhdXRvXCIsXG4gICAgLi4ub3RoZXJDbGRWaWRQbGF5ZXJPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IGNsb3VkTmFtZSB9ID0gY29uZmlnPy5jbG91ZCB8fCB7fTtcbiAgY29uc3QgeyBzZWN1cmVEaXN0cmlidXRpb24sIHByaXZhdGVDZG4gfSA9IGNvbmZpZz8udXJsIHx8IHt9O1xuICBpZiAoIWNsb3VkTmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQSBDbG91ZGluYXJ5IENsb3VkIG5hbWUgaXMgcmVxdWlyZWQsIHBsZWFzZSBtYWtlIHN1cmUgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBzZXQgYW5kIGNvbmZpZ3VyZWQgaW4geW91ciBlbnZpcm9ubWVudC5cIlxuICAgICk7XG4gIH1cbiAgbGV0IHB1YmxpY0lkID0gc3JjIHx8IFwiXCI7XG4gIGlmIChwdWJsaWNJZC5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhcnNlVXJsKHNyYyk7XG4gICAgICBpZiAodHlwZW9mIHBhcnRzPy5wdWJsaWNJZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBwdWJsaWNJZCA9IHBhcnRzPy5wdWJsaWNJZDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG4gIGlmICghcHVibGljSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlZpZGVvIFBsYXllciByZXF1aXJlcyBhIHNyYywgcGxlYXNlIG1ha2Ugc3VyZSB0byBjb25maWd1cmUgeW91ciBzcmMgYXMgYSBwdWJsaWMgSUQgb3IgQ2xvdWRpbmFyeSBVUkwuXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IHBsYXllclRyYW5zZm9ybWF0aW9ucyA9IEFycmF5LmlzQXJyYXkodHJhbnNmb3JtYXRpb24pID8gdHJhbnNmb3JtYXRpb24gOiBbdHJhbnNmb3JtYXRpb25dO1xuICBwbGF5ZXJUcmFuc2Zvcm1hdGlvbnMudW5zaGlmdCh7XG4gICAgcXVhbGl0eVxuICB9KTtcbiAgbGV0IGxvZ29PcHRpb25zID0ge307XG4gIGlmICh0eXBlb2YgbG9nbyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBsb2dvT3B0aW9ucy5zaG93TG9nbyA9IGxvZ287XG4gIH0gZWxzZSBpZiAodHlwZW9mIGxvZ28gPT09IFwib2JqZWN0XCIpIHtcbiAgICBsb2dvT3B0aW9ucyA9IHtcbiAgICAgIC4uLmxvZ29PcHRpb25zLFxuICAgICAgc2hvd0xvZ286IHRydWUsXG4gICAgICBsb2dvSW1hZ2VVcmw6IGxvZ28uaW1hZ2VVcmwsXG4gICAgICBsb2dvT25jbGlja1VybDogbG9nby5vbkNsaWNrVXJsXG4gICAgfTtcbiAgfVxuICBsZXQgYXV0b3BsYXlWYWx1ZSA9IGZhbHNlO1xuICBsZXQgYXV0b3BsYXlNb2RlVmFsdWUgPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgYXV0b3BsYXkgPT09IFwiYm9vbGVhblwiIHx8IGF1dG9wbGF5ID09PSBcInRydWVcIiB8fCBhdXRvcGxheSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgYXV0b3BsYXlWYWx1ZSA9IGF1dG9wbGF5O1xuICB9XG4gIGlmICh0eXBlb2YgYXV0b3BsYXkgPT09IFwic3RyaW5nXCIgJiYgYXV0b3BsYXkgIT09IFwidHJ1ZVwiICYmIGF1dG9wbGF5ICE9PSBcImZhbHNlXCIpIHtcbiAgICBhdXRvcGxheU1vZGVWYWx1ZSA9IGF1dG9wbGF5O1xuICB9XG4gIGNvbnN0IHBsYXllck9wdGlvbnMgPSB7XG4gICAgY2xvdWRfbmFtZTogY2xvdWROYW1lLFxuICAgIHByaXZhdGVDZG4sXG4gICAgc2VjdXJlRGlzdHJpYnV0aW9uLFxuICAgIGF1dG9wbGF5TW9kZTogYXV0b3BsYXlNb2RlVmFsdWUsXG4gICAgYXV0b3BsYXk6IGF1dG9wbGF5VmFsdWUsXG4gICAgY29udHJvbHMsXG4gICAgbGFuZ3VhZ2UsXG4gICAgbGFuZ3VhZ2VzLFxuICAgIGxvb3AsXG4gICAgbXV0ZWQsXG4gICAgcHVibGljSWQsXG4gICAgdHJhbnNmb3JtYXRpb246IHBsYXllclRyYW5zZm9ybWF0aW9ucyxcbiAgICAuLi5sb2dvT3B0aW9ucyxcbiAgICAuLi5vdGhlckNsZFZpZFBsYXllck9wdGlvbnNcbiAgfTtcbiAgaWYgKHBsYXllck9wdGlvbnMud2lkdGggJiYgcGxheWVyT3B0aW9ucy5oZWlnaHQgJiYgIXBsYXllck9wdGlvbnMuYXNwZWN0UmF0aW8pIHtcbiAgICBwbGF5ZXJPcHRpb25zLmFzcGVjdFJhdGlvID0gYCR7cGxheWVyT3B0aW9ucy53aWR0aH06JHtwbGF5ZXJPcHRpb25zLmhlaWdodH1gO1xuICB9XG4gIGlmICh0eXBlb2YgcG9zdGVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgcGxheWVyT3B0aW9ucy5wb3N0ZXJPcHRpb25zID0ge1xuICAgICAgcHVibGljSWQ6IHBvc3RlclxuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHBvc3RlciA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmICh0eXBlb2YgcG9zdGVyLnNyYyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcGxheWVyT3B0aW9ucy5wb3N0ZXJPcHRpb25zID0ge1xuICAgICAgICBwdWJsaWNJZDogY29uc3RydWN0Q2xvdWRpbmFyeVVybCh7XG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgLi4ucG9zdGVyLFxuICAgICAgICAgICAgc3JjOiBwdWJsaWNJZCxcbiAgICAgICAgICAgIGFzc2V0VHlwZTogXCJ2aWRlb1wiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImF1dG86aW1hZ2VcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uZmlnXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwbGF5ZXJPcHRpb25zLnBvc3Rlck9wdGlvbnMgPSB7XG4gICAgICAgIHB1YmxpY0lkOiBjb25zdHJ1Y3RDbG91ZGluYXJ5VXJsKHtcbiAgICAgICAgICBvcHRpb25zOiBwb3N0ZXIsXG4gICAgICAgICAgY29uZmlnXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGxheWVyT3B0aW9ucztcbn1cbmV4cG9ydCB7XG4gIFVQTE9BRF9XSURHRVRfRVZFTlRTLFxuICBjb25zdHJ1Y3RDbG91ZGluYXJ5VXJsLFxuICBlZmZlY3RzLFxuICBnZW5lcmF0ZVNpZ25hdHVyZUNhbGxiYWNrLFxuICBnZW5lcmF0ZVVwbG9hZFdpZGdldFJlc3VsdENhbGxiYWNrLFxuICBnZXRVcGxvYWRXaWRnZXRPcHRpb25zLFxuICBnZXRWaWRlb1BsYXllck9wdGlvbnMsXG4gIHBvc2l0aW9uLFxuICBwcmltYXJ5LFxuICB0ZXh0LFxuICB0cmFuc2Zvcm1hdGlvblBsdWdpbnNcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/node_modules/@cloudinary-util/util/dist/index.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/node_modules/@cloudinary-util/util/dist/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertColorHexToRgb: () => (/* binding */ convertColorHexToRgb),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   getFormat: () => (/* binding */ getFormat),\n/* harmony export */   getPublicId: () => (/* binding */ getPublicId),\n/* harmony export */   getTransformations: () => (/* binding */ getTransformations),\n/* harmony export */   objectHasKey: () => (/* binding */ objectHasKey),\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl),\n/* harmony export */   pollForProcessingImage: () => (/* binding */ pollForProcessingImage),\n/* harmony export */   sortByKey: () => (/* binding */ sortByKey),\n/* harmony export */   testColorIsHex: () => (/* binding */ testColorIsHex)\n/* harmony export */ });\n// src/lib/cloudinary.ts\nvar REGEX_VERSION = /\\/v\\d+\\//;\nvar REGEX_FORMAT = /\\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i;\nvar REGEX_URL = /https?:\\/\\/(?<host>[^/]+)\\/(?<cloudName>[^/]+)?\\/?(?<assetType>image|images|video|videos|raw|files)\\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\\/?(?<signature>s--([a-zA-Z0-9_-]{8}|[a-zA-Z0-9_-]{32})--)?\\/?(?<transformations>(?:[^_/]+_[^,/]+,?\\/?)*\\/)*(?<version>v\\d+|\\w{1,2})\\/(?<publicId>[^\\s]+)$/;\nvar ASSET_TYPES_SEO = [\"images\", \"videos\", \"files\"];\nvar CLOUDINARY_DEFAULT_HOST = \"res.cloudinary.com\";\nfunction parseUrl(src) {\n  if (typeof src !== \"string\") {\n    throw new Error(`Failed to parse URL - Invalid src: Is not a string`);\n  }\n  const hasVersion = REGEX_VERSION.test(src);\n  if (!hasVersion) {\n    throw new Error(\n      `Failed to parse URL - Invalid src: Does not include version (Ex: /v1234/)`\n    );\n  }\n  const [baseUrlWithExtension, queryString] = src.split(\"?\");\n  const format = getFormat(baseUrlWithExtension);\n  let baseUrl = baseUrlWithExtension;\n  if (format) {\n    baseUrl = baseUrlWithExtension.replace(new RegExp(`${format}$`), \"\");\n  }\n  const results = baseUrl.match(REGEX_URL);\n  const transformations = results?.groups?.transformations?.split(\"/\").filter((t) => !!t);\n  const parts = {\n    ...results?.groups,\n    format,\n    seoSuffix: void 0,\n    transformations: transformations || [],\n    queryParams: {},\n    version: results?.groups?.version ? parseInt(results.groups.version.replace(\"v\", \"\")) : void 0\n  };\n  if (parts.host === CLOUDINARY_DEFAULT_HOST && !parts.cloudName) {\n    throw new Error(\n      \"Failed to parse URL - Invalid src: Cloudinary URL delivered from res.cloudinary.com must include Cloud Name (ex: res.cloudinary.com/<Cloud Name>/image/...)\"\n    );\n  }\n  if (queryString) {\n    parts.queryParams = queryString.split(\"&\").reduce((prev, curr) => {\n      const [key, value] = curr.split(\"=\");\n      prev[key] = value;\n      return prev;\n    }, {});\n  }\n  if (parts.assetType && ASSET_TYPES_SEO.includes(parts.assetType)) {\n    const publicIdParts = parts.publicId?.split(\"/\") || [];\n    parts.seoSuffix = publicIdParts.pop();\n    parts.publicId = publicIdParts.join(\"/\");\n  }\n  if (parts.publicId) {\n    parts.publicId = decodeURIComponent(parts.publicId);\n  }\n  return parts;\n}\nfunction getPublicId(src) {\n  const { publicId } = parseUrl(src) || {};\n  return publicId;\n}\nfunction getTransformations(src) {\n  const { transformations = [] } = parseUrl(src) || {};\n  return transformations.map((t) => t.split(\",\"));\n}\nfunction getFormat(src) {\n  const matches = src.match(REGEX_FORMAT);\n  if (matches === null) return;\n  return matches[0];\n}\nasync function pollForProcessingImage(options) {\n  try {\n    const response = await fetch(options.src);\n    if (response.status === 423) {\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      return await pollForProcessingImage(options);\n    }\n    return response.ok;\n  } catch {\n    return false;\n  }\n}\n\n// src/lib/colors.ts\nfunction testColorIsHex(value) {\n  if (typeof value !== \"string\") return false;\n  return !!value.startsWith(\"#\");\n}\nfunction convertColorHexToRgb(value) {\n  return `rgb:${value.replace(\"#\", \"\")}`;\n}\n\n// src/lib/util.ts\nfunction encodeBase64(value) {\n  if (typeof btoa === \"function\") {\n    return btoa(value);\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(value).toString(\"base64\");\n  }\n}\nfunction objectHasKey(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction sortByKey(array = [], key, type = \"asc\") {\n  function compare(a, b) {\n    let keyA = a[key];\n    let keyB = b[key];\n    if (typeof keyA === \"string\") {\n      keyA = keyA.toLowerCase();\n    }\n    if (typeof keyB === \"string\") {\n      keyB = keyB.toLowerCase();\n    }\n    if (keyA < keyB) {\n      return -1;\n    }\n    if (keyA > keyB) {\n      return 1;\n    }\n    return 0;\n  }\n  let newArray = [...array];\n  if (typeof key !== \"string\") return newArray;\n  newArray = newArray.sort(compare);\n  if (type === \"desc\") {\n    return newArray.reverse();\n  }\n  return newArray;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL25vZGVfbW9kdWxlcy9AY2xvdWRpbmFyeS11dGlsL3V0aWwvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0Esa1BBQWtQLEVBQUUsZUFBZSxHQUFHLHlFQUF5RSxJQUFJO0FBQ25WO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFdBQVc7QUFDckI7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1QkFBdUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUJBQXVCO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZRSIsInNvdXJjZXMiOlsiQzpcXEludGVya29ubmVrdFxcbm9kZV9tb2R1bGVzXFxAY2xvdWRpbmFyeS11dGlsXFx1cmwtbG9hZGVyXFxub2RlX21vZHVsZXNcXEBjbG91ZGluYXJ5LXV0aWxcXHV0aWxcXGRpc3RcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvY2xvdWRpbmFyeS50c1xudmFyIFJFR0VYX1ZFUlNJT04gPSAvXFwvdlxcZCtcXC8vO1xudmFyIFJFR0VYX0ZPUk1BVCA9IC9cXC4oYWl8YXZpZnxnaWZ8cG5nfHdlYnB8Ym1wfGJ3fGRqdnV8ZG5nfHBzfGVwdHxlcHN8ZXBzM3xmYnh8ZmxpZnxnaWZ8Z2xifGdsdGZ8aGVpZnxoZWljfGljb3xpbmRkfGpwZ3xqcGV8anBlZ3xqcDJ8d2RwfGp4cnxoZHB8b2JqfHBkZnxwbHl8cG5nfHBzZHxhcnd8Y3IyfHN2Z3x0Z2F8dGlmfHRpZmZ8dTNtYXx1c2R6fHdlYnB8M2cyfDNncHxhdml8Zmx2fG0zdTh8dHN8bTJ0c3xtdHN8bW92fG1rdnxtcDR8bXBlZ3xtcGR8bXhmfG9ndnx3ZWJtfHdtdikkL2k7XG52YXIgUkVHRVhfVVJMID0gL2h0dHBzPzpcXC9cXC8oPzxob3N0PlteL10rKVxcLyg/PGNsb3VkTmFtZT5bXi9dKyk/XFwvPyg/PGFzc2V0VHlwZT5pbWFnZXxpbWFnZXN8dmlkZW98dmlkZW9zfHJhd3xmaWxlcylcXC8oPzxkZWxpdmVyeVR5cGU+dXBsb2FkfGZldGNofHByaXZhdGV8YXV0aGVudGljYXRlZHxzcHJpdGV8ZmFjZWJvb2t8dHdpdHRlcnx5b3V0dWJlfHZpbWVvKT9cXC8/KD88c2lnbmF0dXJlPnMtLShbYS16QS1aMC05Xy1dezh9fFthLXpBLVowLTlfLV17MzJ9KS0tKT9cXC8/KD88dHJhbnNmb3JtYXRpb25zPig/OlteXy9dK19bXiwvXSssP1xcLz8pKlxcLykqKD88dmVyc2lvbj52XFxkK3xcXHd7MSwyfSlcXC8oPzxwdWJsaWNJZD5bXlxcc10rKSQvO1xudmFyIEFTU0VUX1RZUEVTX1NFTyA9IFtcImltYWdlc1wiLCBcInZpZGVvc1wiLCBcImZpbGVzXCJdO1xudmFyIENMT1VESU5BUllfREVGQVVMVF9IT1NUID0gXCJyZXMuY2xvdWRpbmFyeS5jb21cIjtcbmZ1bmN0aW9uIHBhcnNlVXJsKHNyYykge1xuICBpZiAodHlwZW9mIHNyYyAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIFVSTCAtIEludmFsaWQgc3JjOiBJcyBub3QgYSBzdHJpbmdgKTtcbiAgfVxuICBjb25zdCBoYXNWZXJzaW9uID0gUkVHRVhfVkVSU0lPTi50ZXN0KHNyYyk7XG4gIGlmICghaGFzVmVyc2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBGYWlsZWQgdG8gcGFyc2UgVVJMIC0gSW52YWxpZCBzcmM6IERvZXMgbm90IGluY2x1ZGUgdmVyc2lvbiAoRXg6IC92MTIzNC8pYFxuICAgICk7XG4gIH1cbiAgY29uc3QgW2Jhc2VVcmxXaXRoRXh0ZW5zaW9uLCBxdWVyeVN0cmluZ10gPSBzcmMuc3BsaXQoXCI/XCIpO1xuICBjb25zdCBmb3JtYXQgPSBnZXRGb3JtYXQoYmFzZVVybFdpdGhFeHRlbnNpb24pO1xuICBsZXQgYmFzZVVybCA9IGJhc2VVcmxXaXRoRXh0ZW5zaW9uO1xuICBpZiAoZm9ybWF0KSB7XG4gICAgYmFzZVVybCA9IGJhc2VVcmxXaXRoRXh0ZW5zaW9uLnJlcGxhY2UobmV3IFJlZ0V4cChgJHtmb3JtYXR9JGApLCBcIlwiKTtcbiAgfVxuICBjb25zdCByZXN1bHRzID0gYmFzZVVybC5tYXRjaChSRUdFWF9VUkwpO1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSByZXN1bHRzPy5ncm91cHM/LnRyYW5zZm9ybWF0aW9ucz8uc3BsaXQoXCIvXCIpLmZpbHRlcigodCkgPT4gISF0KTtcbiAgY29uc3QgcGFydHMgPSB7XG4gICAgLi4ucmVzdWx0cz8uZ3JvdXBzLFxuICAgIGZvcm1hdCxcbiAgICBzZW9TdWZmaXg6IHZvaWQgMCxcbiAgICB0cmFuc2Zvcm1hdGlvbnM6IHRyYW5zZm9ybWF0aW9ucyB8fCBbXSxcbiAgICBxdWVyeVBhcmFtczoge30sXG4gICAgdmVyc2lvbjogcmVzdWx0cz8uZ3JvdXBzPy52ZXJzaW9uID8gcGFyc2VJbnQocmVzdWx0cy5ncm91cHMudmVyc2lvbi5yZXBsYWNlKFwidlwiLCBcIlwiKSkgOiB2b2lkIDBcbiAgfTtcbiAgaWYgKHBhcnRzLmhvc3QgPT09IENMT1VESU5BUllfREVGQVVMVF9IT1NUICYmICFwYXJ0cy5jbG91ZE5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkZhaWxlZCB0byBwYXJzZSBVUkwgLSBJbnZhbGlkIHNyYzogQ2xvdWRpbmFyeSBVUkwgZGVsaXZlcmVkIGZyb20gcmVzLmNsb3VkaW5hcnkuY29tIG11c3QgaW5jbHVkZSBDbG91ZCBOYW1lIChleDogcmVzLmNsb3VkaW5hcnkuY29tLzxDbG91ZCBOYW1lPi9pbWFnZS8uLi4pXCJcbiAgICApO1xuICB9XG4gIGlmIChxdWVyeVN0cmluZykge1xuICAgIHBhcnRzLnF1ZXJ5UGFyYW1zID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gY3Vyci5zcGxpdChcIj1cIik7XG4gICAgICBwcmV2W2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIHt9KTtcbiAgfVxuICBpZiAocGFydHMuYXNzZXRUeXBlICYmIEFTU0VUX1RZUEVTX1NFTy5pbmNsdWRlcyhwYXJ0cy5hc3NldFR5cGUpKSB7XG4gICAgY29uc3QgcHVibGljSWRQYXJ0cyA9IHBhcnRzLnB1YmxpY0lkPy5zcGxpdChcIi9cIikgfHwgW107XG4gICAgcGFydHMuc2VvU3VmZml4ID0gcHVibGljSWRQYXJ0cy5wb3AoKTtcbiAgICBwYXJ0cy5wdWJsaWNJZCA9IHB1YmxpY0lkUGFydHMuam9pbihcIi9cIik7XG4gIH1cbiAgaWYgKHBhcnRzLnB1YmxpY0lkKSB7XG4gICAgcGFydHMucHVibGljSWQgPSBkZWNvZGVVUklDb21wb25lbnQocGFydHMucHVibGljSWQpO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIGdldFB1YmxpY0lkKHNyYykge1xuICBjb25zdCB7IHB1YmxpY0lkIH0gPSBwYXJzZVVybChzcmMpIHx8IHt9O1xuICByZXR1cm4gcHVibGljSWQ7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1hdGlvbnMoc3JjKSB7XG4gIGNvbnN0IHsgdHJhbnNmb3JtYXRpb25zID0gW10gfSA9IHBhcnNlVXJsKHNyYykgfHwge307XG4gIHJldHVybiB0cmFuc2Zvcm1hdGlvbnMubWFwKCh0KSA9PiB0LnNwbGl0KFwiLFwiKSk7XG59XG5mdW5jdGlvbiBnZXRGb3JtYXQoc3JjKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBzcmMubWF0Y2goUkVHRVhfRk9STUFUKTtcbiAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHJldHVybjtcbiAgcmV0dXJuIG1hdGNoZXNbMF07XG59XG5hc3luYyBmdW5jdGlvbiBwb2xsRm9yUHJvY2Vzc2luZ0ltYWdlKG9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKG9wdGlvbnMuc3JjKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjMpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgcmV0dXJuIGF3YWl0IHBvbGxGb3JQcm9jZXNzaW5nSW1hZ2Uob3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS5vaztcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIHNyYy9saWIvY29sb3JzLnRzXG5mdW5jdGlvbiB0ZXN0Q29sb3JJc0hleCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAhIXZhbHVlLnN0YXJ0c1dpdGgoXCIjXCIpO1xufVxuZnVuY3Rpb24gY29udmVydENvbG9ySGV4VG9SZ2IodmFsdWUpIHtcbiAgcmV0dXJuIGByZ2I6JHt2YWx1ZS5yZXBsYWNlKFwiI1wiLCBcIlwiKX1gO1xufVxuXG4vLyBzcmMvbGliL3V0aWwudHNcbmZ1bmN0aW9uIGVuY29kZUJhc2U2NCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBidG9hKHZhbHVlKTtcbiAgfVxuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZSkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIG9iamVjdEhhc0tleShvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmZ1bmN0aW9uIHNvcnRCeUtleShhcnJheSA9IFtdLCBrZXksIHR5cGUgPSBcImFzY1wiKSB7XG4gIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgIGxldCBrZXlBID0gYVtrZXldO1xuICAgIGxldCBrZXlCID0gYltrZXldO1xuICAgIGlmICh0eXBlb2Yga2V5QSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAga2V5QSA9IGtleUEudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBrZXlCID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBrZXlCID0ga2V5Qi50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAoa2V5QSA8IGtleUIpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGtleUEgPiBrZXlCKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IG5ld0FycmF5ID0gWy4uLmFycmF5XTtcbiAgaWYgKHR5cGVvZiBrZXkgIT09IFwic3RyaW5nXCIpIHJldHVybiBuZXdBcnJheTtcbiAgbmV3QXJyYXkgPSBuZXdBcnJheS5zb3J0KGNvbXBhcmUpO1xuICBpZiAodHlwZSA9PT0gXCJkZXNjXCIpIHtcbiAgICByZXR1cm4gbmV3QXJyYXkucmV2ZXJzZSgpO1xuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cbmV4cG9ydCB7XG4gIGNvbnZlcnRDb2xvckhleFRvUmdiLFxuICBlbmNvZGVCYXNlNjQsXG4gIGdldEZvcm1hdCxcbiAgZ2V0UHVibGljSWQsXG4gIGdldFRyYW5zZm9ybWF0aW9ucyxcbiAgb2JqZWN0SGFzS2V5LFxuICBwYXJzZVVybCxcbiAgcG9sbEZvclByb2Nlc3NpbmdJbWFnZSxcbiAgc29ydEJ5S2V5LFxuICB0ZXN0Q29sb3JJc0hleFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/node_modules/@cloudinary-util/util/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/util/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@cloudinary-util/util/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertColorHexToRgb: () => (/* binding */ convertColorHexToRgb),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   getFormat: () => (/* binding */ getFormat),\n/* harmony export */   getPublicId: () => (/* binding */ getPublicId),\n/* harmony export */   getTransformations: () => (/* binding */ getTransformations),\n/* harmony export */   objectHasKey: () => (/* binding */ objectHasKey),\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl),\n/* harmony export */   pollForProcessingImage: () => (/* binding */ pollForProcessingImage),\n/* harmony export */   sortByKey: () => (/* binding */ sortByKey),\n/* harmony export */   testColorIsHex: () => (/* binding */ testColorIsHex)\n/* harmony export */ });\n// src/lib/cloudinary.ts\nvar REGEX_VERSION = /\\/v\\d+\\//;\nvar REGEX_FORMAT = /\\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i;\nvar REGEX_URL = /https?:\\/\\/(?<host>[^/]+)\\/(?<cloudName>[^/]+)?\\/?(?<assetType>image|images|video|videos|raw|files)\\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\\/?(?<signature>s--([a-zA-Z0-9_-]{8}|[a-zA-Z0-9_-]{32})--)?\\/?(?<transformations>(?:[^_/]+_[^,/]+,?\\/?)*\\/)*(?<version>v\\d+|\\w{1,2})\\/(?<publicId>[^\\s]+)$/;\nvar ASSET_TYPES_SEO = [\"images\", \"videos\", \"files\"];\nvar CLOUDINARY_DEFAULT_HOST = \"res.cloudinary.com\";\nfunction parseUrl(src) {\n  if (typeof src !== \"string\") {\n    throw new Error(`Failed to parse URL - Invalid src: Is not a string`);\n  }\n  const hasVersion = REGEX_VERSION.test(src);\n  if (!hasVersion) {\n    throw new Error(\n      `Failed to parse URL - Invalid src: Does not include version (Ex: /v1234/)`\n    );\n  }\n  const [baseUrlWithExtension, queryString] = src.split(\"?\");\n  const format = getFormat(baseUrlWithExtension);\n  let baseUrl = baseUrlWithExtension;\n  if (format) {\n    baseUrl = baseUrlWithExtension.replace(new RegExp(`${format}$`), \"\");\n  }\n  const results = baseUrl.match(REGEX_URL);\n  const transformations = results?.groups?.transformations?.split(\"/\").filter((t) => !!t);\n  const parts = {\n    ...results?.groups,\n    format,\n    seoSuffix: void 0,\n    transformations: transformations || [],\n    queryParams: {},\n    version: results?.groups?.version ? parseInt(results.groups.version.replace(\"v\", \"\")) : void 0\n  };\n  if (parts.host === CLOUDINARY_DEFAULT_HOST && !parts.cloudName) {\n    throw new Error(\n      \"Failed to parse URL - Invalid src: Cloudinary URL delivered from res.cloudinary.com must include Cloud Name (ex: res.cloudinary.com/<Cloud Name>/image/...)\"\n    );\n  }\n  if (queryString) {\n    parts.queryParams = queryString.split(\"&\").reduce((prev, curr) => {\n      const [key, value] = curr.split(\"=\");\n      prev[key] = value;\n      return prev;\n    }, {});\n  }\n  if (parts.assetType && ASSET_TYPES_SEO.includes(parts.assetType)) {\n    const publicIdParts = parts.publicId?.split(\"/\") || [];\n    parts.seoSuffix = publicIdParts.pop();\n    parts.publicId = publicIdParts.join(\"/\");\n  }\n  if (parts.publicId) {\n    parts.publicId = decodeURIComponent(parts.publicId);\n  }\n  return parts;\n}\nfunction getPublicId(src) {\n  const { publicId } = parseUrl(src) || {};\n  return publicId;\n}\nfunction getTransformations(src) {\n  const { transformations = [] } = parseUrl(src) || {};\n  return transformations.map((t) => t.split(\",\"));\n}\nfunction getFormat(src) {\n  const matches = src.match(REGEX_FORMAT);\n  if (matches === null) return;\n  return matches[0];\n}\nasync function pollForProcessingImage(options) {\n  try {\n    const response = await fetch(options.src);\n    if (response.status === 423) {\n      await new Promise((resolve) => setTimeout(resolve, 500));\n      return await pollForProcessingImage(options);\n    }\n    if (!response.ok) {\n      return {\n        success: false,\n        status: response.status,\n        error: response.headers.get(\"x-cld-error\") || \"Unknown error\"\n      };\n    }\n    return {\n      success: true,\n      status: response.status\n    };\n  } catch (error) {\n    return {\n      success: false,\n      status: 500,\n      error: error.message || \"Network error\"\n    };\n  }\n}\n\n// src/lib/colors.ts\nfunction testColorIsHex(value) {\n  if (typeof value !== \"string\") return false;\n  return !!value.startsWith(\"#\");\n}\nfunction convertColorHexToRgb(value) {\n  return `rgb:${value.replace(\"#\", \"\")}`;\n}\n\n// src/lib/util.ts\nfunction encodeBase64(value) {\n  if (typeof btoa === \"function\") {\n    return btoa(value);\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(value).toString(\"base64\");\n  }\n}\nfunction objectHasKey(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction sortByKey(array = [], key, type = \"asc\") {\n  function compare(a, b) {\n    let keyA = a[key];\n    let keyB = b[key];\n    if (typeof keyA === \"string\") {\n      keyA = keyA.toLowerCase();\n    }\n    if (typeof keyB === \"string\") {\n      keyB = keyB.toLowerCase();\n    }\n    if (keyA < keyB) return -1;\n    if (keyA > keyB) return 1;\n    return 0;\n  }\n  let newArray = [...array];\n  if (typeof key !== \"string\") return newArray;\n  newArray = newArray.sort(compare);\n  if (type === \"desc\") {\n    return newArray.reverse();\n  }\n  return newArray;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91dGlsL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLGtQQUFrUCxFQUFFLGVBQWUsR0FBRyx5RUFBeUUsSUFBSTtBQUNuVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdUJBQXVCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZRSIsInNvdXJjZXMiOlsiQzpcXEludGVya29ubmVrdFxcbm9kZV9tb2R1bGVzXFxAY2xvdWRpbmFyeS11dGlsXFx1dGlsXFxkaXN0XFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL2Nsb3VkaW5hcnkudHNcbnZhciBSRUdFWF9WRVJTSU9OID0gL1xcL3ZcXGQrXFwvLztcbnZhciBSRUdFWF9GT1JNQVQgPSAvXFwuKGFpfGF2aWZ8Z2lmfHBuZ3x3ZWJwfGJtcHxid3xkanZ1fGRuZ3xwc3xlcHR8ZXBzfGVwczN8ZmJ4fGZsaWZ8Z2lmfGdsYnxnbHRmfGhlaWZ8aGVpY3xpY298aW5kZHxqcGd8anBlfGpwZWd8anAyfHdkcHxqeHJ8aGRwfG9ianxwZGZ8cGx5fHBuZ3xwc2R8YXJ3fGNyMnxzdmd8dGdhfHRpZnx0aWZmfHUzbWF8dXNkenx3ZWJwfDNnMnwzZ3B8YXZpfGZsdnxtM3U4fHRzfG0ydHN8bXRzfG1vdnxta3Z8bXA0fG1wZWd8bXBkfG14ZnxvZ3Z8d2VibXx3bXYpJC9pO1xudmFyIFJFR0VYX1VSTCA9IC9odHRwcz86XFwvXFwvKD88aG9zdD5bXi9dKylcXC8oPzxjbG91ZE5hbWU+W14vXSspP1xcLz8oPzxhc3NldFR5cGU+aW1hZ2V8aW1hZ2VzfHZpZGVvfHZpZGVvc3xyYXd8ZmlsZXMpXFwvKD88ZGVsaXZlcnlUeXBlPnVwbG9hZHxmZXRjaHxwcml2YXRlfGF1dGhlbnRpY2F0ZWR8c3ByaXRlfGZhY2Vib29rfHR3aXR0ZXJ8eW91dHViZXx2aW1lbyk/XFwvPyg/PHNpZ25hdHVyZT5zLS0oW2EtekEtWjAtOV8tXXs4fXxbYS16QS1aMC05Xy1dezMyfSktLSk/XFwvPyg/PHRyYW5zZm9ybWF0aW9ucz4oPzpbXl8vXStfW14sL10rLD9cXC8/KSpcXC8pKig/PHZlcnNpb24+dlxcZCt8XFx3ezEsMn0pXFwvKD88cHVibGljSWQ+W15cXHNdKykkLztcbnZhciBBU1NFVF9UWVBFU19TRU8gPSBbXCJpbWFnZXNcIiwgXCJ2aWRlb3NcIiwgXCJmaWxlc1wiXTtcbnZhciBDTE9VRElOQVJZX0RFRkFVTFRfSE9TVCA9IFwicmVzLmNsb3VkaW5hcnkuY29tXCI7XG5mdW5jdGlvbiBwYXJzZVVybChzcmMpIHtcbiAgaWYgKHR5cGVvZiBzcmMgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBVUkwgLSBJbnZhbGlkIHNyYzogSXMgbm90IGEgc3RyaW5nYCk7XG4gIH1cbiAgY29uc3QgaGFzVmVyc2lvbiA9IFJFR0VYX1ZFUlNJT04udGVzdChzcmMpO1xuICBpZiAoIWhhc1ZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIHBhcnNlIFVSTCAtIEludmFsaWQgc3JjOiBEb2VzIG5vdCBpbmNsdWRlIHZlcnNpb24gKEV4OiAvdjEyMzQvKWBcbiAgICApO1xuICB9XG4gIGNvbnN0IFtiYXNlVXJsV2l0aEV4dGVuc2lvbiwgcXVlcnlTdHJpbmddID0gc3JjLnNwbGl0KFwiP1wiKTtcbiAgY29uc3QgZm9ybWF0ID0gZ2V0Rm9ybWF0KGJhc2VVcmxXaXRoRXh0ZW5zaW9uKTtcbiAgbGV0IGJhc2VVcmwgPSBiYXNlVXJsV2l0aEV4dGVuc2lvbjtcbiAgaWYgKGZvcm1hdCkge1xuICAgIGJhc2VVcmwgPSBiYXNlVXJsV2l0aEV4dGVuc2lvbi5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7Zm9ybWF0fSRgKSwgXCJcIik7XG4gIH1cbiAgY29uc3QgcmVzdWx0cyA9IGJhc2VVcmwubWF0Y2goUkVHRVhfVVJMKTtcbiAgY29uc3QgdHJhbnNmb3JtYXRpb25zID0gcmVzdWx0cz8uZ3JvdXBzPy50cmFuc2Zvcm1hdGlvbnM/LnNwbGl0KFwiL1wiKS5maWx0ZXIoKHQpID0+ICEhdCk7XG4gIGNvbnN0IHBhcnRzID0ge1xuICAgIC4uLnJlc3VsdHM/Lmdyb3VwcyxcbiAgICBmb3JtYXQsXG4gICAgc2VvU3VmZml4OiB2b2lkIDAsXG4gICAgdHJhbnNmb3JtYXRpb25zOiB0cmFuc2Zvcm1hdGlvbnMgfHwgW10sXG4gICAgcXVlcnlQYXJhbXM6IHt9LFxuICAgIHZlcnNpb246IHJlc3VsdHM/Lmdyb3Vwcz8udmVyc2lvbiA/IHBhcnNlSW50KHJlc3VsdHMuZ3JvdXBzLnZlcnNpb24ucmVwbGFjZShcInZcIiwgXCJcIikpIDogdm9pZCAwXG4gIH07XG4gIGlmIChwYXJ0cy5ob3N0ID09PSBDTE9VRElOQVJZX0RFRkFVTFRfSE9TVCAmJiAhcGFydHMuY2xvdWROYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJGYWlsZWQgdG8gcGFyc2UgVVJMIC0gSW52YWxpZCBzcmM6IENsb3VkaW5hcnkgVVJMIGRlbGl2ZXJlZCBmcm9tIHJlcy5jbG91ZGluYXJ5LmNvbSBtdXN0IGluY2x1ZGUgQ2xvdWQgTmFtZSAoZXg6IHJlcy5jbG91ZGluYXJ5LmNvbS88Q2xvdWQgTmFtZT4vaW1hZ2UvLi4uKVwiXG4gICAgKTtcbiAgfVxuICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICBwYXJ0cy5xdWVyeVBhcmFtcyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KFwiJlwiKS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IGN1cnIuc3BsaXQoXCI9XCIpO1xuICAgICAgcHJldltrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9LCB7fSk7XG4gIH1cbiAgaWYgKHBhcnRzLmFzc2V0VHlwZSAmJiBBU1NFVF9UWVBFU19TRU8uaW5jbHVkZXMocGFydHMuYXNzZXRUeXBlKSkge1xuICAgIGNvbnN0IHB1YmxpY0lkUGFydHMgPSBwYXJ0cy5wdWJsaWNJZD8uc3BsaXQoXCIvXCIpIHx8IFtdO1xuICAgIHBhcnRzLnNlb1N1ZmZpeCA9IHB1YmxpY0lkUGFydHMucG9wKCk7XG4gICAgcGFydHMucHVibGljSWQgPSBwdWJsaWNJZFBhcnRzLmpvaW4oXCIvXCIpO1xuICB9XG4gIGlmIChwYXJ0cy5wdWJsaWNJZCkge1xuICAgIHBhcnRzLnB1YmxpY0lkID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzLnB1YmxpY0lkKTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5mdW5jdGlvbiBnZXRQdWJsaWNJZChzcmMpIHtcbiAgY29uc3QgeyBwdWJsaWNJZCB9ID0gcGFyc2VVcmwoc3JjKSB8fCB7fTtcbiAgcmV0dXJuIHB1YmxpY0lkO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtYXRpb25zKHNyYykge1xuICBjb25zdCB7IHRyYW5zZm9ybWF0aW9ucyA9IFtdIH0gPSBwYXJzZVVybChzcmMpIHx8IHt9O1xuICByZXR1cm4gdHJhbnNmb3JtYXRpb25zLm1hcCgodCkgPT4gdC5zcGxpdChcIixcIikpO1xufVxuZnVuY3Rpb24gZ2V0Rm9ybWF0KHNyYykge1xuICBjb25zdCBtYXRjaGVzID0gc3JjLm1hdGNoKFJFR0VYX0ZPUk1BVCk7XG4gIGlmIChtYXRjaGVzID09PSBudWxsKSByZXR1cm47XG4gIHJldHVybiBtYXRjaGVzWzBdO1xufVxuYXN5bmMgZnVuY3Rpb24gcG9sbEZvclByb2Nlc3NpbmdJbWFnZShvcHRpb25zKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChvcHRpb25zLnNyYyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDIzKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgIHJldHVybiBhd2FpdCBwb2xsRm9yUHJvY2Vzc2luZ0ltYWdlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIGVycm9yOiByZXNwb25zZS5oZWFkZXJzLmdldChcIngtY2xkLWVycm9yXCIpIHx8IFwiVW5rbm93biBlcnJvclwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8IFwiTmV0d29yayBlcnJvclwiXG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvbGliL2NvbG9ycy50c1xuZnVuY3Rpb24gdGVzdENvbG9ySXNIZXgodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gISF2YWx1ZS5zdGFydHNXaXRoKFwiI1wiKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRDb2xvckhleFRvUmdiKHZhbHVlKSB7XG4gIHJldHVybiBgcmdiOiR7dmFsdWUucmVwbGFjZShcIiNcIiwgXCJcIil9YDtcbn1cblxuLy8gc3JjL2xpYi91dGlsLnRzXG5mdW5jdGlvbiBlbmNvZGVCYXNlNjQodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gYnRvYSh2YWx1ZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20odmFsdWUpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICB9XG59XG5mdW5jdGlvbiBvYmplY3RIYXNLZXkob2JqLCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5mdW5jdGlvbiBzb3J0QnlLZXkoYXJyYXkgPSBbXSwga2V5LCB0eXBlID0gXCJhc2NcIikge1xuICBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICBsZXQga2V5QSA9IGFba2V5XTtcbiAgICBsZXQga2V5QiA9IGJba2V5XTtcbiAgICBpZiAodHlwZW9mIGtleUEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGtleUEgPSBrZXlBLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yga2V5QiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAga2V5QiA9IGtleUIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKGtleUEgPCBrZXlCKSByZXR1cm4gLTE7XG4gICAgaWYgKGtleUEgPiBrZXlCKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBsZXQgbmV3QXJyYXkgPSBbLi4uYXJyYXldO1xuICBpZiAodHlwZW9mIGtleSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIG5ld0FycmF5O1xuICBuZXdBcnJheSA9IG5ld0FycmF5LnNvcnQoY29tcGFyZSk7XG4gIGlmICh0eXBlID09PSBcImRlc2NcIikge1xuICAgIHJldHVybiBuZXdBcnJheS5yZXZlcnNlKCk7XG4gIH1cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuZXhwb3J0IHtcbiAgY29udmVydENvbG9ySGV4VG9SZ2IsXG4gIGVuY29kZUJhc2U2NCxcbiAgZ2V0Rm9ybWF0LFxuICBnZXRQdWJsaWNJZCxcbiAgZ2V0VHJhbnNmb3JtYXRpb25zLFxuICBvYmplY3RIYXNLZXksXG4gIHBhcnNlVXJsLFxuICBwb2xsRm9yUHJvY2Vzc2luZ0ltYWdlLFxuICBzb3J0QnlLZXksXG4gIHRlc3RDb2xvcklzSGV4XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\n");

/***/ })

};
;